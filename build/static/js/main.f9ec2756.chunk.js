(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,r){},132:function(e,t,r){},134:function(e,t,r){},136:function(e,t,r){},137:function(e,t,r){},138:function(e,t,r){},139:function(e,t,r){},140:function(e,t,r){},141:function(e,t,r){},142:function(e,t,r){},143:function(e,t,r){},147:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(24),c=r.n(s),i=(r(114),r(102)),o=r(21),u=r(29),l=r(4),d=r.n(l),f=r(8),h=r(81),p=r(38),b=r(5),j=r(15),m=r.n(j),v=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/tags/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={filter:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/filter",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(d.a.mark((function e(t,r){var n,a,s,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",a={pageNumber:t,pageSize:r,filter:n},e.next=4,m()({url:"https://kinkograph.herokuapp.com/pictures/page",method:"POST",data:a});case 4:if(!(200!==(s=e.sent).status&201!==s.status)){e.next=11;break}if(401!==s.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(s.status));case 11:return e.abrupt("return",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(d.a.mark((function e(){var t,r,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r={filter:t},e.next=4,m()({url:"https://kinkograph.herokuapp.com/pictures/total/",method:"POST",data:r});case 4:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=11;break}if(401!==n.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(n.status));case 11:return e.abrupt("return",n.data[0].count);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=new function e(){var t=this;Object(p.a)(this,e),this.PAGE_SIZE=100,this.pageNumber=1,this.totalPictures=0,this.selected=null,this.lastPageReached=!1,this.showOverlay=!1,this.isGalleryLoading=!0,this.galleryNeedsRefresh=!0,this.showFilterSelect=!1,this.isTagInputActive=!1,this.allPictures=[],this.tags=[],this.filter=[],this.fetchPictures=Object(f.a)(d.a.mark((function e(){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t.pageNumber,t.PAGE_SIZE,t.filter);case 3:return r=e.sent,e.next=6,O(t.filter);case 6:return n=e.sent,r.length<t.PAGE_SIZE?w.setLastPageReached(!0):w.setLastPageReached(!1),e.next=10,g(t.filter);case 10:return a=e.sent,e.next=13,Promise.all(r.map((function(e){return t=e,new Promise((function(e,r){var n=new Image;n.src=t.url_thumb,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}}));var t})));case 13:w.setTags(a),t.setAllPictures(r),t.setTotalPictures(n),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:w.setIsGalleryLoading(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),this.nextPageHandler=function(){var e=Object(f.a)(d.a.mark((function e(r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.setIsGalleryLoading(!0),!r){e.next=8;break}return n=t.pageNumber+1,t.pageNumber=n,e.next=6,t.fetchPictures(n);case 6:e.next=12;break;case 8:return a=t.pageNumber-1,t.pageNumber=a,e.next=12,t.fetchPictures(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setPageNumber=function(e){t.pageNumber=e},this.setLastPageReached=function(e){t.lastPageReached=e},this.setShowOverlay=function(e){t.showOverlay=e},this.changeSelected=function(){var e=Object(f.a)(d.a.mark((function e(r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selected,a=t.allPictures.length-1,!r){e.next=12;break}if(n!==a){e.next=9;break}return e.next=6,t.nextPageHandler(!0);case 6:t.selected=0,e.next=10;break;case 9:t.selected=n+1;case 10:e.next=19;break;case 12:if(0!==n){e.next=18;break}return e.next=15,t.nextPageHandler(!1);case 15:t.selected=a,e.next=19;break;case 18:t.selected=n-1;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setSelected=function(){var e=Object(f.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.selected=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setAllPictures=function(e){t.allPictures=e},this.setTotalPictures=function(e){t.totalPictures=e},this.addFilter=function(){var e=Object(f.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter.push(r);case 2:w.setIsGalleryLoading(!0),w.setPageNumber(1),w.fetchPictures();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setFilter=function(e){t.filter=e,w.setIsGalleryLoading(!0),t.setPageNumber(1),w.fetchPictures()},this.setIsGalleryLoading=function(e){t.isGalleryLoading=e},this.setGalleryNeedsRefresh=function(e){t.galleryNeedsRefresh=e},this.setShowFilterSelect=function(e){t.showFilterSelect=e},this.setIsTagInputActive=function(e){t.isTagInputActive=e},this.setTags=function(e){t.tags=e},Object(b.m)(this,{pageNumber:b.n,setPageNumber:b.f,lastPageReached:b.n,setLastPageReached:b.f,showOverlay:b.n,setShowOverlay:b.f,selected:b.n,setSelected:b.f,changeSelected:b.f,allPictures:b.n,setAllPictures:b.f,totalPictures:b.n,setTotalPictures:b.f,filter:b.n,addFilter:b.f,setFilter:b.f,isGalleryLoading:b.n,setIsGalleryLoading:b.f,galleryNeedsRefresh:b.n,setGalleryNeedsRefresh:b.f,showFilterSelect:b.n,setShowFilterSelect:b.f,fetchPictures:b.f,nextPageHandler:b.f,tags:b.n,setTags:b.f,isTagInputActive:b.n,setIsTagInputActive:b.f})},k=r(152),y=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={favorites:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/pictures/favorites/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={favorites:JSON.stringify(t)},e.next=3,m()({url:"https://kinkograph.herokuapp.com/user/favorites",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=new function e(){var t=this;Object(p.a)(this,e),this.favoritesId=[],this.favoriteObjectLoading=!0,this.favoriteObject=[],this.showFavorites=!1,this.fetchFavoriteObject=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(E.favoritesId.length>0)){e.next=6;break}return e.next=4,y(E.favoritesId);case 4:t=e.sent,E.setFavoriteObject(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:E.setFavoriteObjectLoading(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.setFavoriteObject=function(e){t.favoriteObject=e},this.setFavoriteObjectLoading=function(e){t.favoriteObjectLoading=e},this.setShowFavorites=function(){var e=Object(f.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showFavorites=r,r&&E.fetchFavoriteObject();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addToFavoritesId=function(e){t.favoritesId.findIndex((function(t){return t===e}))<0&&t.favoritesId.push(e),_(t.favoritesId)},this.deleteFromFavoritesId=function(e){var r=t.favoritesId.findIndex((function(t){return t===e}));t.favoritesId.splice(r,1),_(t.favoritesId)},this.setFavoritesId=function(e){t.favoritesId=e},Object(b.m)(this,{favoriteObject:b.n,setFavoriteObject:b.f,favoriteObjectLoading:b.n,setFavoriteObjectLoading:b.f,fetchFavoriteObject:b.f,showFavorites:b.n,setShowFavorites:b.f,favoritesId:b.n,addToFavoritesId:b.f,setFavoritesId:b.f,deleteFromFavoritesId:b.f})},N=(r(132),r(1)),I=Object(u.a)((function(e){var t=E.favoritesId.findIndex((function(t){return t===e.picture.id})),r=function(t){var r=document.getElementById("tag_".concat(e.picture.id)),n=document.getElementById("pic_".concat(e.picture.id));t?(r.style.visibility="visible",r.style.opacity=1,n.style.filter="brightness(50%) grayscale(1)"):(r.style.visibility="hidden",r.style.opacity=0,n.style.filter="brightness(100%) grayscale(0)")};return Object(N.jsx)(n.Fragment,{children:Object(N.jsxs)("div",{className:"picture__container",onClick:function(){w.setShowOverlay(!0);var t=w.allPictures.findIndex((function(t){return t.id===e.picture.id}));w.setSelected(t)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(N.jsx)("img",{id:"pic_".concat(e.picture.id),className:"picture \n          ".concat(!e.picture.tags&&"picture__bluryGray"," \n          ").concat(t>=0&&"halo"," "),src:e.picture.url_thumb,alt:e.picture.id},e.picture.id),Object(N.jsx)("div",{className:"picture__tagMissing",children:!e.picture.tags&&"TAGS MISSING"}),Object(N.jsxs)("div",{id:"tag_".concat(e.picture.id),className:"picture__tagShow",children:[Object(N.jsx)(k.a,{}),Object(N.jsxs)("div",{className:"picture__id",children:["#",e.picture.id]})]})]})})})),S=r(23),P=r(153),T=r(154),F=r(53),C=r(155),L=r(151),B=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/user",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data[0]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=new function e(){var t=this;Object(p.a)(this,e),this.email=null,this.infos=null,this.name="there",this.username=null,this.isAdmin=!1,this.setEmail=function(e){t.email=e},this.setInfos=function(e){t.infos=e},this.setName=function(e){t.name=e},this.setUsername=function(e){t.username=e},this.setIsAdmin=function(e){t.isAdmin=e},this.fetchuserData=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,A.setEmail(t.email),A.setInfos(t.infos),A.setName(t.name),A.setUsername(t.username),t.favorites&&E.setFavoritesId(JSON.parse(t.favorites)),t.is_admin&&A.setIsAdmin(t.is_admin);case 9:case"end":return e.stop()}}),e)}))),Object(b.m)(this,{fetchuserData:b.f,setEmail:b.f,email:b.n,setInfos:b.f,infos:b.n,setName:b.f,name:b.n,setUsername:b.f,username:b.n,isAdmin:b.n,setIsAdmin:b.f})},D=(r(134),Object(u.a)((function(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(!1),c=w.allPictures[w.selected],i=E.favoritesId.findIndex((function(e){return e===c.id}))>=0,o=1===w.pageNumber&&0===w.selected,u=w.lastPageReached&&w.allPictures.length===w.selected+1,l=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),r=new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}})),e.next=4,r;case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c&&l(c.url_med)}),[c]);var p=function(e){var t=document.getElementById("closeButton");e?(t.style.visibility="hidden",t.style.opacity=0):(t.style.visibility="visible",t.style.opacity=1)},b=Object(n.useCallback)((function(e){if(!A.isGuest){var t=document.getElementById("heart"),r=document.getElementById("unheart");i?(r.style.visibility="visible",r.style.opacity=.5,r.style.fontSize="30em",setTimeout((function(){r.style.visibility="hidden",r.style.opacity=0,r.style.fontSize="1em"}),500),E.deleteFromFavoritesId(e)):(t.style.visibility="visible",t.style.opacity=.5,t.style.fontSize="50em",setTimeout((function(){t.style.visibility="hidden",t.style.opacity=0,t.style.fontSize="1em"}),500),E.addToFavoritesId(e))}}),[i]),j=Object(n.useCallback)((function(e){e.preventDefault();var t=e.key.toLowerCase(),r=document.getElementById("nextButton"),n=document.getElementById("previousButton");!1===s.current&&(s.current=!0,"arrowdown"!==t&&"arrowright"!==t||u?"arrowup"!==t&&"arrowleft"!==t||o?"enter"===t?b(c.id):"escape"===t&&w.setShowOverlay(!1):(n.style.backgroundColor="rgba(255,255,255,.15)",w.changeSelected(!1),setTimeout((function(){n.style.backgroundColor="rgba(255,255,255, 0)"}),100)):(r.style.backgroundColor="rgba(255,255,255,.15)",w.changeSelected(!0),setTimeout((function(){r.style.backgroundColor="rgba(255,255,255, 0)"}),100)),setTimeout((function(){s.current=!1}),100))}),[c,b,o,u]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",j),function(){document.removeEventListener("keydown",j)}}),[j]),Object(N.jsxs)("div",{className:"overlay__overlay",children:[Object(N.jsx)("div",{className:"overlay__background",onClick:function(){w.setShowOverlay(!1)}}),!o&&Object(N.jsx)("div",{className:"overlay__columnLeft",id:"previousButton",onClick:function(){w.changeSelected(!1)},children:Object(N.jsx)(P.a,{})}),!u&&Object(N.jsx)("div",{className:"overlay__columnRight",id:"nextButton",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onClick:function(){w.changeSelected(!0)},children:Object(N.jsx)(T.a,{})}),Object(N.jsx)(L.a,{placement:"bottomLeft",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "})," The keys \u2190 and \u2192 will let you navigate through the pictures. You can use the ",Object(N.jsx)("i",{children:"esc"})," key, or click outside the picture to go back to the gallery."]}),children:Object(N.jsx)("div",{className:"overlay__closeButton",id:"closeButton",onClick:function(){w.setShowOverlay(!1)},children:Object(N.jsx)(F.a,{})})}),r?Object(N.jsx)(h.a,{className:"overlay__spinner"}):Object(N.jsxs)("div",{className:"overlay__pictureContainer",onDoubleClick:function(){b(c.id)},children:[Object(N.jsxs)("div",{className:"overlay__infoAction",children:[c&&Object(N.jsxs)("div",{className:"overlay__info",children:["#",c.id]}),Object(N.jsx)("div",{className:"overlay__action",children:!A.isGuest&&(i?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("span",{role:"img","aria-label":"heart",style:{fontSize:".75em"},children:"\u2764\ufe0f"})," ","Marked as favorite!"]}):"Doubleclick/Enter to mark as favorite.")})]}),Object(N.jsxs)("div",{className:"overlay__pictureHover",children:[Object(N.jsx)("div",{className:"overlay__pictureWatermark",children:"KINKOGRAPH"}),Object(N.jsx)(C.a,{id:"heart",className:"overlay__heart"}),Object(N.jsx)(F.a,{id:"unheart",className:"overlay__heart"})]}),c&&Object(N.jsx)("img",{className:"overlay__picture",src:c.url_med,alt:c.id},"img__".concat(c.id)),c&&Object(N.jsx)("div",{className:"overlay__tags",children:JSON.parse(c.tags).map((function(e){return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsxs)("span",{onClick:function(){return function(e){w.setShowOverlay(!1),w.addFilter(e)}(e)},children:["#",e]}),"\xa0"]})}))})]})]})}))),G=r(149);function U(e){return void 0===e||null===e?null:e.charAt(0).toUpperCase()+e.slice(1)}r(136);var H=Object(u.a)((function(){var e=G.a.Option,t=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.setIsGalleryLoading(!0),r=t.map((function(e){return U(e)})),w.setFilter(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(N.jsxs)("div",{className:"galleryHeader__main",children:[Object(N.jsx)("div",{className:"galleryHeader__left",children:E.favoritesId.length?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsxs)("div",{className:"galleryHeader__BigFont galleryHeader__favorite",onClick:function(){E.setShowFavorites(!0)},children:[E.favoritesId.length," picture",E.favoritesId.length>1&&"s"]}),Object(N.jsxs)("div",{className:"galleryHeader__SmallFont",children:["marked as favorite",E.favoritesId.length>1&&"s"]})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(L.a,{placement:"bottomLeft",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "}),"Mark some pictures as your favorites: Then we both look at those, and plan a inspired shoot."]}),children:Object(N.jsxs)("div",{className:"galleryHeader__BigFont galleryHeader__favorite",children:["Hello ",A.name,","]})}),Object(N.jsx)("div",{className:"galleryHeader__SmallFont",children:"What will inspire you today?"})]})}),Object(N.jsx)("div",{className:"galleryHeader__center",onFocus:function(){w.setIsTagInputActive(!0)},onBlur:function(){w.setIsTagInputActive(!1)},children:w.filter.length>0||w.showFilterSelect?Object(N.jsx)(G.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a filter",defaultValue:w.filter,onChange:t,className:"galleryHeader__selectFilter",optionLabelProp:"label",children:w.tags.map((function(t){return Object(N.jsx)(e,{value:t.tag,label:t.tag,children:Object(N.jsxs)("div",{className:"demo-option-label-item",children:[t.tag," ",Object(N.jsxs)("span",{className:"light",children:["(",t.occur,")"]})]})})}))}):Object(N.jsxs)("div",{className:"galleryHeader__setFilter",onClick:function(){w.setShowFilterSelect(!0)},children:["{click here to"," ",Object(N.jsx)("span",{className:"galleryHeader__wordFilter",children:"filter"})," the results}"]})}),Object(N.jsx)("div",{className:"galleryHeader__right",children:Object(N.jsx)(L.a,{placement:"bottomRight",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "}),"You can use the \u2190 and \u2192 keys to navigate through the pages, and the \u2191 and \u2193 keys to scroll the page."]}),children:Object(N.jsxs)("div",{className:"galleryHeader__pageInfo",children:[Object(N.jsxs)("div",{className:"galleryHeader__BigFont",children:[Object(N.jsxs)("b",{children:["Page ",w.pageNumber]}),Object(N.jsxs)("span",{style:{fontSize:"0.7em"},children:[" ","/"," ",Math.ceil(w.totalPictures/w.PAGE_SIZE,0)]})]}),Object(N.jsxs)("div",{className:"galleryHeader__SmallFont",children:[(w.pageNumber-1)*w.PAGE_SIZE+1,"-",Math.min(w.pageNumber*w.PAGE_SIZE,w.totalPictures)," ","of ",w.totalPictures]})]})})})]})})),R=(r(137),r(150)),z=(r(138),Object(u.a)((function(){var e=Object(n.useCallback)((function(){E.setShowFavorites(!1)}),[]);return Object(N.jsx)(R.a,{title:Object(N.jsxs)("span",{className:"FavoritesDrawer__Title",children:["Your ",E.favoritesId.length," favorite",E.favoritesId.length>1&&"s"]}),placement:"left",closable:!0,onClose:function(){return e(!1)},visible:E.showFavorites,width:"50%",children:E.favoriteObjectLoading?Object(N.jsx)("div",{children:" Loading... "}):Object(N.jsx)("div",{children:E.favoriteObject.map((function(e){return Object(N.jsxs)("div",{className:"FavoritesDrawer__pictureContainer",children:["#",e.id,Object(N.jsx)("img",{className:"FavoritesDrawer__picture",src:e.url_med,alt:e.id},e.id)]})}))})})}))),M=Object(u.a)((function(){var e=Object(n.useRef)(!1);Object(n.useEffect)((function(){w.galleryNeedsRefresh&&(w.fetchPictures(),w.setGalleryNeedsRefresh(!1))}),[w.galleryNeedsRefresh]);var t=Object(n.useCallback)((function(e){var t,r=.8*window.innerHeight,n=window.scrollY;"down"===e?t=n+r:"up"===e&&(t=Math.max(n-r,0)),window.scroll({top:t,left:0,behavior:"smooth"})}),[]),r=Object(n.useCallback)((function(r){var n=r.key.toLowerCase();"arrowright"!==n&&"arrowleft"!==n&&"arrowdown"!==n&&"arrowup"!==n||(r.preventDefault(),w.showOverlay||w.isTagInputActive||!1===e.current&&(e.current=!0,"arrowright"!==n||w.lastPageReached?"arrowleft"===n&&w.pageNumber>1?(w.setShowFilterSelect(!1),a(!1)):"arrowdown"===n?t("down"):"arrowup"===n&&t("up"):(w.setShowFilterSelect(!1),a(!0)),setTimeout((function(){e.current=!1}),100)))}),[t]),a=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.nextPageHandler(t);case 2:window.scroll({top:0,left:0,behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[r]),Object(N.jsxs)("div",{className:"gallery",children:[Object(N.jsx)(H,{}),Object(N.jsx)(z,{}),w.isGalleryLoading?Object(N.jsxs)("div",{className:"App__flex",children:[Object(N.jsx)(h.a,{className:"Gallery__spinner"}),Object(N.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(N.jsxs)(n.Fragment,{children:[w.showOverlay&&Object(N.jsx)(D,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"gallery__main",children:w.allPictures.map((function(e,t){return Object(N.jsx)("div",{className:"gallery__picSpacer",children:Object(N.jsx)(I,{picture:e},e.id)})}))}),Object(N.jsx)("div",{className:"gallery__next",children:Object(N.jsxs)("div",{className:"gallery__nextTextContainer",children:[1===w.pageNumber?"Previous":Object(N.jsx)("span",{className:"gallery__nextText",onClick:function(){return a(!1)},children:"Previous"})," |\xa0",w.lastPageReached?"Next":Object(N.jsx)("span",{className:"gallery__nextText",onClick:function(){return a(!0)},children:"Next"})]})})]})]})]})})),J=r(160),Z=r(161),Y=r(106),W=r(159),K=r(156),V=r(157),q=r(158),Q=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tag_name:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tags:JSON.stringify(t)},e.next=3,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/".concat(r),method:"PATCH",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/".concat(t),method:"DELETE"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=(r(139),function(e){var t=Object(n.useState)([]),r=Object(S.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)([]),i=Object(S.a)(c,2),o=i[0],u=i[1],l=Object(n.useState)(!1),h=Object(S.a)(l,2),p=h[0],b=h[1],j=G.a.Option,m=Object(n.useCallback)(Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t=e.sent,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),g=Object(n.useCallback)((function(t){e.setShowUploader&&e.setShowUploader(!0),e.setShowDrawer(!1),t&&e.reload()}),[e]);Object(n.useEffect)((function(){m(),null!==JSON.parse(e.picture.tags)&&s(JSON.parse(e.picture.tags))}),[m,e.picture.tags]);var x=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.map((function(e){return U(e)})),s(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),O=Object(n.useCallback)(Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=6;break}return t.next=3,a.map(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.findIndex((function(e){return e===U(t)}))<0)){e.next=6;break}return e.next=4,Q(t);case 4:"success"===e.sent.value&&console.log("".concat(t," was added to the lists of tags."));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,X(a,e.picture.id);case 5:g(!0);case 6:case"end":return t.stop()}}),t)}))),[a,o,g,e.picture.id]),w=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==p){e.next=6;break}return e.next=3,$(t);case 3:g(!0),e.next=8;break;case 6:b(!0),setTimeout((function(){b(!1)}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,g]);return Object(N.jsxs)(R.a,{title:Object(N.jsxs)("span",{className:"Drawer__Title",children:["Edit picture id #",e.picture.id]}),placement:"left",closable:!0,onClose:function(){return g(!1)},visible:e.showDrawer,width:"42.5%",children:[Object(N.jsx)("div",{className:"Drawer__font",children:"Preview:"}),Object(N.jsx)("img",{className:"Drawer_picture",src:e.picture.url_med,alt:e.picture.id,style:{maxWidth:"100%",maxHeight:window.innerHeight/2.5}},e.picture.id),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"Drawer__font",children:"Tags:"}),Object(N.jsx)(G.a,{mode:"tags",allowClear:!1,style:{width:"100%"},placeholder:"Add some tags",onChange:x,defaultValue:null!==e.picture.tags?JSON.parse(e.picture.tags):void 0,children:o.map((function(e){return Object(N.jsx)(j,{children:U(e.tag_name)},U(e.tag_name))}))}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"Drawer__buttonContainer",children:[Object(N.jsxs)("div",{className:a.length<1?"Drawer__buttonDisabled":"Drawer__button",onClick:O,children:[Object(N.jsx)(K.a,{})," \xa0 Save"]}),Object(N.jsx)("div",{className:p?"Drawer__buttonConfirmAction":"Drawer__button",onClick:function(){return w(e.picture.key)},children:p?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(V.a,{})," ARE YOU SURE",Object(N.jsx)(q.a,{})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(V.a,{}),"\xa0 Delete"]})})]})]},"drawer".concat(e.picture.id))}),te=(r(140),function(e){var t=Object(n.useState)(!1),r=Object(S.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(!1),i=Object(S.a)(c,2),o=i[0],u=i[1],l=function(t){if(null===e.totalMissingTag){s(t);var r=document.getElementById(e.picture.id);r.style.filter=t?"brightness(50%) blur(2px)":"brightness(100%) blur(0px)"}},d=function(){setTimeout((function(){e.setShowUploader(!1)}),300),u(!0)};return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(ee,{picture:e.picture,showDrawer:o,setShowDrawer:u,reload:e.reload,setShowUploader:e.setShowUploader}),Object(N.jsxs)("div",{className:"EditPictures__missingPicture",children:[null===e.totalMissingTag?a&&Object(N.jsx)("div",{className:"EditPictures__missingPictureOverText",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:d,children:Object(N.jsx)(W.a,{})}):Object(N.jsxs)("div",{className:"EditPictures__missingPictureRest",children:["+",e.totalMissingTag]}),Object(N.jsx)("img",{className:e.totalMissingTag&&"EditPictures__bluryGray",id:e.picture.id,src:e.picture.url_thumb,alt:e.picture.id,width:e.size,height:e.size,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:d})]})]})}),re=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,m.a.post("https://kinkograph.herokuapp.com/pictures",r);case 5:return e.abrupt("return","success");case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return","error");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/pictures/duplicate",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/tagsmissing/".concat(t),method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/pictures/tagsmissingcount/",method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data[0].count);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=(r(141),function(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(S.a)(s,2),i=c[0],o=c[1],u=Object(n.useState)([]),l=Object(S.a)(u,2),p=l[0],b=l[1],j=Object(n.useState)(!0),m=Object(S.a)(j,2),v=m[0],g=m[1],x=Object(n.useState)([0,0]),O=Object(S.a)(x,2),w=O[0],k=O[1],y=Object(n.useState)(void 0),_=Object(S.a)(y,2),E=_[0],I=_[1],P=Object(n.useState)(null),T=Object(S.a)(P,2),F=T[0],C=T[1],L=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:r=e.sent,Y.a[r]({message:"Upload ".concat(r),description:"File: ".concat(t.name)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),B=Object(n.useCallback)(Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:t=e.sent,C(t-E),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[E]),A=Object(n.useCallback)((function(){var e=window.innerWidth,t=window.innerHeight,r=Math.floor(.4*e),n=Math.floor(.75*t),a=Math.floor(r/184)*Math.floor(n/180);return I(a),a}),[]),D=Object(n.useCallback)(Object(f.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:return t=e.sent,e.next=6,ae(t);case 6:return r=e.sent,e.next=9,B();case 9:b(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[B,A]),G=Object(n.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),!t.target.files[0]){e.next=12;break}return r=t.target.files[0].name.split(".")[0],e.next=5,ne(r);case 5:if(0!==e.sent.length){e.next=11;break}return e.next=9,L(t.target.files[0]);case 9:e.next=12;break;case 11:Y.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(t.target.files[0].name,"'")});case 12:a(!1),setTimeout((function(){D(E)}),500);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D,E,L]);Object(n.useEffect)((function(){return D(),window.addEventListener("resize",A),function(){window.removeEventListener("resize",A)}}),[D,A]);var U=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n,s,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),r=t.dataTransfer.files,n=r.length,k([0,n]),s=0;case 6:if(!(s<n)){e.next=24;break}if(a(!0),k([s,n]),!r[s]){e.next=21;break}return c=r[s],i=c.name.split(".")[0],e.next=14,ne(i);case 14:if(0!==e.sent.length){e.next=20;break}return e.next=18,L(c);case 18:e.next=21;break;case 20:Y.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(i,"'")});case 21:s++,e.next=6;break;case 24:k([0,0]),a(!1),setTimeout((function(){D(E)}),1e3);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"Uploader__container",children:[Object(N.jsx)("div",{className:"Uploader__formContainer",children:v&&Object(N.jsx)("div",{className:"Uploader__formContent",style:p.length?{width:"50vw"}:{width:"100vw"},children:Object(N.jsxs)("form",{onSubmit:L,children:[Object(N.jsx)("input",{type:"file",className:"inputfile",name:"inputfile",id:"file",onChange:G}),r?Object(N.jsxs)("label",{htmlFor:"file",style:p.length?{width:"35vw"}:{width:"75vw"},children:[Object(N.jsx)(h.a,{className:"Uploader__spinner"}),w[1]?Object(N.jsxs)("p",{className:"form-upload-text",children:[w[0]," of ",w[1]]}):Object(N.jsx)("p",{className:"form-upload-text",children:"Loading"})]}):Object(N.jsx)("label",{htmlFor:"file",onDrop:U,onDragOver:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},onDragEnter:function(e){return function(e){e.preventDefault(),e.stopPropagation(),o(!0)}(e)},onDragLeave:function(e){return function(e){e.preventDefault(),e.stopPropagation(),o(!1)}(e)},style:p.length?{width:"35vw"}:{width:"75vw"},children:i?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("p",{className:"form-upload-drag-icon",children:Object(N.jsx)(Z.a,{})}),Object(N.jsxs)("p",{className:"form-upload-hint",children:["Drop your files here ",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:"Multiple files supported"})]}),Object(N.jsx)("p",{className:"form-upload-text"})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("p",{className:"form-upload-drag-icon",children:Object(N.jsx)(J.a,{})}),Object(N.jsxs)("p",{className:"form-upload-hint",children:["Click, or drag here a file ",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:"jpg and png file only"})]})]})})]})})}),p.length>0&&Object(N.jsx)("div",{className:"Uploader__missingContainer",children:Object(N.jsx)("div",{className:"Uploader__missingContent",children:p.map((function(e,t){return Object(N.jsx)(te,{picture:e,size:150,setShowUploader:g,reload:D,totalMissingTag:t+1===E?F:null},e.id)}))})})]})}),ie=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/login/",method:"DELETE"});case 2:if(204===(t=e.sent).status){e.next=5;break}throw new Error("Error ou Logout! Status ".concat(t.status));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=new function e(){var t=this;Object(p.a)(this,e),this.token=null,this.refreshToken=localStorage.getItem("refreshToken")||null,this.isGuest=!0,this.hasAccess=!1,this.setToken=function(e){t.token=e},this.setRefreshToken=function(e){t.refreshToken=e,localStorage.setItem("refreshToken",e)},this.logout=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.clear(),oe.setToken(null),oe.setRefreshToken(null),e.next=8,ie();case 8:case"end":return e.stop()}}),e)}))),this.setIsGuest=function(e){t.isGuest=e},this.setHasAccess=function(e){t.hasAccess=e},Object(b.m)(this,{token:b.n,setToken:b.f,refreshToken:b.n,setRefreshToken:b.f,logout:b.f,isGuest:b.n,setIsGuest:b.f,hasAccess:b.n,setHasAccess:b.f})},ue=function(){var e=Object(f.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={code:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/login/code",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=(r(142),function(e){var t=Object(n.useState)(1),r=Object(S.a)(t,2),a=r[0],s=r[1],c=Object(n.useCallback)((function(t){t.preventDefault();var r=t.key.toLowerCase();if("backspace"===r)a>1&&(document.getElementById(a-1).value="",s(a-1));else if(r.length>1);else if(document.getElementById(a).value=r,s(a+1),a+1===7){s(1);var n=document.getElementById(1).value+document.getElementById(2).value+document.getElementById(3).value+document.getElementById(4).value+document.getElementById(5).value+document.getElementById(6).value;setTimeout((function(){document.getElementById(1).focus(),document.getElementById(1).value="",document.getElementById(2).value="",document.getElementById(3).value="",document.getElementById(4).value="",document.getElementById(5).value="",document.getElementById(6).value="",s(1),e.login(n)}),500)}}),[e,a]),i=function(e){var t=parseInt(e.target.id,10),r=a;""===document.getElementById(1).value?s(r=1):""===document.getElementById(2).value?s(r=2):""===document.getElementById(3).value?s(r=3):""===document.getElementById(4).value?s(r=4):""===document.getElementById(5).value?s(r=5):""===document.getElementById(6).value&&s(r=6),document.getElementById(t).blur(),document.getElementById(r).focus()};return Object(n.useEffect)((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[c]),Object(N.jsx)("div",{children:Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{id:"1",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",style:{marginLeft:"20px"},autoComplete:"new-password"}),Object(N.jsx)("input",{id:"2",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:i,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"3",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:i,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"4",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:i,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"5",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:i,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"6",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:i,style:{width:"40px"},autoComplete:"new-password"})]})})}),de=function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:200===(r=e.sent).status&&("guest"===r.data.userId?oe.setIsGuest(!0):(oe.setToken(r.data.token),oe.setRefreshToken(r.data.refreshToken),oe.setIsGuest(!1),A.fetchuserData()),oe.setHasAccess(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(le,{login:e})};m.a.interceptors.request.use(function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=oe.token)&&(t.headers=Object.assign({Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}))}catch(n){console.log(n)}return e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("Interceptor Error",e),Promise.reject(e)}));r(143);var fe=Object(u.a)((function(){return Object(N.jsx)(i.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsx)("div",{className:"App__main",children:Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{path:"/admin",children:Object(N.jsx)(ce,{})}),Object(N.jsx)(o.a,{path:"/",children:Object(N.jsx)("div",{className:"App__flex",children:oe.hasAccess?Object(N.jsx)(M,{}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("div",{className:"App__title",children:"\xa0kinkograph"}),Object(N.jsx)(de,{}),Object(N.jsx)("div",{className:"spacer"})]})})})]})})})})})),he=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,162)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(fe,{})}),document.getElementById("root")),he()}},[[147,1,2]]]);
//# sourceMappingURL=main.f9ec2756.chunk.js.map