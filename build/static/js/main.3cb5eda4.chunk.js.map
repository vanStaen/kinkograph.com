{"version":3,"sources":["store/calls/getTags.js","store/calls/getPictures.js","store/pictureStore.js","store/calls/getFavoritesPictures.js","store/calls/postUserFavorites.js","store/favoriteStore.js","component/PictureThumb/PictureThumb.jsx","store/calls/getUserInfo.js","store/userStore.js","component/GalleryOverlay/GalleryOverlay.jsx","helpers/capitalizeFirstLetter.js","pages/Gallery/GalleryHeader/GalleryHeader.jsx","component/FavoritesDrawer/FavoritesDrawer.jsx","pages/Gallery/Gallery.jsx","store/calls/postTag.js","store/calls/patchPicture.js","store/calls/deletePicture.js","pages/Admin/Uploader/EditDrawer/EditDrawer.jsx","pages/Admin/Uploader/EditPictures/EditPictures.jsx","store/calls/postPicture.js","store/calls/getDuplicate.js","store/calls/getTagsMissing.js","pages/Admin/Uploader/Uploader.jsx","pages/Admin/AdminHeader/AdminHeader.jsx","pages/Admin/UserAdmin/getUsers.js","pages/Admin/UserAdmin/UserInfos/UserInfos.jsx","pages/Admin/UserAdmin/UserAdmin.jsx","store/calls/postEditTag.js","store/calls/deleteTag.js","pages/Admin/TagAdmin/TagAdmin.jsx","pages/Admin/PicAdmin/PicThumbAdmin.jsx","pages/Admin/PicAdmin/PicAdmin.jsx","pages/Admin/Admin.jsx","store/calls/deleteLogout.js","store/calls/postLoginToken.js","store/authStore.js","store/calls/postLoginCode.js","component/PinInput/PinInput.jsx","helpers/checkMobileTablet.js","component/Login/Login.jsx","helpers/isTokenValid.js","helpers/axiosInterceptor.js","App.jsx","reportWebVitals.js","index.js"],"names":["getTags","a","axios","url","process","method","response","status","Error","data","getFilteredTags","filter","requestBody","getPictures","limit","showMissing","getPicturesPerPage","pageNumber","pageSize","getTotalPictures","count","pictureStore","PAGE_SIZE","totalPictures","selected","lastPageReached","showOverlay","isGalleryLoading","galleryNeedsRefresh","showFilterSelect","isTagInputActive","allPictures","tags","fetchPictures","pictures","length","setLastPageReached","Promise","all","map","picture","image","resolve","reject","loadImg","Image","src","url_thumb","onload","onerror","err","setTags","setAllPictures","setTotalPictures","console","log","setIsGalleryLoading","nextPageHandler","next","nextPage","previousPage","setPageNumber","setShowOverlay","changeSelected","maxSelectable","setSelected","addFilter","push","setFilter","setGalleryNeedsRefresh","setShowFilterSelect","setIsTagInputActive","makeObservable","this","observable","action","getFavoritesPictures","favorites","postUserFavorites","JSON","stringify","favoriteStore","favoritesId","favoriteObjectLoading","favoriteObject","showFavorites","fetchFavoriteObject","fetchedFavoriteObject","setFavoriteObject","setFavoriteObjectLoading","setShowFavorites","addToFavoritesId","id","findIndex","pictureId","deleteFromFavoritesId","index","splice","setFavoritesId","PictureThumb","observer","props","isFavorite","mouseHoverHandler","hover","element","document","getElementById","style","visibility","opacity","className","onClick","pic","onMouseEnter","onMouseLeave","alt","FullscreenOutlined","getUserInfo","userStore","email","infos","name","username","isAdmin","setEmail","setInfos","setName","setUsername","setIsAdmin","fetchuserData","userData","parse","is_admin","GalleryOverlay","useState","isLoading","setIsLoading","throttling","useRef","isFirstPicFirstPage","isLastPicLastPage","loadImage","isloaded","useEffect","url_med","closeButton","doubleClickHandler","useCallback","isGuest","heart","unheart","fontSize","setTimeout","keyDownHandler","event","preventDefault","keyPressed","key","toLowerCase","nextButton","previousButton","current","backgroundColor","addEventListener","removeEventListener","LeftOutlined","RightOutlined","placement","title","CloseOutlined","LoadingOutlined","onDoubleClick","role","aria-label","HeartFilled","tag","tagClickHander","capitalizeFirstLetter","string","undefined","charAt","toUpperCase","slice","GalleryHeader","Option","Select","handleTagChange","fitlerArray","fitlerArrayCleaned","onFocus","onBlur","mode","width","placeholder","defaultValue","onChange","optionLabelProp","value","label","occur","Math","ceil","min","FavoritesDrawer","hideDrawer","closable","onClose","visible","e","Gallery","onlyOnePage","scroll","direction","scrollToPositionY","eightyPerCentOfHeight","window","innerHeight","scrollPositionY","scrollY","max","top","left","behavior","nextPageLocalHandler","postTag","tag_name","patchPicture","deletePicture","EditDrawer","allTags","setAllTags","confirmDelete","setConfirmDelete","fetchAllTags","fetchedTags","needReload","setShowUploader","setShowDrawer","reload","valueCleaned","oldTag","submitHandler","newTag","deleteHandler","showDrawer","maxWidth","maxHeight","allowClear","SaveOutlined","DeleteOutlined","QuestionOutlined","EditPictures","showEdit","setShowEdit","totalMissingTag","clickHandler","EditOutlined","size","height","postPicture","file","formData","FormData","append","post","getDuplicate","getTagsMissing","getTagsMissingCountAll","Uploader","isUploading","setIsUploading","isDragDroping","setIsDragDroping","picsTagsMissing","setPicsTagsMissing","showUploader","uploadProgress","setUploadProgress","setLimit","missingCountAll","setMissingCountAll","result","notification","message","description","fetchTagsMissingCountAll","calculateMissingTagPicLimit","pageWidth","innerWidth","pageHeight","missingPicContainerWidth","floor","missingPicContainerHeight","numOfPicFittingInContainer","fetchPicsTagsMissing","fileSelectHandler","target","files","split","warning","handleDrop","stopPropagation","objectOfFiles","dataTransfer","numberOfFiles","i","onSubmit","type","htmlFor","onDrop","onDragOver","handleDragOver","onDragEnter","handleDragEnter","onDragLeave","handleDragLeave","FileAddOutlined","PictureOutlined","AdminHeader","setDisplay","getUsers","UserInfos","setFavorites","showDetail","setShowDetail","fetchFavorites","user","arrayFav","allFav","showDetailElement","display","last_login","Date","toString","HistoryOutlined","access_code","color","fav","UserAdmin","setisLoading","allUsers","setAllUsers","fetchAllUser","postEditTag","oldtag","newtag","deleteTag","TagAdmin","renameValue","setRenameValue","replaceValue","setReplaceValue","submitReplaceHandler","submitRenameHandler","selectChangeHandler","tagClickHandler","PicThumbAdmin","checkHasHalo","includes","tagSelected","hasHalo","setHasHalo","pictureClickHandle","tagsArray","indexTag","fetchAllPictures","setPictureSelected","PicAdmin","setIsloading","pictureSelected","setTagSelected","fetchedPics","showSearch","Admin","deleteLogout","postLoginToken","refreshToken","authStore","token","localStorage","getItem","hasAccess","setToken","setRefreshToken","setItem","logout","removeItem","clear","setIsGuest","setHasAccess","getNewToken","newToken","postLoginCode","code","PinInput","lastFiledInput","setLastFiledInput","codeFromInput","setCodeFromInput","isMobileOrTablet","check","navigator","userAgent","vendor","opera","test","substr","isMobileOrTabletCheck","keyDownListener","login","focus","inputID","parseInt","lastInputWithData","blur","Password","maxLength","marginLeft","autoComplete","Login","checkLogin","res","userId","isTokenValid","decodedToken","jwt_decode","currentDate","exp","getTime","interceptors","request","use","config","headers","Object","assign","Authorization","error","App","checkForValidAuth","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3cb5eda4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getTags = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};\n\n\nexport const getFilteredTags = async (filter) => {\n\n    const requestBody = {\n        \"filter\": filter,\n      };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/filter`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const getPictures = async (limit, showMissing) => {\n\n    const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/all/${limit}/${showMissing}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getPicturesPerPage = async (pageNumber, pageSize, filter = \"\") => {\n\n  const requestBody = {\n    \"pageNumber\": pageNumber,\n    \"pageSize\": pageSize,\n    \"filter\": filter,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/page`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\n\nexport const getTotalPictures = async (filter = \"\") => {\n\n  const requestBody = {\n    \"filter\": filter,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/total/`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data[0].count;\n  \n};\n","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getFilteredTags } from \"./calls/getTags\";\nimport { getPicturesPerPage, getTotalPictures } from \"./calls/getPictures\";\n\nconst loadImage = (image) => {\n  return new Promise((resolve, reject) => {\n    const loadImg = new Image();\n    loadImg.src = image.url_thumb;\n    loadImg.onload = () => resolve(image.url);\n    loadImg.onerror = (err) => reject(err);\n  });\n};\n\nexport class PictureStore {\n  PAGE_SIZE = 100;\n\n  pageNumber = 1;\n  totalPictures = 0;\n  selected = null;\n  lastPageReached = false;\n  showOverlay = false;\n  isGalleryLoading = true;\n  galleryNeedsRefresh = true;\n  showFilterSelect = false;\n  isTagInputActive = false;\n  allPictures = [];\n  tags = [];\n  filter = [];\n\n  constructor() {\n    makeObservable(this, {\n      pageNumber: observable,\n      setPageNumber: action,\n      lastPageReached: observable,\n      setLastPageReached: action,\n      showOverlay: observable,\n      setShowOverlay: action,\n      selected: observable,\n      setSelected: action,\n      changeSelected: action,\n      allPictures: observable,\n      setAllPictures: action,\n      totalPictures: observable,\n      setTotalPictures: action,\n      filter: observable,\n      addFilter: action,\n      setFilter: action,\n      isGalleryLoading: observable,\n      setIsGalleryLoading: action,\n      galleryNeedsRefresh: observable,\n      setGalleryNeedsRefresh: action,\n      showFilterSelect: observable,\n      setShowFilterSelect: action,\n      fetchPictures: action,\n      nextPageHandler: action,\n      tags: observable,\n      setTags: action,\n      isTagInputActive: observable,\n      setIsTagInputActive: action,\n    });\n  }\n\n  fetchPictures = async () => {\n    try {\n      const pictures = await getPicturesPerPage(\n        this.pageNumber,\n        this.PAGE_SIZE,\n        this.filter\n      );\n      const totalPictures = await getTotalPictures(this.filter);\n      if (pictures.length < this.PAGE_SIZE) {\n        pictureStore.setLastPageReached(true);\n      } else {\n        pictureStore.setLastPageReached(false);\n      }\n      const tags = await getFilteredTags(this.filter);\n      await Promise.all(pictures.map((picture) => loadImage(picture)));\n      pictureStore.setTags(tags);\n\n      this.setAllPictures(pictures);\n      this.setTotalPictures(totalPictures);\n    } catch (err) {\n      console.log(err);\n    }\n    pictureStore.setIsGalleryLoading(false);\n  };\n\n  nextPageHandler = async (next) => {\n    pictureStore.setIsGalleryLoading(true);\n    if (next) {\n      const nextPage = this.pageNumber + 1;\n      this.pageNumber = nextPage;\n      await this.fetchPictures(nextPage);\n    } else {\n      const previousPage = this.pageNumber - 1;\n      this.pageNumber = previousPage;\n      await this.fetchPictures(previousPage);\n    }\n  };\n\n  setPageNumber = (pageNumber) => {\n    this.pageNumber = pageNumber;\n  };\n\n  setLastPageReached = (lastPageReached) => {\n    this.lastPageReached = lastPageReached;\n  };\n\n  setShowOverlay = (showOverlay) => {\n    this.showOverlay = showOverlay;\n  };\n\n  changeSelected = async (next) => {\n    const selected = this.selected;\n    const maxSelectable = this.allPictures.length - 1;\n    if (next) {\n      if (selected === maxSelectable) {\n        await this.nextPageHandler(true);\n        this.selected = 0;\n      } else {\n        this.selected = selected + 1;\n      }\n    } else {\n      if (selected === 0) {\n        await this.nextPageHandler(false);\n        this.selected = maxSelectable;\n      } else {\n        this.selected = selected - 1;\n      }\n    }\n  };\n\n  setSelected = async (selected) => {\n    this.selected = selected;\n  };\n\n  setAllPictures = (allPictures) => {\n    this.allPictures = allPictures;\n  };\n\n  setTotalPictures = (totalPictures) => {\n    this.totalPictures = totalPictures;\n  };\n\n  addFilter = async (filter) => {\n    await this.filter.push(filter);\n    pictureStore.setIsGalleryLoading(true);\n    pictureStore.setPageNumber(1);\n    pictureStore.fetchPictures();\n  };\n\n  setFilter = (filter) => {\n    this.filter = filter;\n    pictureStore.setIsGalleryLoading(true);\n    this.setPageNumber(1);\n    pictureStore.fetchPictures();\n  };\n\n  setIsGalleryLoading = (isGalleryLoading) => {\n    this.isGalleryLoading = isGalleryLoading;\n  };\n\n  setGalleryNeedsRefresh = (galleryNeedsRefresh) => {\n    this.galleryNeedsRefresh = galleryNeedsRefresh;\n  };\n\n  setShowFilterSelect = (showFilterSelect) => {\n    this.showFilterSelect = showFilterSelect;\n  };\n\n  setIsTagInputActive = (isTagInputActive) => {\n    this.isTagInputActive = isTagInputActive;\n  };\n\n  setTags = (tags) => {\n    this.tags = tags;\n  };\n\n}\n\nexport const pictureStore = new PictureStore();\n","import axios from \"axios\";\n\nexport const getFavoritesPictures = async (favorites) => {\n  \n  const requestBody = {\n    \"favorites\": favorites,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/favorites/`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n  \n};\n","import axios from \"axios\";\n\nexport const postUserFavorites = async (favorites) => {\n\n    const requestBody = {\n        \"favorites\": JSON.stringify(favorites),\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user/favorites`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response;\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getFavoritesPictures} from \"./calls/getFavoritesPictures\";\nimport { postUserFavorites } from \"./calls/postUserFavorites\";\n\nexport class FavoriteStore {\n \n  favoritesId = [];\n  favoriteObjectLoading = true;\n  favoriteObject = [];\n  showFavorites = false;\n\n  constructor() {\n    makeObservable(this, {\n        favoriteObject: observable,\n        setFavoriteObject: action,\n        favoriteObjectLoading: observable,\n        setFavoriteObjectLoading: action,\n        fetchFavoriteObject: action,\n        showFavorites: observable,\n        setShowFavorites: action,\n        favoritesId: observable,\n        addToFavoritesId: action,\n        setFavoritesId: action,\n        deleteFromFavoritesId: action,\n    });\n  }\n\n  fetchFavoriteObject = async () => {\n    try { \n      if (favoriteStore.favoritesId.length > 0) {\n        const fetchedFavoriteObject = await getFavoritesPictures(\n            favoriteStore.favoritesId\n        );\n        favoriteStore.setFavoriteObject(fetchedFavoriteObject);\n      }     \n    } catch (err) {\n      console.log(err);\n    }\n    favoriteStore.setFavoriteObjectLoading(false);\n  };\n\n  setFavoriteObject = (favoriteObject) => {\n    this.favoriteObject = favoriteObject;\n  };\n\n  setFavoriteObjectLoading = (favoriteObjectLoading) => {\n    this.favoriteObjectLoading = favoriteObjectLoading;\n  };\n\n  setShowFavorites = async (showFavorites) => {\n    this.showFavorites = showFavorites;\n    if (showFavorites) {\n      favoriteStore.fetchFavoriteObject();\n    }\n  };  \n  \n  addToFavoritesId = (id) => {\n    const index = this.favoritesId.findIndex((pictureId) => pictureId === id);\n    if (index < 0) {\n      this.favoritesId.push(id);\n    }\n    postUserFavorites(this.favoritesId);\n  };\n\n  deleteFromFavoritesId = (id) => {\n    const index = this.favoritesId.findIndex((pictureId) => pictureId === id);\n    this.favoritesId.splice(index, 1);\n    postUserFavorites(this.favoritesId);\n  };\n\n  setFavoritesId = (favoritesId) => {\n    this.favoritesId = favoritesId;\n  };\n\n}\n\nexport const favoriteStore = new FavoriteStore();\n","import React, { Fragment } from \"react\";\nimport { FullscreenOutlined } from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./PictureThumb.css\";\n\nexport const PictureThumb = observer((props) => {\n  const isFavorite = favoriteStore.favoritesId.findIndex(\n    (id) => id === props.picture.id\n  );\n\n  const mouseHoverHandler = (hover) => {\n    const element = document.getElementById(`tag_${props.picture.id}`);\n    const picture = document.getElementById(`pic_${props.picture.id}`);\n    if (hover) {\n      element.style.visibility = \"visible\";\n      element.style.opacity = 1;\n      picture.style.filter = \"brightness(50%) grayscale(1)\";\n    } else {\n      element.style.visibility = \"hidden\";\n      element.style.opacity = 0;\n      picture.style.filter = \"brightness(100%) grayscale(0)\";\n    }\n  };\n\n  const clickHandler = () => {\n    pictureStore.setShowOverlay(true);\n    const index = pictureStore.allPictures.findIndex(\n      (pic) => pic.id === props.picture.id\n    );\n    pictureStore.setSelected(index);\n  };\n\n  return (\n    <Fragment>\n      <div\n        className=\"picture__container\"\n        onClick={clickHandler}\n        onMouseEnter={() => mouseHoverHandler(true)}\n        onMouseLeave={() => mouseHoverHandler(false)}\n      >\n        <img\n          id={`pic_${props.picture.id}`}\n          className={`picture \n          ${!props.picture.tags && \"picture__bluryGray\"} \n          ${isFavorite >= 0 && \"halo\"} `}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          key={props.picture.id}\n        />\n        <div className=\"picture__tagMissing\">\n          {!props.picture.tags && \"TAGS MISSING\"}\n        </div>\n        <div id={`tag_${props.picture.id}`} className=\"picture__tagShow\">\n          <FullscreenOutlined />\n          <div className=\"picture__id\">#{props.picture.id}</div>\n        </div>\n      </div>\n    </Fragment>\n  );\n});\n","import axios from \"axios\";\n\nexport const getUserInfo = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data[0];\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getUserInfo } from \"./calls/getUserInfo\";\nimport { favoriteStore } from \"./favoriteStore\";\n\nexport class UserStore {\n  email = null;\n  infos = null;\n  name = \"there\";\n  username = null;\n  isAdmin = false;\n\n  constructor() {\n    makeObservable(this, {\n      fetchuserData: action,\n      setEmail: action,\n      email: observable,\n      setInfos: action,\n      infos: observable,\n      setName: action,\n      name: observable,\n      setUsername: action,\n      username: observable,\n      isAdmin: observable,\n      setIsAdmin: action,\n    });\n  }\n\n  setEmail = (email) => {\n    this.email = email;\n  };\n\n  setInfos = (infos) => {\n    this.infos = infos;\n  };\n\n  setName = (name) => {\n    this.name = name;\n  };\n\n  setUsername = (username) => {\n    this.username = username;\n  };\n\n  setIsAdmin = (isAdmin) => {\n    this.isAdmin = isAdmin;\n  };\n\n  fetchuserData = async () => {\n    const userData = await getUserInfo();\n    if (userData) {\n      userStore.setEmail(userData.email);\n      userStore.setInfos(userData.infos);\n      userStore.setName(userData.name);\n      userStore.setUsername(userData.username);\n      if (userData.favorites) {\n        favoriteStore.setFavoritesId(JSON.parse(userData.favorites));\n      }\n      if (userData.is_admin) {\n        userStore.setIsAdmin(userData.is_admin);\n      }\n    }\n  };\n}\n\nexport const userStore = new UserStore();\n","import React, {\n  Fragment,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  LeftOutlined,\n  RightOutlined,\n  CloseOutlined,\n  HeartFilled,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\nimport { Tooltip } from \"antd\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { userStore } from \"../../store/userStore\";\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./GalleryOverlay.css\";\n\nexport const GalleryOverlay = observer(() => {\n  const [isLoading, setIsLoading] = useState(true);\n  const throttling = useRef(false);\n  const selected = pictureStore.allPictures[pictureStore.selected];\n  const indexInSelected = favoriteStore.favoritesId.findIndex(\n    (pictureId) => pictureId === selected.id\n  );\n  const isFavorite = indexInSelected >= 0;\n  const isFirstPicFirstPage =\n    pictureStore.pageNumber === 1 && pictureStore.selected === 0;\n  const isLastPicLastPage =\n    pictureStore.lastPageReached &&\n    pictureStore.allPictures.length === pictureStore.selected + 1;\n\n  const loadImage = async (image) => {\n    setIsLoading(true);\n    const isloaded = new Promise((resolve, reject) => {\n      const loadImg = new Image();\n      loadImg.src = image;\n      loadImg.onload = () => resolve(image.url);\n      loadImg.onerror = (err) => reject(err);\n    });\n    await isloaded;\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    selected && loadImage(selected.url_med);\n  }, [selected]);\n\n  const mouseHoverHandler = (hover) => {\n    const closeButton = document.getElementById(`closeButton`);\n    if (hover) {\n      closeButton.style.visibility = \"hidden\";\n      closeButton.style.opacity = 0;\n    } else {\n      closeButton.style.visibility = \"visible\";\n      closeButton.style.opacity = 1;\n    }\n  };\n\n  const doubleClickHandler = useCallback(\n    (id) => {\n      if (!userStore.isGuest) {\n        const heart = document.getElementById(`heart`);\n        const unheart = document.getElementById(`unheart`);\n        if (!isFavorite) {\n          heart.style.visibility = \"visible\";\n          heart.style.opacity = 0.5;\n          heart.style.fontSize = \"50em\";\n          setTimeout(() => {\n            heart.style.visibility = \"hidden\";\n            heart.style.opacity = 0;\n            heart.style.fontSize = \"1em\";\n          }, 500);\n          favoriteStore.addToFavoritesId(id);\n        } else {\n          unheart.style.visibility = \"visible\";\n          unheart.style.opacity = 0.5;\n          unheart.style.fontSize = \"30em\";\n          setTimeout(() => {\n            unheart.style.visibility = \"hidden\";\n            unheart.style.opacity = 0;\n            unheart.style.fontSize = \"1em\";\n          }, 500);\n          favoriteStore.deleteFromFavoritesId(id);\n        }\n      }\n    },\n    [isFavorite]\n  );\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      event.preventDefault();\n      const keyPressed = event.key.toLowerCase();\n      const nextButton = document.getElementById(`nextButton`);\n      const previousButton = document.getElementById(`previousButton`);\n      if (throttling.current === false) {\n        throttling.current = true;\n        if (\n          (keyPressed === \"arrowdown\" || keyPressed === \"arrowright\") &&\n          !isLastPicLastPage\n        ) {\n          nextButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          pictureStore.changeSelected(true);\n          setTimeout(() => {\n            nextButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (\n          (keyPressed === \"arrowup\" || keyPressed === \"arrowleft\") &&\n          !isFirstPicFirstPage\n        ) {\n          previousButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          pictureStore.changeSelected(false);\n          setTimeout(() => {\n            previousButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (keyPressed === \"enter\") {\n          doubleClickHandler(selected.id);\n        } else if (keyPressed === \"escape\") {\n          pictureStore.setShowOverlay(false);\n        }\n        setTimeout(() => {\n          throttling.current = false;\n        }, 100);\n      }\n    },\n    [selected, doubleClickHandler, isFirstPicFirstPage, isLastPicLastPage]\n  );\n\n  const tagClickHander = (tag) => {\n    pictureStore.setShowOverlay(false);\n    pictureStore.addFilter(tag);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <div className=\"overlay__overlay\">\n      <div\n        className=\"overlay__background\"\n        onClick={() => {\n          pictureStore.setShowOverlay(false);\n        }}\n      ></div>\n      {!isFirstPicFirstPage && (\n        <div\n          className=\"overlay__columnLeft\"\n          id=\"previousButton\"\n          onClick={() => {\n            pictureStore.changeSelected(false);\n          }}\n        >\n          <LeftOutlined />\n        </div>\n      )}\n      {!isLastPicLastPage && (\n        <div\n          className=\"overlay__columnRight\"\n          id=\"nextButton\"\n          onMouseEnter={() => mouseHoverHandler(true)}\n          onMouseLeave={() => mouseHoverHandler(false)}\n          onClick={() => {\n            pictureStore.changeSelected(true);\n          }}\n        >\n          <RightOutlined />\n        </div>\n      )}\n      <Tooltip\n        placement=\"bottomLeft\"\n        title={\n          <span>\n            <b>TIP: </b> The keys ← and → will let you navigate through the\n            pictures. You can use the <i>esc</i> key, or click outside the\n            picture to go back to the gallery.\n          </span>\n        }\n      >\n        <div\n          className=\"overlay__closeButton\"\n          id=\"closeButton\"\n          onClick={() => {\n            pictureStore.setShowOverlay(false);\n          }}\n        >\n          <CloseOutlined />\n        </div>\n      </Tooltip>\n      {isLoading ? (\n        <LoadingOutlined className=\"overlay__spinner\" />\n      ) : (\n        <div\n          className=\"overlay__pictureContainer\"\n          onDoubleClick={() => {\n            doubleClickHandler(selected.id);\n          }}\n        >\n          <div className=\"overlay__infoAction\">\n            {selected && <div className=\"overlay__info\">#{selected.id}</div>}\n\n            <div className=\"overlay__action\">\n              {!userStore.isGuest &&\n                (isFavorite ? (\n                  <Fragment>\n                    <span\n                      role=\"img\"\n                      aria-label=\"heart\"\n                      style={{ fontSize: \".75em\" }}\n                    >\n                      ❤️\n                    </span>{\" \"}\n                    Marked as favorite!\n                  </Fragment>\n                ) : (\n                  \"Doubleclick/Enter to mark as favorite.\"\n                ))}\n            </div>\n          </div>\n\n          <div className=\"overlay__pictureHover\">\n            <div className=\"overlay__pictureWatermark\">KINKOGRAPH</div>\n            <HeartFilled id=\"heart\" className=\"overlay__heart\" />\n            <CloseOutlined id=\"unheart\" className=\"overlay__heart\" />\n          </div>\n          {selected && (\n            <img\n              className=\"overlay__picture\"\n              src={selected.url_med}\n              alt={selected.id}\n              key={`img__${selected.id}`}\n            />\n          )}\n          {selected && (\n            <div className=\"overlay__tags\">\n              {JSON.parse(selected.tags).map((tag) => (\n                <Fragment>\n                  <span onClick={() => tagClickHander(tag)}>#{tag}</span>\n                  &nbsp;\n                </Fragment>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n","\n  export function capitalizeFirstLetter(string) {\n      if (string === undefined || string === null) {\n          return null;\n      }\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }","import React, { Fragment, useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Select, Tooltip } from \"antd\";\n\nimport { pictureStore } from \"../../../store/pictureStore\";\nimport { userStore } from \"../../../store/userStore\";\nimport { favoriteStore } from \"../../../store/favoriteStore\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\n\nimport \"./GalleryHeader.css\";\n\nexport const GalleryHeader = observer(() => {\n  const { Option } = Select;\n\n  const handleTagChange = useCallback(async (fitlerArray) => {\n    pictureStore.setIsGalleryLoading(true);\n    const fitlerArrayCleaned = fitlerArray.map((tag) => {\n      return capitalizeFirstLetter(tag);\n    });\n    pictureStore.setFilter(fitlerArrayCleaned);\n  }, []);\n\n  const handleClickFilterTitle = () => {\n    pictureStore.setShowFilterSelect(true);\n  };\n\n  const handleClickShowFavoritesDrawer = () => {\n    favoriteStore.setShowFavorites(true);\n  };\n\n  return (\n    <div className=\"galleryHeader__main\">\n      <div className=\"galleryHeader__left\">\n        {favoriteStore.favoritesId.length ? (\n          <Fragment>\n            <div\n              className=\"galleryHeader__BigFont galleryHeader__favorite\"\n              onClick={handleClickShowFavoritesDrawer}\n            >\n              {favoriteStore.favoritesId.length} picture\n              {favoriteStore.favoritesId.length > 1 && \"s\"}\n            </div>\n            <div className=\"galleryHeader__SmallFont\">\n              marked as favorite{favoriteStore.favoritesId.length > 1 && \"s\"}\n            </div>\n          </Fragment>\n        ) : (\n          <Fragment>\n            <Tooltip\n              placement=\"bottomLeft\"\n              title={\n                <span>\n                  <b>TIP: </b>Mark some pictures as your favorites: Then we both\n                  look at those, and plan a inspired shoot.\n                </span>\n              }\n            >\n              <div className=\"galleryHeader__BigFont galleryHeader__favorite\">\n                Hello {userStore.name},\n              </div>\n            </Tooltip>\n            <div className=\"galleryHeader__SmallFont\">\n              What will inspire you today?\n            </div>\n          </Fragment>\n        )}\n      </div>\n      <div\n        className=\"galleryHeader__center\"\n        onFocus={() => {\n          pictureStore.setIsTagInputActive(true);\n        }}\n        onBlur={() => {\n          pictureStore.setIsTagInputActive(false);\n        }}\n      >\n        {pictureStore.filter.length > 0 || pictureStore.showFilterSelect ? (\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Select a filter\"\n            defaultValue={pictureStore.filter}\n            onChange={handleTagChange}\n            className=\"galleryHeader__selectFilter\"\n            optionLabelProp=\"label\"\n          >\n            {pictureStore.tags.map((tag) => {\n              return (\n                <Option value={tag.tag} label={tag.tag}>\n                  <div className=\"demo-option-label-item\">\n                    {tag.tag} <span className=\"light\">({tag.occur})</span>\n                  </div>\n                </Option>\n              );\n            })}\n          </Select>\n        ) : (\n          <div\n            className=\"galleryHeader__setFilter\"\n            onClick={handleClickFilterTitle}\n          >\n            &#123;click here to{\" \"}\n            <span className=\"galleryHeader__wordFilter\">filter</span> the\n            results&#125;\n          </div>\n        )}\n      </div>\n      <div className=\"galleryHeader__right\">\n        <Tooltip\n          placement=\"bottomRight\"\n          title={\n            <span>\n              <b>TIP: </b>You can use the ← and → keys to navigate through the\n              pages, and the ↑ and ↓ keys to scroll the page.\n            </span>\n          }\n        >\n          <div className=\"galleryHeader__pageInfo\">\n            <div className=\"galleryHeader__BigFont\">\n              <b>Page {pictureStore.pageNumber}</b>\n              <span style={{ fontSize: \"0.7em\" }}>\n                {\" \"}\n                /{\" \"}\n                {Math.ceil(\n                  pictureStore.totalPictures / pictureStore.PAGE_SIZE,\n                  0\n                )}\n              </span>\n            </div>\n            <div className=\"galleryHeader__SmallFont\">\n              {(pictureStore.pageNumber - 1) * pictureStore.PAGE_SIZE + 1}-\n              {Math.min(\n                pictureStore.pageNumber * pictureStore.PAGE_SIZE,\n                pictureStore.totalPictures\n              )}{\" \"}\n              of {pictureStore.totalPictures}\n            </div>\n          </div>\n        </Tooltip>\n      </div>\n    </div>\n  );\n});\n","import React, { useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Drawer } from \"antd\";\n\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./FavoritesDrawer.css\";\n\nexport const FavoritesDrawer = observer(() => {\n  const hideDrawer = useCallback(() => {\n    favoriteStore.setShowFavorites(false);\n  }, []);\n\n  return (\n    <Drawer\n      title={\n        <span className=\"FavoritesDrawer__Title\">\n          Your {favoriteStore.favoritesId.length} favorite\n          {favoriteStore.favoritesId.length > 1 && \"s\"}\n        </span>\n      }\n      placement=\"left\"\n      closable={true}\n      onClose={() => hideDrawer(false)}\n      visible={favoriteStore.showFavorites}\n      width=\"50%\"\n    >\n      {/*<div className=\"FavoritesDrawer__font\">favorites:</div>*/}\n      {favoriteStore.favoriteObjectLoading ? (\n        <div> Loading... </div>\n      ) : (\n        <div>\n          {favoriteStore.favoriteObject.map((e) => {\n            return (\n              <div className=\"FavoritesDrawer__pictureContainer\">\n                #{e.id}\n                <img\n                  className=\"FavoritesDrawer__picture\"\n                  src={e.url_med}\n                  alt={e.id}\n                  key={e.id}\n                />\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </Drawer>\n  );\n});\n","import React, { useRef, useEffect, useCallback, Fragment } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { PictureThumb } from \"../../component/PictureThumb/PictureThumb\";\nimport { GalleryOverlay } from \"../../component/GalleryOverlay/GalleryOverlay\";\nimport { GalleryHeader } from \"./GalleryHeader/GalleryHeader\";\n\nimport \"./Gallery.css\";\nimport { FavoritesDrawer } from \"../../component/FavoritesDrawer/FavoritesDrawer\";\n\nexport const Gallery = observer(() => {\n  const throttling = useRef(false);\n  const onlyOnePage =\n    pictureStore.pageNumber === 1 && pictureStore.lastPageReached;\n\n  useEffect(() => {\n    if (pictureStore.galleryNeedsRefresh) {\n      pictureStore.fetchPictures();\n      pictureStore.setGalleryNeedsRefresh(false);\n    }\n    // eslint-disable-next-line\n  }, [pictureStore.galleryNeedsRefresh]);\n\n  const scroll = useCallback((direction) => {\n    const eightyPerCentOfHeight = window.innerHeight * 0.8;\n    const scrollPositionY = window.scrollY;\n    let scrollToPositionY;\n    if (direction === \"down\") {\n      scrollToPositionY = scrollPositionY + eightyPerCentOfHeight;\n    } else if (direction === \"up\") {\n      scrollToPositionY = Math.max(scrollPositionY - eightyPerCentOfHeight, 0);\n    }\n    window.scroll({\n      top: scrollToPositionY,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  }, []);\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      const keyPressed = event.key.toLowerCase();\n      if (\n        keyPressed === \"arrowright\" ||\n        keyPressed === \"arrowleft\" ||\n        keyPressed === \"arrowdown\" ||\n        keyPressed === \"arrowup\"\n      ) {\n        event.preventDefault();\n        if (!pictureStore.showOverlay && !pictureStore.isTagInputActive) {\n          if (throttling.current === false) {\n            throttling.current = true;\n            if (keyPressed === \"arrowright\" && !pictureStore.lastPageReached) {\n              pictureStore.setShowFilterSelect(false);\n              nextPageLocalHandler(true);\n            } else if (\n              keyPressed === \"arrowleft\" &&\n              pictureStore.pageNumber > 1\n            ) {\n              pictureStore.setShowFilterSelect(false);\n              nextPageLocalHandler(false);\n            } else if (keyPressed === \"arrowdown\") {\n              scroll(\"down\");\n            } else if (keyPressed === \"arrowup\") {\n              scroll(\"up\");\n            }\n            setTimeout(() => {\n              throttling.current = false;\n            }, 100);\n          }\n        }\n      }\n    },\n    [scroll]\n  );\n\n  const nextPageLocalHandler = async (value) => {\n    await pictureStore.nextPageHandler(value);\n    window.scroll({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <div className=\"gallery\">\n      <GalleryHeader />\n      <FavoritesDrawer />\n      {pictureStore.isGalleryLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Fragment>\n          {pictureStore.showOverlay && <GalleryOverlay />}\n          <div>\n            <div className=\"gallery__main\">\n              {pictureStore.allPictures.map((picture, index) => {\n                return (\n                  <div className=\"gallery__picSpacer\">\n                    <PictureThumb picture={picture} key={picture.id} />\n                  </div>\n                );\n              })}\n            </div>\n            {!onlyOnePage && (\n              <div className=\"gallery__next\">\n                <div className=\"gallery__nextTextContainer\">\n                  {pictureStore.pageNumber === 1 ? (\n                    \"Previous\"\n                  ) : (\n                    <span\n                      className=\"gallery__nextText\"\n                      onClick={() => nextPageLocalHandler(false)}\n                    >\n                      Previous\n                    </span>\n                  )}\n                  {\" | \"}\n                  {pictureStore.lastPageReached ? (\n                    \"Next\"\n                  ) : (\n                    <span\n                      className=\"gallery__nextText\"\n                      onClick={() => nextPageLocalHandler(true)}\n                    >\n                      Next\n                    </span>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </Fragment>\n      )}\n    </div>\n  );\n});\n\n/*\n<div className=\"item item__landscape\">item__landscape</div>\n<div className=\"item item__square\">item__square</div>\n<div className=\"item item__portrait\">item__portrait</div>\n*/\n","import axios from \"axios\";\n\nexport const postTag = async (tag_name) => {\n\n    const requestBody = {\n        \"tag_name\": tag_name,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const patchPicture = async (tags, id) => {\n\n    const requestBody = {\n        \"tags\": JSON.stringify(tags)\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${id}`,\n        method: \"PATCH\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const deletePicture = async (key) => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${key}`,\n        method: \"DELETE\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { Drawer, Select } from \"antd\";\nimport {\n  SaveOutlined,\n  DeleteOutlined,\n  QuestionOutlined,\n} from \"@ant-design/icons\";\n\nimport { capitalizeFirstLetter } from \"../../../../helpers/capitalizeFirstLetter\";\nimport { getTags } from \"../../../../store/calls/getTags\";\nimport { postTag } from \"../../../../store/calls/postTag\";\nimport { patchPicture } from \"../../../../store/calls/patchPicture\";\nimport { deletePicture } from \"../../../../store/calls/deletePicture\";\n\nimport \"./EditDrawer.css\";\n\nconst { Option } = Select;\n\nexport const EditDrawer = (props) => {\n  const [tags, setTags] = useState([]);\n  const [allTags, setAllTags] = useState([]);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n\n  const fetchAllTags = useCallback(async () => {\n    try {\n      const fetchedTags = await getTags();\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  const hideDrawer = useCallback(\n    (needReload) => {\n      props.setShowUploader && props.setShowUploader(true);\n      props.setShowDrawer(false);\n      if (needReload) {\n        props.reload && props.reload();\n      }\n    },\n    [props]\n  );\n\n  useEffect(() => {\n    fetchAllTags();\n    if (JSON.parse(props.picture.tags) !== null) {\n      setTags(JSON.parse(props.picture.tags));\n    }\n  }, [fetchAllTags, props.picture.tags]);\n\n  const handleTagChange = useCallback(async (value) => {\n    const valueCleaned = value.map((oldTag) => {\n      return capitalizeFirstLetter(oldTag);\n    });\n    setTags(valueCleaned);\n  }, []);\n\n  const submitHandler = useCallback(async () => {\n    if (tags.length > 0) {\n      //Add new Tags to db\n      await tags.map(async (newTag) => {\n        const index = allTags.findIndex(\n          (tag) => tag === capitalizeFirstLetter(newTag)\n        );\n        if (index < 0) {\n          //New Tag not found in db\n          const result = await postTag(newTag);\n          if (result.value === \"success\") {\n            console.log(`${newTag} was added to the lists of tags.`);\n          }\n        }\n        return undefined;\n      });\n      //Path picture\n      await patchPicture(tags, props.picture.id);\n      hideDrawer(true);\n    }\n  }, [tags, allTags, hideDrawer, props.picture.id]);\n\n  const deleteHandler = useCallback(\n    async (key) => {\n      if (confirmDelete === true) {\n        //Path picture\n        await deletePicture(key);\n        hideDrawer(true);\n      } else {\n        setConfirmDelete(true);\n        setTimeout(() => {\n          setConfirmDelete(false);\n        }, 2000);\n      }\n    },\n    [confirmDelete, hideDrawer]\n  );\n\n  return (\n    <Drawer\n      title={\n        <span className=\"Drawer__Title\">\n          Edit picture id #{props.picture.id}\n        </span>\n      }\n      placement=\"left\"\n      closable={true}\n      onClose={() => hideDrawer(false)}\n      visible={props.showDrawer}\n      key={`drawer${props.picture.id}`}\n      width=\"42.5%\"\n    >\n      <div className=\"Drawer__font\">Preview:</div>\n      <img\n        className=\"Drawer_picture\"\n        src={props.picture.url_med}\n        alt={props.picture.id}\n        key={props.picture.id}\n        style={{ maxWidth: \"100%\", maxHeight: window.innerHeight / 2.5 }}\n      />\n      <br />\n      <br />\n      <div className=\"Drawer__font\">Tags:</div>\n      <Select\n        mode=\"tags\"\n        allowClear={false}\n        style={{ width: \"100%\" }}\n        placeholder=\"Add some tags\"\n        onChange={handleTagChange}\n        defaultValue={\n          props.picture.tags !== null\n            ? JSON.parse(props.picture.tags)\n            : undefined\n        }\n      >\n        {allTags.map((tag) => {\n          return (\n            <Option key={capitalizeFirstLetter(tag.tag_name)}>\n              {capitalizeFirstLetter(tag.tag_name)}\n            </Option>\n          );\n        })}\n      </Select>\n      <br />\n      <br />\n      <div className=\"Drawer__buttonContainer\">\n        <div\n          className={\n            tags.length < 1 ? \"Drawer__buttonDisabled\" : \"Drawer__button\"\n          }\n          onClick={submitHandler}\n        >\n          <SaveOutlined /> &nbsp; Save\n        </div>\n        <div\n          className={\n            confirmDelete ? \"Drawer__buttonConfirmAction\" : \"Drawer__button\"\n          }\n          onClick={() => deleteHandler(props.picture.key)}\n        >\n          {confirmDelete ? (\n            <Fragment>\n              <DeleteOutlined /> ARE YOU SURE\n              <QuestionOutlined />\n            </Fragment>\n          ) : (\n            <Fragment>\n              <DeleteOutlined />\n              &nbsp; Delete\n            </Fragment>\n          )}\n        </div>\n      </div>\n    </Drawer>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { EditOutlined } from \"@ant-design/icons\";\n\nimport { EditDrawer } from \"../EditDrawer/EditDrawer\";\n\nimport \"./EditPictures.css\";\n\nexport const EditPictures = (props) => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [showDrawer, setShowDrawer] = useState(false);\n\n  const mouseHoverHandler = (hover) => {\n    if (props.totalMissingTag === null) {\n      setShowEdit(hover);\n      const element = document.getElementById(props.picture.id);\n      if (hover) {\n        element.style.filter = \"brightness(50%) blur(2px)\";\n      } else {\n        element.style.filter = \"brightness(100%) blur(0px)\";\n      }\n    }\n  };\n\n  const clickHandler = () => {\n    setTimeout(function () {\n      props.setShowUploader(false);\n    }, 300);\n    setShowDrawer(true);\n  };\n\n  return (\n    <Fragment>\n      <EditDrawer\n        picture={props.picture}\n        showDrawer={showDrawer}\n        setShowDrawer={setShowDrawer}\n        reload={props.reload}\n        setShowUploader={props.setShowUploader}\n      />\n      <div className=\"EditPictures__missingPicture\">\n        {props.totalMissingTag === null ? (\n          showEdit && (\n            <div\n              className=\"EditPictures__missingPictureOverText\"\n              onMouseEnter={() => mouseHoverHandler(true)}\n              onMouseLeave={() => mouseHoverHandler(false)}\n              onClick={clickHandler}\n            >\n              <EditOutlined />\n            </div>\n          )\n        ) : (\n          <div className=\"EditPictures__missingPictureRest\">\n            +{props.totalMissingTag}\n          </div>\n        )}\n        <img\n          className={props.totalMissingTag && \"EditPictures__bluryGray\"}\n          id={props.picture.id}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          width={props.size}\n          height={props.size}\n          onMouseEnter={() => mouseHoverHandler(true)}\n          onMouseLeave={() => mouseHoverHandler(false)}\n          onClick={clickHandler}\n        />\n      </div>\n    </Fragment>\n  );\n};\n","import axios from \"axios\";\n\nexport const postPicture = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n        await axios.post(process.env.REACT_APP_API_URL_UPLOAD, formData)\n        return \"success\"\n        //console.log('Success!', res.data);\n    } catch (err) {\n        console.log(err)\n        return \"error\"\n    }\n} ","import axios from \"axios\";\n\nexport const getDuplicate = async (name) => {\n\n  let requestBody = {\n    \"name\": name,\n  };\n\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/duplicate`,\n    method: \"POST\",\n    data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};","import axios from \"axios\";\n\nexport const getTagsMissing = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissing/${limit}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getTagsMissingCountAll = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissingcount/`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  //console.log(response.data[0].count);\n  return response.data[0].count;\n\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport {\n  PictureOutlined,\n  LoadingOutlined,\n  FileAddOutlined,\n} from \"@ant-design/icons\";\nimport { notification } from \"antd\";\nimport { observer } from \"mobx-react\";\n\nimport { EditPictures } from \"./EditPictures/EditPictures\";\nimport { postPicture } from \"../../../store/calls/postPicture\";\nimport { getDuplicate } from \"../../../store/calls/getDuplicate\";\nimport {\n  getTagsMissing,\n  getTagsMissingCountAll,\n} from \"../../../store/calls/getTagsMissing\";\n\nimport \"./Uploader.css\";\n\nconst SIZE_PICTURE_MISSING_TAG = 150;\n\nexport const Uploader = observer(() => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [isDragDroping, setIsDragDroping] = useState(false);\n  const [picsTagsMissing, setPicsTagsMissing] = useState([]);\n  const [showUploader, setShowUploader] = useState(true);\n  const [uploadProgress, setUploadProgress] = useState([0, 0]);\n  const [limit, setLimit] = useState(null);\n  const [missingCountAll, setMissingCountAll] = useState(null);\n\n  const submitHandler = useCallback(async (file) => {\n    const result = await postPicture(file);\n    notification[result]({\n      message: `Upload ${result}`,\n      description: `File: ${file.name}`,\n    });\n  }, []);\n\n  const fetchTagsMissingCountAll = useCallback(async () => {\n    try {\n      const count = await getTagsMissingCountAll();\n      const countMinusLimit = count - limit;\n      setMissingCountAll(countMinusLimit);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [limit]);\n\n  const calculateMissingTagPicLimit = useCallback(() => {\n    const pageWidth = window.innerWidth;\n    const pageHeight = window.innerHeight;\n    const missingPicContainerWidth = Math.floor(pageWidth * 0.5);\n    const missingPicContainerHeight = Math.floor(pageHeight * (1 - 0.25));\n    const numOfPicFittingInContainer =\n      Math.floor(missingPicContainerWidth / (SIZE_PICTURE_MISSING_TAG + 34)) *\n      Math.floor(missingPicContainerHeight / (SIZE_PICTURE_MISSING_TAG + 30));\n    setLimit(numOfPicFittingInContainer);\n    return numOfPicFittingInContainer;\n  }, []);\n\n  const fetchPicsTagsMissing = useCallback(async () => {\n    try {\n      const limit = await calculateMissingTagPicLimit();\n      const picsTagsMissing = await getTagsMissing(limit);\n      await fetchTagsMissingCountAll();\n      setPicsTagsMissing(picsTagsMissing);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [fetchTagsMissingCountAll, calculateMissingTagPicLimit]);\n\n  const fileSelectHandler = useCallback(\n    async (event) => {\n      setIsUploading(true);\n      if (event.target.files[0]) {\n        const name = event.target.files[0].name.split(\".\")[0];\n        const alreadyIn = await getDuplicate(name);\n        if (alreadyIn.length === 0) {\n          await submitHandler(event.target.files[0]);\n        } else {\n          notification.warning({\n            message: `Duplicate? `,\n            description: `There is already a file named '${event.target.files[0].name}'`,\n          });\n        }\n      }\n      setIsUploading(false);\n      setTimeout(() => {\n        fetchPicsTagsMissing(limit);\n      }, 500);\n    },\n    [fetchPicsTagsMissing, limit, submitHandler]\n  );\n\n  useEffect(() => {\n    fetchPicsTagsMissing();\n    window.addEventListener(\"resize\", calculateMissingTagPicLimit);\n    return () => {\n      window.removeEventListener(\"resize\", calculateMissingTagPicLimit);\n    };\n  }, [fetchPicsTagsMissing, calculateMissingTagPicLimit]);\n\n  const handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(true);\n  };\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(false);\n  };\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const objectOfFiles = e.dataTransfer.files;\n    const numberOfFiles = objectOfFiles.length;\n    setUploadProgress([0, numberOfFiles]);\n    for (let i = 0; i < numberOfFiles; i++) {\n      setIsUploading(true);\n      setUploadProgress([i, numberOfFiles]);\n      if (objectOfFiles[i]) {\n        const file = objectOfFiles[i];\n        const name = file.name.split(\".\")[0];\n        const alreadyIn = await getDuplicate(name);\n        if (alreadyIn.length === 0) {\n          await submitHandler(file);\n        } else {\n          notification.warning({\n            message: `Duplicate? `,\n            description: `There is already a file named '${name}'`,\n          });\n        }\n      }\n    }\n    setUploadProgress([0, 0]);\n    setIsUploading(false);\n    setTimeout(() => {\n      fetchPicsTagsMissing(limit);\n    }, 1000);\n  };\n\n  return (\n    <div className=\"Uploader__container\">\n      <div className=\"Uploader__formContainer\">\n        {showUploader && (\n          <div\n            className=\"Uploader__formContent\"\n            style={\n              picsTagsMissing.length ? { width: \"50vw\" } : { width: \"100vw\" }\n            }\n          >\n            <form onSubmit={submitHandler}>\n              <input\n                type=\"file\"\n                className=\"inputfile\"\n                name=\"inputfile\"\n                id=\"file\"\n                onChange={fileSelectHandler}\n              />\n              {isUploading ? (\n                <label\n                  htmlFor=\"file\"\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  <LoadingOutlined className=\"Uploader__spinner\" />\n                  {uploadProgress[1] ? (\n                    <p className=\"form-upload-text\">\n                      {uploadProgress[0]} of {uploadProgress[1]}\n                    </p>\n                  ) : (\n                    <p className=\"form-upload-text\">Loading</p>\n                  )}\n                </label>\n              ) : (\n                <label\n                  htmlFor=\"file\"\n                  onDrop={handleDrop}\n                  onDragOver={(e) => handleDragOver(e)}\n                  onDragEnter={(e) => handleDragEnter(e)}\n                  onDragLeave={(e) => handleDragLeave(e)}\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  {!isDragDroping ? (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <PictureOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Click, or drag here a file <br />\n                        <i>jpg and png file only</i>\n                      </p>\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <FileAddOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Drop your files here <br />\n                        <i>Multiple files supported</i>\n                      </p>\n                      <p className=\"form-upload-text\"></p>\n                    </Fragment>\n                  )}\n                </label>\n              )}\n            </form>\n          </div>\n        )}\n      </div>\n      {picsTagsMissing.length > 0 && (\n        <div className=\"Uploader__missingContainer\">\n          <div className=\"Uploader__missingContent\">\n            {picsTagsMissing.map((picture, index) => {\n              return (\n                <EditPictures\n                  picture={picture}\n                  size={SIZE_PICTURE_MISSING_TAG}\n                  setShowUploader={setShowUploader}\n                  key={picture.id}\n                  reload={fetchPicsTagsMissing}\n                  totalMissingTag={index + 1 === limit ? missingCountAll : null}\n                />\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n","import React, { useState } from \"react\";\n\nimport \"./AdminHeader.css\";\n\nexport const AdminHeader = (props) => {\n  const [selected, setSelected] = useState(\"upload\");\n  const clickHandler = (target) => {\n    setSelected(target);\n    props.setDisplay(target);\n  };\n\n  return (\n    <div className=\"adminHeader__main\">\n      <div\n        className={`adminHeader__element ${\n          selected === \"upload\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"upload\")}\n      >\n        UPLOAD\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"pic\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"pic\")}\n      >\n        PICTURES\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"tag\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"tag\")}\n      >\n        TAGS\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"user\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"user\")}\n      >\n        USERS\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const getUsers = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/admin/users/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n    \n    return response.data;\n};","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Tooltip } from \"antd\";\nimport { HistoryOutlined } from \"@ant-design/icons\";\n\nimport { getFavoritesPictures } from \"../../../../store/calls/getFavoritesPictures\";\nimport \"./UserInfos.css\";\n\nexport const UserInfos = (props) => {\n  const [favorites, setFavorites] = useState([]);\n  const [showDetail, setShowDetail] = useState(false);\n\n  const fetchFavorites = useCallback(async () => {\n    if (props.user.favorites) {\n      const arrayFav = JSON.parse(props.user.favorites);\n      const allFav = await getFavoritesPictures(arrayFav);\n      setFavorites(allFav);\n    }\n  }, [props.user.favorites]);\n\n  const clickHandler = () => {\n    const showDetailElement = document.getElementById(\n      `userInfos__detail__${props.user.id}`\n    );\n    if (showDetail) {\n      showDetailElement.style.display = \"none\";\n    } else {\n      showDetailElement.style.display = \"block\";\n    }\n    setShowDetail(!showDetail);\n  };\n\n  useEffect(() => {\n    fetchFavorites();\n  }, [fetchFavorites]);\n\n  return (\n    <div\n      className=\"userInfos__user\"\n      key={`user_${props.user.id}`}\n      onClick={clickHandler}\n    >\n      <div className=\"userInfos__title\">\n        <div className=\"userInfos__titleLeft\">\n          {props.user.last_login && (\n            <Tooltip title={Date(props.user.last_login).toString()}>\n              <HistoryOutlined className=\"userInfos__lastOnline\" />\n            </Tooltip>\n          )}\n          {props.user.name.toUpperCase()}\n          <span className=\"smallFont\">\n            {props.user.access_code && ` ${props.user.access_code} `}\n          </span>\n        </div>\n        <div className=\"userInfos__titleRight\">\n          <span style={{ color: \"#555\" }}>\n            {props.user.email && ` ${props.user.email} `}\n          </span>\n          <span style={{ color: \"#555\" }}>\n            {props.user.email && props.user.username && ` | `}\n          </span>\n          <span style={{ color: \"#555\" }}>\n            {props.user.username && ` ${props.user.username} `}\n          </span>\n        </div>\n      </div>\n      <div\n        className=\"userInfos__detail\"\n        id={`userInfos__detail__${props.user.id}`}\n      >\n        {favorites.length > 0\n          ? favorites.map((fav) => {\n              return (\n                <div className=\"userInfos__pictureContainer\">\n                  <div className=\"smallFont\"> #{fav.id}</div>\n                  <img\n                    className=\"userInfos__picture\"\n                    src={fav.url_med}\n                    alt={fav.id}\n                    key={fav.id}\n                  />\n                </div>\n              );\n            })\n          : \"nothing yet\"}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nimport { getUsers } from \"./getUsers\";\nimport { UserInfos } from \"./UserInfos/UserInfos\";\n\nimport \"./UserAdmin.css\";\n\nexport const UserAdmin = () => {\n  const [isLoading, setisLoading] = useState(true);\n  const [allUsers, setAllUsers] = useState([]);\n\n  const fetchAllUser = useCallback(async () => {\n    const allUsers = await getUsers();\n    setAllUsers(allUsers);\n    setisLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchAllUser();\n  }, [fetchAllUser]);\n\n  return isLoading ? (\n    <div className=\"App__flex\">\n      <LoadingOutlined className=\"Gallery__spinner\" />\n      <div className=\"gallery__spinnerText\">loading</div>\n    </div>\n  ) : (\n    <div className=\"userAdmin__main\">\n      {allUsers.map((user) => {\n        return <UserInfos user={user} />;\n      })}\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const postEditTag = async (oldtag, newtag) => {\n\n    const requestBody = {\n        \"oldtag\": oldtag,\n        \"newtag\": newtag,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/edit`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const deleteTag = async (tag) => {\n\n    const requestBody = {\n        \"tagToDelete\": tag,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"DELETE\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  Fragment,\n  useRef,\n} from \"react\";\nimport {\n  SaveOutlined,\n  DeleteOutlined,\n  QuestionOutlined,\n} from \"@ant-design/icons\";\nimport { Drawer, Select, Input } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nimport { getFilteredTags } from \"../../../store/calls/getTags\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\nimport { postEditTag } from \"../../../store/calls/postEditTag\";\nimport { deleteTag } from \"../../../store/calls/deleteTag\";\n\nimport \"./TagAdmin.css\";\n\nconst { Option } = Select;\n\nexport const TagAdmin = () => {\n  const [allTags, setAllTags] = useState([]);\n  const selected = useRef(0);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [isLoading, setisLoading] = useState(true);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const [renameValue, setRenameValue] = useState(null);\n  const [replaceValue, setReplaceValue] = useState(null);\n\n  const fetchAllTags = useCallback(async () => {\n    try {\n      const fetchedTags = await getFilteredTags([]);\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n    setisLoading(false);\n  }, []);\n\n  const tagClickHandler = (index) => {\n    setShowDrawer(true);\n    selected.current = index;\n    setRenameValue(allTags[index].tag);\n    setReplaceValue(allTags[index].tag);\n  };\n\n  const deleteHandler = useCallback(\n    async (tag) => {\n      if (confirmDelete === true) {\n        await deleteTag(tag);\n        await fetchAllTags();\n        setShowDrawer(false);\n      } else {\n        setConfirmDelete(true);\n        setTimeout(() => {\n          setConfirmDelete(false);\n        }, 2000);\n      }\n    },\n    [confirmDelete, setShowDrawer, fetchAllTags]\n  );\n\n  const selectChangeHandler = (value) => {\n    setReplaceValue(value);\n  };\n\n  const submitReplaceHandler = async () => {\n    if (replaceValue !== allTags[selected.current].tag) {\n      await postEditTag(allTags[selected.current].tag, replaceValue);\n    }\n    await fetchAllTags();\n    setShowDrawer(false);\n  };\n\n  const submitRenameHandler = async () => {\n    if (renameValue !== allTags[selected.current].tag) {\n      await postEditTag(allTags[selected.current].tag, renameValue);\n    }\n    await fetchAllTags();\n    setShowDrawer(false);\n  };\n\n  useEffect(() => {\n    fetchAllTags();\n  }, [fetchAllTags]);\n\n  return (\n    <Fragment>\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Drawer\n          className=\"tagAdmin__drawer\"\n          title={\n            <span className=\"tagAdmin__Title\">\n              Edit {allTags[selected.current].tag}\n            </span>\n          }\n          placement=\"left\"\n          closable={true}\n          onClose={() => setShowDrawer(false)}\n          visible={showDrawer}\n          key={`drawer${allTags[selected.current].tag}`}\n          width=\"42.5%\"\n        >\n          <Select\n            allowClear={false}\n            style={{ width: \"100%\" }}\n            defaultValue={allTags[selected.current].tag}\n            onChange={(value) => {\n              selectChangeHandler(value);\n            }}\n          >\n            {allTags.map((tag) => {\n              return (\n                <Option key={capitalizeFirstLetter(tag.tag)}>\n                  {capitalizeFirstLetter(tag.tag)} ({tag.occur})\n                </Option>\n              );\n            })}\n          </Select>\n          <div\n            className={\n              replaceValue === allTags[selected.current].tag\n                ? \"Drawer__buttonDisabled\"\n                : \"Drawer__button\"\n            }\n            onClick={submitReplaceHandler}\n          >\n            <SaveOutlined /> &nbsp; REPLACE THIS TAG\n          </div>\n          <br />\n          <br />\n          <Input\n            defaultValue={allTags[selected.current].tag}\n            onChange={(event) => {\n              setRenameValue(event.target.value);\n            }}\n            placeholder=\"Basic usage\"\n          />\n          <div\n            className={\n              renameValue === allTags[selected.current].tag\n                ? \"Drawer__buttonDisabled\"\n                : \"Drawer__button\"\n            }\n            onClick={submitRenameHandler}\n          >\n            <SaveOutlined /> &nbsp; RENAME THIS TAG\n          </div>\n          <br />\n          <br />\n\n          <div className=\"Drawer__buttonContainer\">\n            <div\n              className={\n                confirmDelete ? \"Drawer__buttonConfirmAction\" : \"Drawer__button\"\n              }\n              onClick={() => deleteHandler(allTags[selected.current].tag)}\n            >\n              {confirmDelete ? (\n                <Fragment>\n                  <DeleteOutlined /> ARE YOU SURE\n                  <QuestionOutlined />\n                </Fragment>\n              ) : (\n                <Fragment>\n                  <DeleteOutlined />\n                  &nbsp; DELETE THIS TAG\n                </Fragment>\n              )}\n            </div>\n          </div>\n        </Drawer>\n      )}\n      <div className=\"tagAdmin__main\">\n        {allTags.map((e, index) => {\n          return (\n            <div\n              className={`tagAdmin__tag ${e.occur < 5 && `red`}`}\n              onClick={() => tagClickHandler(index)}\n              key={`tag_index_${index}`}\n            >\n              {e.tag ? e.tag : <i>null</i>}\n              <span className=\"tagAdmin__occur\"> ({e.occur})</span>\n            </div>\n          );\n        })}\n      </div>\n    </Fragment>\n  );\n};\n","import React, { useEffect, useState, useCallback, Fragment } from \"react\";\n\nimport { patchPicture } from \"../../../store/calls/patchPicture\";\n\nimport \"./PicAdmin.css\";\n\nexport const PicThumbAdmin = (props) => {\n  const checkHasHalo = useCallback(() => {\n    let result = false;\n    if (props.picture.tags) {\n      result = props.picture.tags.includes(props.tagSelected);\n    }\n    return result;\n  }, [props.picture.tags, props.tagSelected]);\n  const [hasHalo, setHasHalo] = useState(checkHasHalo());\n\n  const pictureClickHandle = async (picture) => {\n    if (props.tagSelected) {\n      const tagsArray = JSON.parse(picture.tags);\n      const indexTag = tagsArray.findIndex((tag) => {\n        return tag === props.tagSelected;\n      });\n      if (!hasHalo) {\n        // Add Tag to array\n        tagsArray.push(props.tagSelected);\n        setHasHalo(true);\n      } else {\n        // Delete Tag from array\n        tagsArray.splice(indexTag, 1);\n        setHasHalo(false);\n      }\n      //Path picture\n      await patchPicture(tagsArray, props.picture.id);\n      props.fetchAllPictures();\n    } else {\n      props.setShowDrawer(true);\n      props.setPictureSelected(picture);\n    }\n  };\n\n  useEffect(() => {\n    setHasHalo(checkHasHalo());\n  }, [props.tagSelected, checkHasHalo]);\n\n  return (\n    <Fragment>\n      <img\n        className={\n          props.tagSelected\n            ? hasHalo\n              ? \"picAdmin__tagHalo\"\n              : \"picAdmin__tagBlur\"\n            : \"picAdmin__noFilter\"\n        }\n        id={`pic_${props.picture.id}`}\n        src={props.picture.url_thumb}\n        alt={props.picture.id}\n        key={props.picture.id}\n        onClick={() => pictureClickHandle(props.picture)}\n      />\n      <span className=\"picAdmin__id\">#{props.picture.id}</span>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { Select } from \"antd\";\n\nimport { getFilteredTags } from \"../../../store/calls/getTags\";\nimport { getPictures } from \"../../../store/calls/getPictures\";\nimport { EditDrawer } from \"../Uploader/EditDrawer/EditDrawer\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\nimport { PicThumbAdmin } from \"./PicThumbAdmin\";\n\nimport \"./PicAdmin.css\";\n\nconst { Option } = Select;\n\nexport const PicAdmin = () => {\n  const [isLoading, setIsloading] = useState(true);\n  const [allPictures, setAllPictures] = useState([]);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [pictureSelected, setPictureSelected] = useState(null);\n  const [allTags, setAllTags] = useState([]);\n  const [tagSelected, setTagSelected] = useState(null);\n\n  const fetchAllPictures = useCallback(async () => {\n    try {\n      const fetchedPics = await getPictures(0, true);\n      const fetchedTags = await getFilteredTags([]);\n      setAllPictures(fetchedPics);\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n    setIsloading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchAllPictures();\n  }, [fetchAllPictures]);\n\n  const keyDownHandler = useCallback((event) => {\n    const keyPressed = event.key.toLowerCase();\n    if (keyPressed === \"enter\") {\n      event.preventDefault();\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\",\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <Fragment>\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Fragment>\n          {pictureSelected && (\n            <EditDrawer\n              picture={pictureSelected}\n              showDrawer={showDrawer}\n              setShowDrawer={setShowDrawer}\n            />\n          )}\n          <div className=\"picAdmin__tagSelector\">\n            <Select\n              showSearch={true}\n              allowClear={true}\n              style={{ width: \"100%\" }}\n              placeholder=\"Select a tag to manage\"\n              onChange={(value) => {\n                setTagSelected(value);\n              }}\n            >\n              {allTags.map((tag) => {\n                return (\n                  <Option key={capitalizeFirstLetter(tag.tag)}>\n                    {capitalizeFirstLetter(tag.tag)} ({tag.occur})\n                  </Option>\n                );\n              })}\n            </Select>\n          </div>\n          <div className=\"picAdmin__main\">\n            {allPictures.map((picture) => {\n              return (\n                <div className=\"picAdmin__picture\">\n                  <PicThumbAdmin\n                    picture={picture}\n                    tagSelected={tagSelected}\n                    setShowDrawer={setShowDrawer}\n                    setPictureSelected={setPictureSelected}\n                    fetchAllPictures={fetchAllPictures}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport { userStore } from \"../../store/userStore\";\nimport { Uploader } from \"./Uploader/Uploader\";\nimport { AdminHeader } from \"./AdminHeader/AdminHeader\";\nimport { UserAdmin } from \"./UserAdmin/UserAdmin\";\nimport { TagAdmin } from \"./TagAdmin/TagAdmin\";\nimport { PicAdmin } from \"./PicAdmin/PicAdmin\";\n\nexport const Admin = observer(() => {\n  const [display, setDisplay] = useState(\"upload\");\n  return userStore.isAdmin ? (\n    <div>\n      <AdminHeader setDisplay={setDisplay} />\n      {display === \"upload\" && <Uploader />}\n      {display === \"tag\" && <TagAdmin />}\n      {display === \"user\" && <UserAdmin />}\n      {display === \"pic\" && <PicAdmin />}\n    </div>\n  ) : (\n    <div className=\"Uploader__noAccess\">\n      Restricted!\n      <br />\n      <br />\n      <br />\n    </div>\n  );\n});\n","import axios from \"axios\";\n\nexport const deleteLogout = async () => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/login/`,\n    method: \"DELETE\",\n  });\n\n  if (response.status !== 204) {\n    throw new Error(`Error ou Logout! Status ${response.status}`);\n  }\n};\n","import axios from \"axios\";\n\nexport const postLoginToken = async (refreshToken) => {\n\n    const requestBody = {\n        \"refreshToken\": refreshToken,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/login/token`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response;\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { deleteLogout } from \"./calls/deleteLogout\";\nimport { postLoginToken } from \"./calls/postLoginToken\";\n\nexport class AuthStore {\n  token = null;\n  refreshToken = localStorage.getItem(\"refreshToken\");\n  isGuest = true;\n  hasAccess = false;\n\n  constructor() {\n    makeObservable(this, {\n      token: observable,\n      setToken: action,\n      refreshToken: observable,\n      setRefreshToken: action,\n      logout: action,\n      isGuest: observable,\n      setIsGuest: action,\n      hasAccess: observable,\n      setHasAccess: action,\n      getNewToken: action,\n    });\n  }\n\n  setToken = (token) => {\n    this.token = token;\n  };\n\n  setRefreshToken = (refreshToken) => {\n    this.refreshToken = refreshToken;\n    localStorage.setItem(\"refreshToken\", refreshToken);\n  };\n\n  logout = async () => {\n    // Delete refreshtoken from localstorage,\n    localStorage.removeItem(\"refreshToken\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"user\");\n    localStorage.clear();\n    authStore.setToken(null);\n    authStore.setRefreshToken(null);\n    await deleteLogout();\n  };\n\n  setIsGuest = (isGuest) => {\n    this.isGuest = isGuest;\n  };\n\n  setHasAccess = (hasAccess) => {\n    this.hasAccess = hasAccess;\n  };\n\n  getNewToken = async () => {\n    try {\n      const newToken = await postLoginToken(authStore.refreshToken);\n      authStore.setToken(newToken.data.token);\n      authStore.setHasAccess(true);\n      return newToken;\n    } catch (e) {\n      console.log(e, authStore.refreshToken);\n      // authStore.logout();\n    }\n  };\n}\n\nexport const authStore = new AuthStore();\n","import axios from \"axios\";\n\nexport const postLoginCode = async (code) => {\n\n    const requestBody = {\n        \"code\": code,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/login/code`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response;\n};","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Input } from \"antd\";\n\nimport { isMobileOrTabletCheck } from \"../../helpers/checkMobileTablet\";\n\nimport \"./PinInput.css\";\n\nexport const PinInput = (props) => {\n  const [lastFiledInput, setLastFiledInput] = useState(1);\n  const [codeFromInput, setCodeFromInput] = useState(undefined);\n  const isMobileOrTablet = isMobileOrTabletCheck();\n\n  const keyDownListener = useCallback(\n    (event) => {\n      const keyPressed = event.key.toLowerCase();\n      if (!isMobileOrTablet) {\n        event.preventDefault();\n        if (keyPressed === \"backspace\") {\n          if (lastFiledInput > 1) {\n            document.getElementById(lastFiledInput - 1).value = \"\";\n            setLastFiledInput(lastFiledInput - 1);\n          }\n        } else if (keyPressed.length > 1) {\n          // console.log(keyPressed);\n        } else {\n          document.getElementById(lastFiledInput).value = keyPressed;\n          setLastFiledInput(lastFiledInput + 1);\n          if (lastFiledInput + 1 === 7) {\n            setLastFiledInput(1);\n            const code =\n              document.getElementById(1).value +\n              document.getElementById(2).value +\n              document.getElementById(3).value +\n              document.getElementById(4).value +\n              document.getElementById(5).value +\n              document.getElementById(6).value;\n            setTimeout(() => {\n              document.getElementById(1).focus();\n              document.getElementById(1).value = \"\";\n              document.getElementById(2).value = \"\";\n              document.getElementById(3).value = \"\";\n              document.getElementById(4).value = \"\";\n              document.getElementById(5).value = \"\";\n              document.getElementById(6).value = \"\";\n              setLastFiledInput(1);\n              props.login(code);\n            }, 500);\n          }\n        }\n      } else if (keyPressed === \"enter\") {\n        props.login(codeFromInput);\n      }\n    },\n    [props, lastFiledInput, codeFromInput, isMobileOrTablet]\n  );\n\n  const handlerInputChange = (e) => {\n    setCodeFromInput(e.target.value);\n  };\n\n  const clickHandler = (e) => {\n    const inputID = parseInt(e.target.id, 10);\n    let lastInputWithData = lastFiledInput;\n    if (document.getElementById(1).value === \"\") {\n      lastInputWithData = 1;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(2).value === \"\") {\n      lastInputWithData = 2;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(3).value === \"\") {\n      lastInputWithData = 3;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(4).value === \"\") {\n      lastInputWithData = 4;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(5).value === \"\") {\n      lastInputWithData = 5;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(6).value === \"\") {\n      lastInputWithData = 6;\n      setLastFiledInput(lastInputWithData);\n    }\n    document.getElementById(inputID).blur();\n    document.getElementById(lastInputWithData).focus();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownListener);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownListener);\n    };\n  }, [keyDownListener]);\n\n  return isMobileOrTablet ? (\n    <div>\n      <Input.Password\n        id=\"code\"\n        onChange={handlerInputChange}\n        placeholder=\"input code & confirm with enter\"\n        className=\"PinInput__mobileInput\"\n      />\n      <br />\n      <br />\n      <br />\n      <br />\n    </div>\n  ) : (\n    <div>\n      <form>\n        <input\n          id=\"1\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          style={{ marginLeft: \"20px\" }}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"2\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"3\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"4\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"5\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"6\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          style={{ width: \"40px\" }}\n          autoComplete=\"new-password\"\n        />\n      </form>\n    </div>\n  );\n};\n","export const isMobileCheck = () => {\n  let check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n\nexport const isMobileOrTabletCheck = () => {\n  let check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n","import React from \"react\";\n\nimport { postLoginCode } from \"../../store/calls/postLoginCode\";\nimport { userStore } from \"../../store/userStore\";\nimport { authStore } from \"../../store/authStore\";\nimport { PinInput } from \"../PinInput/PinInput\";\n\nexport const Login = () => {\n  const checkLogin = async (code) => {\n    const res = await postLoginCode(code);\n    if (res.status === 200) {\n      if (res.data.userId === \"guest\") {\n        authStore.setIsGuest(true);\n      } else {\n        authStore.setToken(res.data.token);\n        authStore.setRefreshToken(res.data.refreshToken);\n        authStore.setIsGuest(false);\n        userStore.fetchuserData();\n      }\n      authStore.setHasAccess(true);\n    }\n  };\n\n  return <PinInput login={checkLogin} />;\n};\n","import jwt_decode from \"jwt-decode\";\n\nexport const isTokenValid = (token) => {\n  if (!token) {\n    return false;\n  }\n  let decodedToken = jwt_decode(token);\n  //console.log(\"Decoded Token\", decodedToken);\n  let currentDate = new Date();\n  // JWT exp is in seconds\n  if (decodedToken.exp * 1000 < currentDate.getTime()) {\n    console.log(\"Token expired.\");\n    return false;\n  } else {\n    //console.log(\"Valid token\");\n    return true;\n  }\n};\n","import axios from \"axios\";\n\nimport { isTokenValid } from \"./isTokenValid\";\nimport { authStore } from \"../store/authStore\";\n\naxios.interceptors.request.use(\n  async (config) => {\n    //console.log(`${config.method} ${config.url}`);\n    try {\n      let token;\n      // Check for token validity. If no valid, get new one:\n      if (isTokenValid(authStore.token)) {\n        token = authStore.token;\n      } else {\n        if (authStore.token !== null) {\n          // Token is not null, but not valid\n          const newToken = await authStore.getNewToken();\n          token = newToken;\n        } else {\n          // Token is empty\n          token = null;\n        }\n      }\n      //console.log(\"Request send with token:\", token);\n      if (token) {\n        config.headers = Object.assign({\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    return config;\n  },\n  (error) => {\n    console.log(\"Interceptor Error\", error);\n    return Promise.reject(error);\n  }\n);\n","import React, { Fragment, useEffect, useCallback } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\n\nimport { Gallery } from \"./pages/Gallery/Gallery\";\nimport { Admin } from \"./pages/Admin/Admin\";\nimport { userStore } from \"./store/userStore\";\nimport { authStore } from \"./store/authStore\";\nimport { Login } from \"./component/Login/Login\";\n\nimport \"./helpers/axiosInterceptor\";\nimport \"./App.css\";\n\nconst App = observer(() => {\n  const checkForValidAuth = useCallback(async () => {\n    if (authStore.refreshToken !== null) {\n      await authStore.getNewToken();\n      await userStore.fetchuserData();\n    }\n  }, []);\n\n  useEffect(() => {\n    checkForValidAuth();\n  }, [checkForValidAuth]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"App__main\">\n          <Switch>\n            <Route path=\"/admin\">\n              <Admin />\n            </Route>\n            <Route path=\"/\">\n              <div className=\"App__flex\">\n                {authStore.hasAccess ? (\n                  <Gallery />\n                ) : (\n                  <Fragment>\n                    <div className=\"App__title\">&nbsp;kinkograph</div>\n                    <Login />\n                    <div className=\"spacer\"></div>\n                  </Fragment>\n                )}\n              </div>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}