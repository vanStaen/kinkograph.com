{"version":3,"sources":["store/calls/getTags.js","store/calls/getPictures.js","store/pictureStore.js","store/calls/getFavoritesPictures.js","store/calls/postUserFavorites.js","store/favoriteStore.js","component/PictureThumb/PictureThumb.jsx","store/calls/deleteLogout.js","store/calls/postLogin.js","store/calls/getHasAccess.js","store/authStore.js","component/GalleryOverlay/GalleryOverlay.jsx","store/calls/getUserInfo.js","store/userStore.js","helpers/capitalizeFirstLetter.js","pages/Gallery/GalleryHeader/GalleryHeader.jsx","component/FavoritesDrawer/FavoritesDrawer.jsx","pages/Gallery/Gallery.jsx","store/calls/getSinglePicture.js","component/GalleryOverlay/GalleryOverlaySimple.jsx","pages/Info/Info.jsx","store/calls/postTag.js","store/calls/patchPicture.js","store/calls/deletePicture.js","pages/Admin/Uploader/EditDrawer/EditDrawer.jsx","pages/Admin/Uploader/EditPictures/EditPictures.jsx","store/calls/postPicture.js","store/calls/getDuplicate.js","store/calls/getTagsMissing.js","pages/Admin/Uploader/Uploader.jsx","pages/Admin/AdminHeader/AdminHeader.jsx","pages/Admin/UserAdmin/getUsers.js","pages/Admin/UserAdmin/UserInfos/UserInfos.jsx","pages/Admin/UserAdmin/UserAdmin.jsx","store/calls/postEditTag.js","store/calls/deleteTag.js","pages/Admin/TagAdmin/TagAdmin.jsx","pages/Admin/PicAdmin/PicThumbAdmin.jsx","pages/Admin/PicAdmin/PicAdmin.jsx","store/calls/postLoginCode.js","component/PinInput/PinInput.jsx","helpers/checkMobileTablet.js","component/PasswordRecover/postEmailExist.js","component/PasswordRecover/postSendRecoverLink.js","component/PasswordRecover/PasswordRecover.jsx","component/Login/postVerifyEmailLink.js","component/Login/LoginForm.jsx","helpers/validateEmail.js","component/SignUpForm/postUsernameTaken.js","component/SignUpForm/postAddUser.js","component/SignUpForm/SignUpForm.jsx","component/Login/AlreadyMember.jsx","component/Login/Login.jsx","pages/Admin/Admin.jsx","component/FooterStartPage/FooterStartPage.jsx","pages/EmailVerified/postEmailVerified.js","component/LanguageDropDown/LanguageDropDown.jsx","pages/EmailVerified/EmailVerified.jsx","pages/NewPassword/postTokenVerify.js","pages/NewPassword/postChangePassword.js","pages/NewPassword/NewPassword.jsx","lib/i18n.js","App.jsx","reportWebVitals.js","index.js"],"names":["getTags","a","axios","url","process","method","response","status","Error","data","getFilteredTags","filter","requestBody","getPictures","limit","showMissing","getPicturesPerPage","pageNumber","pageSize","getTotalPictures","pictureStore","PAGE_SIZE","totalPictures","selected","lastPageReached","showOverlay","isGalleryLoading","galleryNeedsRefresh","showFilterSelect","isTagInputActive","allPictures","tags","fetchPictures","pictures","length","setLastPageReached","Promise","all","map","picture","image","resolve","reject","loadImg","Image","src","url_thumb","onload","onerror","err","setTags","setAllPictures","setTotalPictures","console","log","setIsGalleryLoading","nextPageHandler","next","nextPage","previousPage","goToPageHandler","page","parseInt","setPageNumber","setShowOverlay","changeSelected","maxSelectable","setSelected","addFilter","push","setFilter","setGalleryNeedsRefresh","setShowFilterSelect","setIsTagInputActive","makeObservable","this","observable","action","getFavoritesPictures","favorites","postUserFavorites","input","JSON","stringify","favoriteStore","favoritesId","favoriteObjectLoading","favoriteObject","showFavorites","fetchFavoriteObject","fetchedFavoriteObject","setFavoriteObject","setFavoriteObjectLoading","setShowFavorites","addToFavoritesId","id","findIndex","pictureId","deleteFromFavoritesId","index","splice","setFavoritesId","PictureThumb","observer","props","isFavorite","mouseHoverHandler","hover","element","document","getElementById","style","visibility","opacity","className","onClick","pic","onMouseEnter","onMouseLeave","alt","FullscreenOutlined","deleteLogout","postLogin","email","username","password","remind","pwd","getHasAccess","access","authStore","isGuest","hasAccess","login","resultLogIn","success","setHasAccess","error","logout","checkAccess","setIsGuest","GalleryOverlay","useState","isLoading","setIsLoading","throttling","useRef","isFirstPicFirstPage","isLastPicLastPage","loadImage","isloaded","useEffect","url_med","closeButton","doubleClickHandler","useCallback","heart","unheart","fontSize","setTimeout","keyDownHandler","event","preventDefault","keyPressed","key","toLowerCase","nextButton","previousButton","current","backgroundColor","addEventListener","removeEventListener","LeftOutlined","RightOutlined","placement","title","CloseOutlined","LoadingOutlined","onDoubleClick","LinkOutlined","linkLogo","link","navigator","clipboard","writeText","then","role","aria-label","HeartFilled","parse","tag","tagClickHander","getUserInfo","userStore","infos","name","isAdmin","language","lastLogin","numberOfPicAtLastLogin","setEmail","setInfos","setName","setUsername","setLanguage","setIsAdmin","setLastLogin","setNumberOfPicAtLastLogin","fetchuserData","userData","last_login","nb_picture_at_last_login","is_admin","capitalizeFirstLetter","string","undefined","charAt","toUpperCase","slice","GalleryHeader","showOpenLock","setShowOpenLock","pageInputValue","Option","Select","maxPage","Math","ceil","handleTagChange","fitlerArray","fitlerArrayCleaned","handleClickLogOut","window","location","reload","UnlockOutlined","LockOutlined","onFocus","onBlur","mode","width","placeholder","defaultValue","onChange","optionLabelProp","value","label","occur","contentEditable","onInput","e","which","target","innerText","onKeyPress","charCode","min","FavoritesDrawer","hideDrawer","closable","onClose","visible","Gallery","onlyOnePage","scroll","direction","scrollToPositionY","eightyPerCentOfHeight","innerHeight","scrollPositionY","scrollY","max","top","left","behavior","nextPageLocalHandler","getSinglePicture","GalleryOverlaySimple","useParams","picKey","setPic","setIsloading","isFound","setIsFound","fetchSinglePicture","res","setShowSingleGallery","cursor","Info","href","to","ArrowLeftOutlined","postTag","tag_name","patchPicture","deletePicture","EditDrawer","allTags","setAllTags","confirmDelete","setConfirmDelete","fetchAllTags","fetchedTags","needReload","setShowUploader","setShowDrawer","valueCleaned","oldTag","submitHandler","newTag","deleteHandler","showDrawer","maxWidth","maxHeight","allowClear","SaveOutlined","DeleteOutlined","QuestionOutlined","EditPictures","showEdit","setShowEdit","totalMissingTag","clickHandler","EditOutlined","size","height","postPicture","file","formData","FormData","append","post","getDuplicate","getTagsMissing","getTagsMissingCountAll","count","Uploader","isUploading","setIsUploading","isDragDroping","setIsDragDroping","picsTagsMissing","setPicsTagsMissing","showUploader","uploadProgress","setUploadProgress","setLimit","missingCountAll","setMissingCountAll","result","notification","message","description","fetchTagsMissingCountAll","calculateMissingTagPicLimit","pageWidth","innerWidth","pageHeight","missingPicContainerWidth","floor","missingPicContainerHeight","numOfPicFittingInContainer","fetchPicsTagsMissing","fileSelectHandler","files","split","warning","handleDrop","stopPropagation","objectOfFiles","dataTransfer","numberOfFiles","i","onSubmit","type","htmlFor","onDrop","onDragOver","handleDragOver","onDragEnter","handleDragEnter","onDragLeave","handleDragLeave","FileAddOutlined","PictureOutlined","AdminHeader","setDisplay","getUsers","UserInfos","setFavorites","showDetail","setShowDetail","fetchFavorites","user","arrayFav","allFav","showDetailElement","display","Date","toString","HistoryOutlined","access_code","color","fav","setSinglePicKey","UserAdmin","setisLoading","allUsers","setAllUsers","showSingleGallery","singlePicKey","fetchAllUser","postEditTag","oldtag","newtag","deleteTag","TagAdmin","renameValue","setRenameValue","replaceValue","setReplaceValue","submitReplaceHandler","submitRenameHandler","selectChangeHandler","tagClickHandler","PicThumbAdmin","checkHasHalo","includes","tagSelected","hasHalo","setHasHalo","pictureClickHandle","tagsArray","indexTag","fetchAllPictures","setPictureSelected","PicAdmin","pictureSelected","setTagSelected","fetchedPics","showSearch","postLoginCode","code","PinInput","lastFiledInput","setLastFiledInput","codeFromInput","setCodeFromInput","isMobileOrTablet","check","userAgent","vendor","opera","test","substr","isMobileOrTabletCheck","keyDownListener","focus","inputID","lastInputWithData","blur","Password","maxLength","marginLeft","autoComplete","postEmailExist","exist","postSendRecoverLink","PasswordRecover","emailDoNotExist","setEmailDoNotExist","t","useTranslation","changeEmailHandler","values","setIsRecovery","warn","initialValues","onFinish","Item","rules","required","prefix","MailOutlined","htmlType","disabled","postVerifyEmailLink","LoginForm","isRecovery","isEmail","emailOrUsername","isValidEmail","String","match","remember","errorMessage","duration","UserOutlined","valuePropName","textAlign","replace","c","SyncOutlined","spin","postUsernameTaken","taken","postAddUser","firstName","lastName","userName","query","variables","headers","SignUpForm","isValidUsername","setIsValidUsername","errorMsgUsername","setErrorMsgUsername","i18n","changeUserNameHandler","isUsernameTaken","regexEmail","firstname","lastname","errors","setShowLogin","lineHeight","SmileOutlined","trigger","validateStatus","hasFeedback","validator","_","dependencies","getFieldValue","AlreadyMember","classname","paddingTop","showSignUp","setShowSignUp","Login","checkPin","userId","loginWithCode","Admin","FooterStartPage","setLoginWithCode","postEmailVerified","token","API_URL","emailVerified","LanguageDropDown","initLanguage","onLanguageChangeHandler","changeLanguage","menu","overlay","DownOutlined","EmailVerified","isVerified","setIsVerified","params","emailIsVerified","verifyCode","postTokenVerify","valid","postChangePassword","changed","NewPassword","isValid","setIsValid","verifyToken","dataEn","require","dataDe","dataFr","use","LanguageDetector","initReactI18next","init","debug","fallbackLng","interpolation","escapeValue","resources","en","translation","de","fr","defineVariableHeight","vh","documentElement","setProperty","App","useLayoutEffect","path","children","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"+oZAEaA,EAAO,uCAAG,4BAAAC,EAAA,sEAEIC,IAAM,CACzBC,IAAKC,+BACLC,OAAQ,QAJO,YAOM,OALnBC,EAFa,QAOLC,OAAuC,MAApBD,EAASC,QAPvB,mBAQS,MAApBD,EAASC,OARE,sBASL,IAAIC,MAAJ,4BATK,aAWL,IAAIA,MAAJ,wBAA2BF,EAASC,SAX/B,gCAeZD,EAASG,MAfG,4CAAH,qDAmBPC,EAAe,uCAAG,WAAOC,GAAP,iBAAAV,EAAA,6DAErBW,EAAc,CAChB,OAAUD,GAHa,SAMJT,IAAM,CACzBC,IAAKC,qCACLC,OAAQ,OACRI,KAAMG,IATiB,YAYF,OANnBN,EANqB,QAYbC,OAAuC,MAApBD,EAASC,QAZf,oBAaC,MAApBD,EAASC,OAbU,sBAcb,IAAIC,MAAJ,4BAda,aAgBb,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBvB,iCAoBpBD,EAASG,MApBW,4CAAH,sDCnBfI,EAAW,uCAAG,WAAOC,EAAOC,GAAd,eAAAd,EAAA,sEAEAC,IAAM,CAC7BC,IAAKC,yBAAA,wBAAiDU,EAAjD,YAA0DC,GAC/DV,OAAQ,QAJe,YAOA,OALjBC,EAFiB,QAOXC,OAAuC,MAApBD,EAASC,QAPjB,mBAQC,MAApBD,EAASC,OARU,sBASf,IAAIC,MAAJ,4BATe,aAWf,IAAIA,MAAJ,wBAA2BF,EAASC,SAXrB,gCAelBD,EAASG,MAfS,4CAAH,wDAmBXO,EAAkB,uCAAG,WAAOC,EAAYC,GAAnB,+BAAAjB,EAAA,6DAA6BU,EAA7B,+BAAsC,GAEhEC,EAAc,CAClB,WAAcK,EACd,SAAYC,EACZ,OAAUP,GALoB,SAQTT,IAAM,CACzBC,IAAKC,uCACLC,OAAQ,OACRI,KAAMG,IAXsB,YAcP,OANnBN,EAR0B,QAclBC,OAAuC,MAApBD,EAASC,QAdV,oBAeN,MAApBD,EAASC,OAfiB,uBAgBtB,IAAIC,MAAJ,4BAhBsB,cAkBtB,IAAIA,MAAJ,wBAA2BF,EAASC,SAlBd,iCAsBzBD,EAASG,MAtBgB,4CAAH,wDA2BlBU,EAAgB,uCAAG,4CAAAlB,EAAA,6DAAOU,EAAP,+BAAgB,GAExCC,EAAc,CAClB,OAAUD,GAHkB,SAMPT,IAAM,CACzBC,IAAKC,yCACLC,OAAQ,OACRI,KAAMG,IAToB,YAYL,OANnBN,EANwB,QAYhBC,OAAuC,MAApBD,EAASC,QAZZ,oBAaJ,MAApBD,EAASC,OAbe,uBAcpB,IAAIC,MAAJ,4BAdoB,cAgBpB,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBhB,iCAmBvBD,EAASG,MAnBc,4CAAH,qDC4IhBW,EAAe,IA9J1B,aAAe,IAAD,gCAfdC,UAAY,IAeE,KAbdJ,WAAa,EAaC,KAZdK,cAAgB,EAYF,KAXdC,SAAW,KAWG,KAVdC,iBAAkB,EAUJ,KATdC,aAAc,EASA,KARdC,kBAAmB,EAQL,KAPdC,qBAAsB,EAOR,KANdC,kBAAmB,EAML,KALdC,kBAAmB,EAKL,KAJdC,YAAc,GAIA,KAHdC,KAAO,GAGO,KAFdpB,OAAS,GAEK,KAkCdqB,cAlCc,sBAkCE,gCAAA/B,EAAA,+EAEWe,EACrB,EAAKC,WACL,EAAKI,UACL,EAAKV,QALK,cAENsB,EAFM,gBAOgBd,EAAiB,EAAKR,QAPtC,cAONW,EAPM,OAQRW,EAASC,OAAS,EAAKb,UACzBD,EAAae,oBAAmB,GAEhCf,EAAae,oBAAmB,GAXtB,UAaOzB,EAAgB,EAAKC,QAb5B,eAaNoB,EAbM,iBAcNK,QAAQC,IAAIJ,EAASK,KAAI,SAACC,GAAD,OAzElBC,EAyEyCD,EAxEnD,IAAIH,SAAQ,SAACK,EAASC,GAC3B,IAAMC,EAAU,IAAIC,MACpBD,EAAQE,IAAML,EAAMM,UACpBH,EAAQI,OAAS,kBAAMN,EAAQD,EAAMrC,MACrCwC,EAAQK,QAAU,SAACC,GAAD,OAASP,EAAOO,OALpB,IAACT,MA2DD,QAeZpB,EAAa8B,QAAQnB,GAErB,EAAKoB,eAAelB,GACpB,EAAKmB,iBAAiB9B,GAlBV,kDAoBZ+B,QAAQC,IAAR,MApBY,QAsBdlC,EAAamC,qBAAoB,GAtBnB,0DAlCF,KA2DdC,gBA3Dc,uCA2DI,WAAOC,GAAP,iBAAAxD,EAAA,yDAChBmB,EAAamC,qBAAoB,IAC7BE,EAFY,uBAGRC,EAAW,EAAKzC,WAAa,EACnC,EAAKA,WAAayC,EAJJ,SAKR,EAAK1B,cAAc0B,GALX,qCAORC,EAAe,EAAK1C,WAAa,EACvC,EAAKA,WAAa0C,EARJ,UASR,EAAK3B,cAAc2B,GATX,4CA3DJ,2DAwEdC,gBAxEc,uCAwEI,WAAOC,GAAP,SAAA5D,EAAA,6DAChBmB,EAAamC,qBAAoB,GAC/B,EAAKtC,WAAa6C,SAASD,GAFb,SAGR,EAAK7B,cAAc6B,GAHX,2CAxEJ,2DA8EdE,cAAgB,SAAC9C,GACf,EAAKA,WAAaA,GA/EN,KAkFdkB,mBAAqB,SAACX,GACpB,EAAKA,gBAAkBA,GAnFX,KAsFdwC,eAAiB,SAACvC,GAChB,EAAKA,YAAcA,GAvFP,KA0FdwC,eA1Fc,uCA0FG,WAAOR,GAAP,iBAAAxD,EAAA,yDACTsB,EAAW,EAAKA,SAChB2C,EAAgB,EAAKpC,YAAYI,OAAS,GAC5CuB,EAHW,oBAITlC,IAAa2C,EAJJ,gCAKL,EAAKV,iBAAgB,GALhB,OAMX,EAAKjC,SAAW,EANL,uBAQX,EAAKA,SAAWA,EAAW,EARhB,mCAWI,IAAbA,EAXS,kCAYL,EAAKiC,iBAAgB,GAZhB,QAaX,EAAKjC,SAAW,EAAKF,UAAW,EAbrB,wBAeX,EAAKE,SAAWA,EAAW,EAfhB,4CA1FH,2DA8Gd4C,YA9Gc,uCA8GA,WAAO5C,GAAP,SAAAtB,EAAA,sDACZ,EAAKsB,SAAWA,EADJ,2CA9GA,2DAkHd4B,eAAiB,SAACrB,GAChB,EAAKA,YAAcA,GAnHP,KAsHdsB,iBAAmB,SAAC9B,GAClB,EAAKA,cAAgBA,GAvHT,KA0Hd8C,UA1Hc,uCA0HF,WAAOzD,GAAP,SAAAV,EAAA,sEACJ,EAAKU,OAAO0D,KAAK1D,GADb,OAEVS,EAAamC,qBAAoB,GACjCnC,EAAa2C,cAAc,GAC3B3C,EAAaY,gBAJH,2CA1HE,2DAiIdsC,UAAY,SAAC3D,GACX,EAAKA,OAASA,EACdS,EAAamC,qBAAoB,GACjC,EAAKQ,cAAc,GACnB3C,EAAaY,iBArID,KAwIduB,oBAAsB,SAAC7B,GACrB,EAAKA,iBAAmBA,GAzIZ,KA4Id6C,uBAAyB,SAAC5C,GACxB,EAAKA,oBAAsBA,GA7If,KAgJd6C,oBAAsB,SAAC5C,GACrB,EAAKA,iBAAmBA,GAjJZ,KAoJd6C,oBAAsB,SAAC5C,GACrB,EAAKA,iBAAmBA,GArJZ,KAwJdqB,QAAU,SAACnB,GACT,EAAKA,KAAOA,GAxJZ2C,YAAeC,KAAM,CACnB1D,WAAY2D,IACZb,cAAec,IACfrD,gBAAiBoD,IACjBzC,mBAAoB0C,IACpBpD,YAAamD,IACbZ,eAAgBa,IAChBtD,SAAUqD,IACVT,YAAaU,IACbZ,eAAgBY,IAChB/C,YAAa8C,IACbzB,eAAgB0B,IAChBvD,cAAesD,IACfxB,iBAAkByB,IAClBlE,OAAQiE,IACRR,UAAWS,IACXP,UAAWO,IACXnD,iBAAkBkD,IAClBrB,oBAAqBsB,IACrBlD,oBAAqBiD,IACrBL,uBAAwBM,IACxBjD,iBAAkBgD,IAClBJ,oBAAqBK,IACrB7C,cAAe6C,IACfrB,gBAAiBqB,IACjBjB,gBAAiBiB,IACjB9C,KAAM6C,IACN1B,QAAS2B,IACThD,iBAAkB+C,IAClBH,oBAAqBI,O,SC1DdC,EAAoB,uCAAG,WAAOC,GAAP,iBAAA9E,EAAA,6DAE5BW,EAAc,CAClB,UAAamE,GAHmB,SAMX7E,IAAM,CACzBC,IAAKC,6CACLC,OAAQ,OACRI,KAAMG,IATwB,YAYT,OANnBN,EAN4B,QAYpBC,OAAuC,MAApBD,EAASC,QAZR,oBAaR,MAApBD,EAASC,OAbmB,sBAcxB,IAAIC,MAAJ,4BAdwB,aAgBxB,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBZ,iCAoB3BD,EAASG,MApBkB,4CAAH,sDCApBuE,EAAiB,uCAAG,WAAOD,GAAP,iBAAA9E,EAAA,6DAEvBW,EAAc,CAChBqE,MAAO,CACH,UAAaC,KAAKC,UAAUJ,KAJP,SAQN7E,IAAM,CACzBC,IAAKC,8BACLC,OAAQ,OACRI,KAAMG,IAXmB,YAcJ,OANnBN,EARuB,QAcfC,OAAuC,MAApBD,EAASC,QAdb,oBAeD,MAApBD,EAASC,OAfY,sBAgBf,IAAIC,MAAJ,4BAhBe,aAkBf,IAAIA,MAAJ,wBAA2BF,EAASC,SAlBrB,iCAsBtBD,GAtBsB,4CAAH,sDC2EjB8E,EAAgB,IAjE3B,aAAe,IAAD,gCALdC,YAAc,GAKA,KAJdC,uBAAwB,EAIV,KAHdC,eAAiB,GAGH,KAFdC,eAAgB,EAEF,KAgBdC,oBAhBc,sBAgBQ,4BAAAxF,EAAA,oEAEdmF,EAAcC,YAAYnD,OAAS,GAFrB,gCAGoB4C,EAChCM,EAAcC,aAJF,OAGVK,EAHU,OAMhBN,EAAcO,kBAAkBD,GANhB,uDASlBrC,QAAQC,IAAR,MATkB,QAWpB8B,EAAcQ,0BAAyB,GAXnB,yDAhBR,KA8BdD,kBAAoB,SAACJ,GACnB,EAAKA,eAAiBA,GA/BV,KAkCdK,yBAA2B,SAACN,GAC1B,EAAKA,sBAAwBA,GAnCjB,KAsCdO,iBAtCc,uCAsCK,WAAOL,GAAP,SAAAvF,EAAA,sDACjB,EAAKuF,cAAgBA,EACjBA,GACFJ,EAAcK,sBAHC,2CAtCL,2DA6CdK,iBAAmB,SAACC,GACJ,EAAKV,YAAYW,WAAU,SAACC,GAAD,OAAeA,IAAcF,KAC1D,GACV,EAAKV,YAAYhB,KAAK0B,GAExBf,EAAkB,EAAKK,cAlDX,KAqDda,sBAAwB,SAACH,GACvB,IAAMI,EAAQ,EAAKd,YAAYW,WAAU,SAACC,GAAD,OAAeA,IAAcF,KACtE,EAAKV,YAAYe,OAAOD,EAAO,GAC/BnB,EAAkB,EAAKK,cAxDX,KA2DdgB,eAAiB,SAAChB,GAChB,EAAKA,YAAcA,GA3DnBX,YAAeC,KAAM,CACjBY,eAAgBX,IAChBe,kBAAmBd,IACnBS,sBAAuBV,IACvBgB,yBAA0Bf,IAC1BY,oBAAqBZ,IACrBW,cAAeZ,IACfiB,iBAAkBhB,IAClBQ,YAAaT,IACbkB,iBAAkBjB,IAClBwB,eAAgBxB,IAChBqB,sBAAuBrB,O,gBCflByB,EAAeC,aAAS,SAACC,GACpC,IAAMC,EAAarB,EAAcC,YAAYW,WAC3C,SAACD,GAAD,OAAQA,IAAOS,EAAMjE,QAAQwD,MAGzBW,EAAoB,SAACC,GACzB,IAAMC,EAAUC,SAASC,eAAT,cAA+BN,EAAMjE,QAAQwD,KACvDxD,EAAUsE,SAASC,eAAT,cAA+BN,EAAMjE,QAAQwD,KACzDY,GACFC,EAAQG,MAAMC,WAAa,UAC3BJ,EAAQG,MAAME,QAAU,EACxB1E,EAAQwE,MAAMpG,OAAS,iCAEvBiG,EAAQG,MAAMC,WAAa,SAC3BJ,EAAQG,MAAME,QAAU,EACxB1E,EAAQwE,MAAMpG,OAAS,kCAY3B,OACE,cAAC,WAAD,UACE,sBACEuG,UAAU,qBACVC,QAZe,WACnB/F,EAAa4C,gBAAe,GAC5B,IAAMmC,EAAQ/E,EAAaU,YAAYkE,WACrC,SAACoB,GAAD,OAASA,EAAIrB,KAAOS,EAAMjE,QAAQwD,MAEpC3E,EAAa+C,YAAYgC,IAQrBkB,aAAc,kBAAMX,GAAkB,IACtCY,aAAc,kBAAMZ,GAAkB,IAJxC,UAME,qBACEX,GAAE,cAASS,EAAMjE,QAAQwD,IACzBmB,UAAS,+BACNV,EAAMjE,QAAQR,MAAQ,qBADhB,wBAEP0E,GAAc,GAAK,OAFZ,KAGT5D,IAAK2D,EAAMjE,QAAQO,UACnByE,IAAKf,EAAMjE,QAAQwD,IACdS,EAAMjE,QAAQwD,IAErB,qBAAKmB,UAAU,sBAAf,UACIV,EAAMjE,QAAQR,MAAQ,iBAE1B,sBAAKgE,GAAE,cAASS,EAAMjE,QAAQwD,IAAMmB,UAAU,mBAA9C,UACE,cAACM,EAAA,EAAD,IACA,sBAAKN,UAAU,cAAf,cAA+BV,EAAMjE,QAAQwD,iB,oDCxD1C0B,EAAY,uCAAG,4BAAAxH,EAAA,sEACHC,IAAM,CAC3BC,IAAKC,gCACLC,OAAQ,WAHgB,UAMF,OALlBC,EADoB,QAMbC,OANa,sBAOlB,IAAIC,MAAJ,kCAAqCF,EAASC,SAP5B,2CAAH,qDCAZmH,EAAS,uCAAG,WAAOC,EAAOC,EAAUC,EAAUC,GAAlC,iBAAA7H,EAAA,6DACjBW,EAAc,CAClB+G,MAAOA,EACPC,SAAUA,EACVG,IAAKF,EACLC,OAAQA,GALa,kBASE5H,IAAM,CAC3BC,IAAKC,qCACLC,OAAQ,OACRI,KAAMG,IAZa,cASfN,EATe,yBAcdA,EAASG,MAdK,mCAgBO,MAAxB,KAAIH,SAASC,OAhBI,uBAiBb,IAAIC,MAAJ,4BAjBa,iCAmBd,KAAIF,SAASG,MAnBC,yDAAH,4DCATuH,EAAY,uCAAG,4BAAA/H,EAAA,sEAEDC,IAAM,CACzBC,IAAKC,sCACLC,OAAQ,QAJY,YAOC,OALnBC,EAFkB,QAOVC,OAAuC,MAApBD,EAASC,QAPlB,mBAQI,MAApBD,EAASC,OARO,sBASV,IAAIC,MAAJ,4BATU,aAWV,IAAIA,MAAJ,wBAA2BF,EAASC,SAX1B,gCAejBD,EAASG,KAAKwH,QAfG,4CAAH,qDCqDZC,EAAY,IA5CvB,aAAe,IAAD,gCAHdC,SAAU,EAGI,KAFdC,WAAY,EAEE,KAWdC,MAXc,uCAWN,WAAOV,EAAOC,EAAUC,EAAUC,GAAlC,eAAA7H,EAAA,6DACD6H,IACHA,GAAS,GAFL,SAKoBJ,EAAUC,EAAOC,EAAUC,EAAUC,GALzD,YAKAQ,EALA,QAMUC,QANV,gBAOJ,EAAKC,cAAa,GAPd,+CASGF,EAAYG,OATf,2CAXM,iEAwBdC,OAxBc,sBAwBL,sBAAAzI,EAAA,sEAEDwH,IAFC,2CAxBK,KA6BdkB,YA7Bc,sBA6BA,4BAAA1I,EAAA,sEACY+H,IADZ,OACNI,EADM,OAGZ,EAAKI,aAAaJ,GAHN,2CA7BA,KAmCdQ,WAAa,SAACT,GACZ,EAAKA,QAAUA,GApCH,KAuCdK,aAAe,SAACJ,GACd,EAAKA,UAAYA,GAvCjB1D,YAAeC,KAAM,CACnB0D,MAAOxD,IACP6D,OAAQ7D,IACRsD,QAASvD,IACTgE,WAAY/D,IACZuD,UAAWxD,IACX4D,aAAc3D,OCMPgE,G,OAAiBtC,aAAS,WACrC,MAAkCuC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACMC,EAAaC,kBAAO,GACpB3H,EAAWH,EAAaU,YAAYV,EAAaG,UACvD8B,QAAQC,IAAIlC,EAAaG,UACzB,IAKMkF,GALkBlF,EACpB6D,EAAcC,YAAYW,WACxB,SAACC,GAAD,OAAeA,IAAc1E,EAASwE,OAEvC,IACiC,EAChCoD,EACwB,IAA5B/H,EAAaH,YAA8C,IAA1BG,EAAaG,SAC1C6H,EACJhI,EAAaI,iBACbJ,EAAaU,YAAYI,SAAWd,EAAaG,SAAW,EAExD8H,EAAS,uCAAG,WAAO7G,GAAP,eAAAvC,EAAA,6DAChB+I,GAAa,GACPM,EAAW,IAAIlH,SAAQ,SAACK,EAASC,GACrC,IAAMC,EAAU,IAAIC,MACpBD,EAAQE,IAAML,EACdG,EAAQI,OAAS,kBAAMN,EAAQD,EAAMrC,MACrCwC,EAAQK,QAAU,SAACC,GAAD,OAASP,EAAOO,OANpB,SAQVqG,EARU,OAShBN,GAAa,GATG,2CAAH,sDAYfO,qBAAU,WACRhI,GAAY8H,EAAU9H,EAASiI,WAC9B,CAACjI,IAEJ,IAAMmF,EAAoB,SAACC,GACzB,IAAM8C,EAAc5C,SAASC,eAAT,eAChBH,GACF8C,EAAY1C,MAAMC,WAAa,SAC/ByC,EAAY1C,MAAME,QAAU,IAE5BwC,EAAY1C,MAAMC,WAAa,UAC/ByC,EAAY1C,MAAME,QAAU,IAI1ByC,EAAqBC,uBACzB,SAAC5D,GACC,IAAKmC,EAAUC,QAAS,CACtB,IAAMyB,EAAQ/C,SAASC,eAAT,SACR+C,EAAUhD,SAASC,eAAT,WACXL,GAWHoD,EAAQ9C,MAAMC,WAAa,UAC3B6C,EAAQ9C,MAAME,QAAU,GACxB4C,EAAQ9C,MAAM+C,SAAW,OACzBC,YAAW,WACTF,EAAQ9C,MAAMC,WAAa,SAC3B6C,EAAQ9C,MAAME,QAAU,EACxB4C,EAAQ9C,MAAM+C,SAAW,QACxB,KACH1E,EAAcc,sBAAsBH,KAlBpC6D,EAAM7C,MAAMC,WAAa,UACzB4C,EAAM7C,MAAME,QAAU,GACtB2C,EAAM7C,MAAM+C,SAAW,OACvBC,YAAW,WACTH,EAAM7C,MAAMC,WAAa,SACzB4C,EAAM7C,MAAME,QAAU,EACtB2C,EAAM7C,MAAM+C,SAAW,QACtB,KACH1E,EAAcU,iBAAiBC,OAcrC,CAACU,IAGGuD,EAAiBL,uBACrB,SAACM,GACCA,EAAMC,iBACN,IAAMC,EAAaF,EAAMG,IAAIC,cACvBC,EAAazD,SAASC,eAAT,cACbyD,EAAiB1D,SAASC,eAAT,mBACI,IAAvBmC,EAAWuB,UACbvB,EAAWuB,SAAU,EAEH,cAAfL,GAA6C,eAAfA,GAC9Bf,EAQe,YAAfe,GAA2C,cAAfA,GAC5BhB,EAOuB,UAAfgB,EACTT,EAAmBnI,EAASwE,IACJ,WAAfoE,GACT/I,EAAa4C,gBAAe,IAR5BuG,EAAexD,MAAM0D,gBAAkB,wBACvCrJ,EAAa6C,gBAAe,GAC5B8F,YAAW,WACTQ,EAAexD,MAAM0D,gBAAkB,yBACtC,OAbHH,EAAWvD,MAAM0D,gBAAkB,wBACnCrJ,EAAa6C,gBAAe,GAC5B8F,YAAW,WACTO,EAAWvD,MAAM0D,gBAAkB,yBAClC,MAeLV,YAAW,WACTd,EAAWuB,SAAU,IACpB,QAGP,CAACjJ,EAAUmI,EAAoBP,EAAqBC,IAQtDG,qBAAU,WAER,OADA1C,SAAS6D,iBAAiB,UAAWV,GAC9B,WACLnD,SAAS8D,oBAAoB,UAAWX,MAEzC,CAACA,IAyBJ,OACE,sBAAK9C,UAAU,mBAAf,UACE,qBACEA,UAAU,sBACVC,QAAS,WACP/F,EAAa4C,gBAAe,OAG9BmF,GACA,qBACEjC,UAAU,sBACVnB,GAAG,iBACHoB,QAAS,WACP/F,EAAa6C,gBAAe,IAJhC,SAOE,cAAC2G,EAAA,EAAD,OAGFxB,GACA,qBACElC,UAAU,uBACVnB,GAAG,aACHsB,aAAc,kBAAMX,GAAkB,IACtCY,aAAc,kBAAMZ,GAAkB,IACtCS,QAAS,WACP/F,EAAa6C,gBAAe,IANhC,SASE,cAAC4G,EAAA,EAAD,MAGJ,cAAC,IAAD,CACEC,UAAU,aACVC,MACE,iCACE,sCADF,2FAE4B,oCAF5B,mEAHJ,SAUE,qBACE7D,UAAU,uBACVnB,GAAG,cACHoB,QAAS,WACP/F,EAAa4C,gBAAe,IAJhC,SAOE,cAACgH,EAAA,EAAD,QAGHjC,EACC,cAACkC,EAAA,EAAD,CAAiB/D,UAAU,qBAE3B,sBACEA,UAAU,4BACVgE,cAAe,WACbxB,EAAmBnI,EAASwE,KAHhC,UAME,sBAAKmB,UAAU,sBAAf,UACG3F,GACC,sBAAK2F,UAAU,gBAAf,UACE,cAAC,IAAD,CACE4D,UAAU,aACVC,MACE,iCACE,sCADF,yCAHJ,SAQGxJ,EAAS6I,KAAO,cAACe,EAAA,EAAD,CAAchE,QA/FvB,WACtB,GAAI5F,EAAS6I,IAAK,CAChB,IAAMgB,EAAWvE,SAASC,eAAT,QACjBsE,EAASrE,MAAMC,WAAa,UAC5BoE,EAASrE,MAAME,QAAU,IACzBmE,EAASrE,MAAM+C,SAAW,OAC1BC,YAAW,WACTqB,EAASrE,MAAMC,WAAa,SAC5BoE,EAASrE,MAAME,QAAU,EACzBmE,EAASrE,MAAM+C,SAAW,QACzB,KACH,IAAMuB,EAAI,gCAA4B9J,EAAS6I,KAC/CkB,UAAUC,UAAUC,UAAUH,GAAMI,MAClC,WACEpI,QAAQC,IAAI,kDAEd,SAAUL,GACRI,QAAQoF,MAAM,+BAAgCxF,YA+E7B,IACV1B,EAASwE,MAId,qBAAKmB,UAAU,kBAAf,UACIgB,EAAUC,UACT1B,EACC,eAAC,WAAD,WACE,sBACEiF,KAAK,MACLC,aAAW,QACX5E,MAAO,CAAE+C,SAAU,SAHrB,0BAMQ,IAPV,yBAWA,+CAKR,sBAAK5C,UAAU,wBAAf,UACE,qBAAKA,UAAU,4BAAf,wBACA,cAAC0E,EAAA,EAAD,CAAa7F,GAAG,QAAQmB,UAAU,mBAClC,cAACiE,EAAA,EAAD,CAAcpF,GAAG,OAAOmB,UAAU,mBAClC,cAAC8D,EAAA,EAAD,CAAejF,GAAG,UAAUmB,UAAU,sBAEvC3F,GACC,qBACE2F,UAAU,mBACVrE,IAAKtB,EAASiI,QACdjC,IAAKhG,EAASwE,IAHhB,eAIexE,EAASwE,KAGzBxE,GACC,qBAAK2F,UAAU,gBAAf,SACGhC,KAAK2G,MAAMtK,EAASQ,MAAMO,KAAI,SAACwJ,GAAD,OAC7B,eAAC,WAAD,WACE,uBAAM3E,QAAS,kBAtJR,SAAC2E,GACtB1K,EAAa4C,gBAAe,GAC5B5C,EAAagD,UAAU0H,GAoJYC,CAAeD,IAApC,cAA4CA,KAD9C,yB,2BC7RHE,EAAW,uCAAG,4BAAA/L,EAAA,sEAEAC,IAAM,CACzBC,IAAKC,8BACLC,OAAQ,QAJW,YAOE,OALnBC,EAFiB,QAOTC,OAAuC,MAApBD,EAASC,QAPnB,mBAQK,MAApBD,EAASC,OARM,sBAST,IAAIC,MAAJ,4BATS,aAWT,IAAIA,MAAJ,wBAA2BF,EAASC,SAX3B,gCAehBD,EAASG,KAAK,IAfE,4CAAH,qDCsFXwL,EAAY,IAzEvB,aAAe,IAAD,gCATdtE,MAAQ,KASM,KARduE,MAAQ,KAQM,KAPdC,KAAO,QAOO,KANdvE,SAAW,KAMG,KALdwE,SAAU,EAKI,KAJdC,SAAW,KAIG,KAHdC,UAAY,KAGE,KAFdC,uBAAyB,KAEX,KAsBdC,SAAW,SAAC7E,GACV,EAAKA,MAAQA,GAvBD,KA0Bd8E,SAAW,SAACP,GACV,EAAKA,MAAQA,GA3BD,KA8BdQ,QAAU,SAACP,GACT,EAAKA,KAAOA,GA/BA,KAkCdQ,YAAc,SAAC/E,GACb,EAAKA,SAAWA,GAnCJ,KAsCdgF,YAAc,SAACP,GACb,EAAKA,SAAWA,GAvCJ,KA0CdQ,WAAa,SAACT,GACZ,EAAKA,QAAUA,GA3CH,KA8CdU,aAAe,SAACR,GACd,EAAKA,UAAYA,GA/CL,KAkDdS,0BAA4B,SAACR,GAC3B,EAAKA,uBAAyBA,GAnDlB,KAsDdS,cAtDc,sBAsDE,4BAAA/M,EAAA,sEACS+L,IADT,QACRiB,EADQ,UAGZhB,EAAUO,SAASS,EAAStF,OAC5BsE,EAAUQ,SAASQ,EAASf,OAC5BD,EAAUS,QAAQO,EAASd,MAC3BF,EAAUU,YAAYM,EAASC,YAC/BjB,EAAUa,aAAaG,EAASE,0BAChClB,EAAUc,0BAA0BE,EAASrF,UACzCqF,EAASlI,WACXK,EAAciB,eAAenB,KAAK2G,MAAMoB,EAASlI,YAE/CkI,EAASG,UACXnB,EAAUY,WAAWI,EAASG,WAbpB,2CArDd1I,YAAeC,KAAM,CACnBqI,cAAenI,IACf2H,SAAU3H,IACV8C,MAAO/C,IACP6H,SAAU5H,IACVqH,MAAOtH,IACP8H,QAAS7H,IACTsH,KAAMvH,IACN+H,YAAa9H,IACbwH,SAAUzH,IACVgI,YAAa/H,IACbyH,UAAW1H,IACXkI,aAAcjI,IACd0H,uBAAwB3H,IACxBmI,0BAA2BlI,IAC3B+C,SAAUhD,IACVwH,QAASxH,IACTiI,WAAYhI,OChCT,SAASwI,EAAsBC,GAClC,YAAeC,IAAXD,GAAmC,OAAXA,EACjB,KAENA,EAAOE,OAAO,GAAGC,cAAgBH,EAAOI,MAAM,G,WCQ5CC,EAAgBpH,aAAS,WACpC,MAAwCuC,oBAAS,GAAjD,mBAAO8E,EAAP,KAAqBC,EAArB,KACMC,EAAiB5E,iBAAO9H,EAAaH,YACnC8M,EAAWC,IAAXD,OACFE,EAAUC,KAAKC,KACnB/M,EAAaE,cAAgBF,EAAaC,UAC1C,GAGI+M,EAAkBzE,sBAAW,uCAAC,WAAO0E,GAAP,eAAApO,EAAA,sDAClCmB,EAAamC,qBAAoB,GAC3B+K,EAAqBD,EAAY/L,KAAI,SAACwJ,GAC1C,OAAOuB,EAAsBvB,MAE/B1K,EAAakD,UAAUgK,GALW,2CAAD,sDAMhC,IAUGC,EAAoB,WACxBrG,EAAUQ,SACVqB,YAAW,WACTyE,OAAOC,SAASC,WACf,MA6BL,OACE,sBAAKxH,UAAU,sBAAf,UACE,qBAAKA,UAAU,sBAAf,SACG9B,EAAcC,YAAYnD,OACzB,eAAC,WAAD,WACE,sBAAKgF,UAAU,yBAAf,UACE,sBACEA,UAAU,wBACVG,aAAc,kBAAMwG,GAAgB,IACpCvG,aAAc,kBAAMuG,GAAgB,IACpC1G,QAASoH,EAJX,SAME,cAAC,IAAD,CAASzD,UAAU,aAAaC,MAAM,SAAtC,SACG6C,EAAe,cAACe,EAAA,EAAD,IAAqB,cAACC,EAAA,EAAD,QAEjC,IAVV,QAYE,uBACE1H,UAAU,0BACVC,QAxDyB,WACrC/B,EAAcS,kBAAiB,IAqDrB,UAIGT,EAAcC,YAAYnD,OAJ7B,WAKGkD,EAAcC,YAAYnD,OAAS,GAAK,UAG7C,sBAAKgF,UAAU,2BAAf,+BACqB9B,EAAcC,YAAYnD,OAAS,GAAK,UAI/D,eAAC,WAAD,WACE,sBAAKgF,UAAU,yBAAf,UACE,sBACEA,UAAU,6BACVG,aAAc,kBAAMwG,GAAgB,IACpCvG,aAAc,kBAAMuG,GAAgB,IACpC1G,QAASoH,EAJX,SAME,cAAC,IAAD,CAASzD,UAAU,aAAaC,MAAM,SAAtC,SACG6C,EAAe,cAACe,EAAA,EAAD,IAAqB,cAACC,EAAA,EAAD,QAEjC,IAVV,QAYG3C,EAAUE,KACT,eAAC,IAAD,CACErB,UAAU,aACVC,MACE,iCACE,sCADF,kGAHJ,mBASSkB,EAAUE,KATnB,OAYA,qBAGJ,qBAAKjF,UAAU,2BAAf,+CAMN,qBACEA,UAAU,wBACV2H,QAAS,WACPzN,EAAaqD,qBAAoB,IAEnCqK,OAAQ,WACN1N,EAAaqD,qBAAoB,IANrC,SASGrD,EAAaT,OAAOuB,OAAS,GAAKd,EAAaQ,iBAC9C,cAAC,IAAD,CACEmN,KAAK,WACLhI,MAAO,CAAEiI,MAAO,QAChBC,YAAY,kBACZC,aAAc9N,EAAaT,OAC3BwO,SAAUf,EACVlH,UAAU,8BACVkI,gBAAgB,QAPlB,SASGhO,EAAaW,KAAKO,KAAI,SAACwJ,GACtB,OACE,cAACiC,EAAD,CAAQsB,MAAOvD,EAAIA,IAAKwD,MAAOxD,EAAIA,IAAnC,SACE,sBAAK5E,UAAU,yBAAf,UACG4E,EAAIA,IADP,IACY,uBAAM5E,UAAU,QAAhB,cAA0B4E,EAAIyD,MAA9B,iBAOpB,sBACErI,UAAU,2BACVC,QA1IqB,WAC7B/F,EAAaoD,qBAAoB,IAuI3B,0BAIgB,IACd,sBAAM0C,UAAU,4BAAhB,oBALF,oBAUJ,qBAAKA,UAAU,uBAAf,SACE,cAAC,IAAD,CACE4D,UAAU,cACVC,MACE,iCACE,sCADF,8HAHJ,SASE,sBAAK7D,UAAU,0BAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,qCACO,IACL,qBACEA,UAAU,8BACVsI,gBAAgB,OAChBC,QApJW,SAACC,GACtBA,EAAEC,MAAQ,IAAMD,EAAEC,MAAQ,GAC5BD,EAAExF,iBAEEwF,EAAEE,OAAOC,UAAY5B,GACvB5K,QAAQC,IAAI,yBACZwK,EAAetD,QAAUyD,GAChByB,EAAEE,OAAOC,UAAY,GAC9BxM,QAAQC,IAAI,+BACZwK,EAAetD,QAAU,GAEzBsD,EAAetD,QAAUkF,EAAEE,OAAOC,WA0IxBC,WArImB,SAAC7F,GAC9BA,EAAM8F,UAAY,IAAM9F,EAAM8F,UAAY,IAE5C9F,EAAMC,iBAEe,KAAnBD,EAAM8F,UACR3O,EAAawC,gBAAgBkK,EAAetD,UA2HlC,SAMGpJ,EAAaH,gBAGlB,uBAAM8F,MAAO,CAAE+C,SAAU,SAAzB,gBAAwCmE,QAE1C,sBAAK/G,UAAU,2BAAf,WACI9F,EAAaH,WAAa,GAAKG,EAAaC,UAAY,EAD5D,IAEG6M,KAAK8B,IACJ5O,EAAaH,WAAaG,EAAaC,UACvCD,EAAaE,eACZ,IALL,MAMMF,EAAaE,8B,SCvMlB2O,G,OAAkB1J,aAAS,WACtC,IAAM2J,EAAavG,uBAAY,WAC7BvE,EAAcS,kBAAiB,KAC9B,IAEH,OACE,cAAC,IAAD,CACEkF,MACE,uBAAM7D,UAAU,yBAAhB,kBACQ9B,EAAcC,YAAYnD,OADlC,YAEGkD,EAAcC,YAAYnD,OAAS,GAAK,OAG7C4I,UAAU,OACVqF,UAAU,EACVC,QAAS,kBAAMF,GAAW,IAC1BG,QAASjL,EAAcI,cACvBwJ,MAAM,MAXR,SAcG5J,EAAcE,sBACb,+CAEA,8BACGF,EAAcG,eAAejD,KAAI,SAACoN,GACjC,OACE,sBAAKxI,UAAU,oCAAf,cACIwI,EAAE3J,GACJ,qBACEmB,UAAU,2BACVrE,IAAK6M,EAAElG,QACPjC,IAAKmI,EAAE3J,IACF2J,EAAE3J,kBC5BZuK,G,OAAU/J,aAAS,WAC9B,IAAM0C,EAAaC,kBAAO,GACpBqH,EACwB,IAA5BnP,EAAaH,YAAoBG,EAAaI,gBAEhD+H,qBAAU,WACJnI,EAAaO,sBACfP,EAAaY,gBACbZ,EAAamD,wBAAuB,MAGrC,CAACnD,EAAaO,sBAEjB,IAAM6O,EAAS7G,uBAAY,SAAC8G,GAC1B,IAEIC,EAFEC,EAA6C,GAArBnC,OAAOoC,YAC/BC,EAAkBrC,OAAOsC,QAEb,SAAdL,EACFC,EAAoBG,EAAkBF,EACf,OAAdF,IACTC,EAAoBxC,KAAK6C,IAAIF,EAAkBF,EAAuB,IAExEnC,OAAOgC,OAAO,CACZQ,IAAKN,EACLO,KAAM,EACNC,SAAU,aAEX,IAEGlH,EAAiBL,uBACrB,SAACM,GACC,IAAME,EAAaF,EAAMG,IAAIC,cAEZ,eAAfF,GACe,cAAfA,GACe,cAAfA,GACe,YAAfA,IAEAF,EAAMC,iBACD9I,EAAaK,aAAgBL,EAAaS,mBAClB,IAAvBoH,EAAWuB,UACbvB,EAAWuB,SAAU,EACF,eAAfL,GAAgC/I,EAAaI,gBAIhC,cAAf2I,GACA/I,EAAaH,WAAa,GAE1BG,EAAaoD,qBAAoB,GACjC2M,GAAqB,IACG,cAAfhH,EACTqG,EAAO,QACiB,YAAfrG,GACTqG,EAAO,OAXPpP,EAAaoD,qBAAoB,GACjC2M,GAAqB,IAYvBpH,YAAW,WACTd,EAAWuB,SAAU,IACpB,SAKX,CAACgG,IAGGW,EAAoB,uCAAG,WAAO9B,GAAP,SAAApP,EAAA,sEACrBmB,EAAaoC,gBAAgB6L,GADR,OAE3Bb,OAAOgC,OAAO,CACZQ,IAAK,EACLC,KAAM,EACNC,SAAU,WALe,2CAAH,sDAgB1B,OAPA3H,qBAAU,WAER,OADA1C,SAAS6D,iBAAiB,UAAWV,GAC9B,WACLnD,SAAS8D,oBAAoB,UAAWX,MAEzC,CAACA,IAGF,sBAAK9C,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACC9F,EAAaM,iBACZ,sBAAKwF,UAAU,YAAf,UACE,cAAC+D,EAAA,EAAD,CAAiB/D,UAAU,qBAC3B,qBAAKA,UAAU,uBAAf,wBAGF,eAAC,WAAD,WACG9F,EAAaK,aAAe,cAAC,EAAD,IAC7B,gCACE,qBAAKyF,UAAU,gBAAf,SACG9F,EAAaU,YAAYQ,KAAI,SAACC,EAAS4D,GACtC,OACE,qBAAKe,UAAU,qBAAf,SACE,cAAC,EAAD,CAAc3E,QAASA,GAAcA,EAAQwD,KADNI,SAM7CoK,GACA,qBAAKrJ,UAAU,gBAAf,SACE,sBAAKA,UAAU,6BAAf,UAC+B,IAA5B9F,EAAaH,WACZ,WAEA,sBACEiG,UAAU,oBACVC,QAAS,kBAAMgK,GAAqB,IAFtC,sBAOD,SACA/P,EAAaI,gBACZ,OAEA,sBACE0F,UAAU,oBACVC,QAAS,kBAAMgK,GAAqB,IAFtC,oCCnIPC,EAAgB,uCAAG,WAAOhH,GAAP,eAAAnK,EAAA,sEAELC,IAAM,CAC7BC,IAAKC,yBAAA,oBAA6CgK,GAClD/J,OAAQ,QAJoB,YAOL,OALjBC,EAFsB,QAOhBC,OAAuC,MAApBD,EAASC,QAPZ,oBAQJ,MAApBD,EAASC,OARe,sBASpB,IAAIC,MAAJ,4BAToB,UAUG,MAApBF,EAASC,OAVQ,uBAWpB,IAAIC,MAAJ,sBAAyB4J,EAAzB,eAXoB,cAapB,IAAI5J,MAAJ,wBAA2BF,EAASC,SAbhB,iCAiBvBD,EAASG,KAAK,IAjBS,4CAAH,sDCUhB4Q,GAAuB,SAAC7K,GAGnC,IAAM4D,EAAQkH,cAARlH,IACF5D,EAAM+K,SACRnH,EAAM5D,EAAM+K,QAGd,MAAsBzI,mBAAS,MAA/B,mBAAO1B,EAAP,KAAYoK,EAAZ,KACA,EAAkC1I,oBAAS,GAA3C,mBAAOC,EAAP,KAAkB0I,EAAlB,KACA,EAA8B3I,oBAAS,GAAvC,mBAAO4I,EAAP,KAAgBC,EAAhB,KAEMC,EAAqBjI,sBAAW,sBAAC,4BAAA1J,EAAA,+EAEjBmR,EAAiBhH,GAFA,OAE7ByH,EAF6B,OAGnCL,EAAOK,GAH4B,gDAKnCF,GAAW,GALwB,QAOrCF,GAAa,GAPwB,yDAQpC,CAACrH,IA6BJ,OAJAb,qBAAU,WACRqI,MACC,CAACA,IAEGF,EACL,sBAAKxK,UAAU,mBAAf,UACE,qBACEA,UAAU,sBACVC,QAAS,WACHX,EAAM+K,QACR/K,EAAMsL,sBAAqB,MAIhCtL,EAAM+K,QACL,qBACErK,UAAU,uBACVnB,GAAG,cACHoB,QAAS,WACPX,EAAMsL,sBAAqB,IAJ/B,SAOE,cAAC9G,EAAA,EAAD,MAGHjC,EACC,cAACkC,EAAA,EAAD,CAAiB/D,UAAU,qBAE3B,sBACEA,UAAU,4BACVgE,cArDgB,WACtB,GAAI1E,EAAM+K,OAAQ,CAChB,IAAMnG,EAAWvE,SAASC,eAAT,SACjBsE,EAASrE,MAAMC,WAAa,UAC5BoE,EAASrE,MAAME,QAAU,IACzBmE,EAASrE,MAAM+C,SAAW,OAC1BC,YAAW,WACTqB,EAASrE,MAAMC,WAAa,SAC5BoE,EAASrE,MAAME,QAAU,EACzBmE,EAASrE,MAAM+C,SAAW,QACzB,KACH,IAAMuB,EAAI,gCAA4BjE,EAAIgD,KAC1CkB,UAAUC,UAAUC,UAAUH,GAAMI,MAClC,WACEpI,QAAQC,IAAI,kDAEd,SAAUL,GACRI,QAAQoF,MAAM,+BAAgCxF,QAkChD,UAIE,sBAAKiE,UAAU,sBAAf,UACGV,EAAM+K,OACL,sBAAKrK,UAAU,gBAAf,cAAiCE,EAAIrB,MAErC,gCACE,sBAAMgB,MAAO,CAAEE,QAAS,MAAxB,2BADF,IACwDG,EAAIrB,MAI7DS,EAAM+K,QACL,sBAAKrK,UAAU,kBAAf,sCAC2B,cAACiE,EAAA,EAAD,UAI/B,sBACEjE,UAAU,wBACVH,MACGP,EAAM+K,OAAiC,CAAEQ,OAAQ,WAAlC,CAAEA,OAAQ,WAH9B,UAME,qBAAK7K,UAAU,4BAAf,wBACA,cAACiE,EAAA,EAAD,CAAcpF,GAAG,QAAQmB,UAAU,sBAErC,qBACEA,UAAU,mBACVrE,IAAKuE,EAAIoC,QACTjC,IAAKH,EAAIrB,IAHX,eAIeqB,EAAIrB,WAMzB,sBAAKmB,UAAU,qBAAf,+BAEE,uBACA,uBACA,uBACA,2B,UC1HO8K,I,OAAO,WAClB,OACE,sBAAK9K,UAAU,kBAAf,UACE,qBAAKA,UAAU,cAAf,4BACA,qBAAKA,UAAU,kBAAf,SACE,wOAMF,qBAAKA,UAAU,kBAAf,SACE,sEACqC,IACnC,sBAAMA,UAAU,WAAhB,uCAFF,0CAMF,qBAAKA,UAAU,kBAAf,SACE,uNAG6C,IAC3C,mBAAGA,UAAU,oBAAoB+K,KAAK,6BAAtC,wBAEK,IANP,sCAUF,cAAC,IAAD,CAAM/K,UAAU,mBAAmBgL,GAAG,IAAtC,SACE,cAACC,GAAA,EAAD,MAEF,qBAAKjL,UAAU,gB,sECpCRkL,GAAO,uCAAG,WAAOC,GAAP,iBAAApS,EAAA,6DAEbW,EAAc,CAChB,SAAYyR,GAHG,SAMInS,IAAM,CACzBC,IAAKC,+BACLC,OAAQ,OACRI,KAAMG,IATS,YAYM,OANnBN,EANa,QAYLC,OAAuC,MAApBD,EAASC,QAZvB,oBAaS,MAApBD,EAASC,OAbE,sBAcL,IAAIC,MAAJ,4BAdK,aAgBL,IAAIA,MAAJ,wBAA2BF,EAASC,SAhB/B,iCAoBZD,EAASG,MApBG,4CAAH,sDCAP6R,GAAY,uCAAG,WAAOvQ,EAAMgE,GAAb,iBAAA9F,EAAA,6DAElBW,EAAc,CAChB,KAAQsE,KAAKC,UAAUpD,IAHH,SAMD7B,IAAM,CACzBC,IAAKC,yBAAA,oBAA6C2F,GAClD1F,OAAQ,QACRI,KAAMG,IATc,YAYC,OANnBN,EANkB,QAYVC,OAAuC,MAApBD,EAASC,QAZlB,oBAaI,MAApBD,EAASC,OAbO,sBAcV,IAAIC,MAAJ,4BAdU,aAgBV,IAAIA,MAAJ,wBAA2BF,EAASC,SAhB1B,iCAoBjBD,EAASG,MApBQ,4CAAH,wDCAZ8R,GAAa,uCAAG,WAAOnI,GAAP,eAAAnK,EAAA,sEAEFC,IAAM,CACzBC,IAAKC,yBAAA,oBAA6CgK,GAClD/J,OAAQ,WAJa,YAOA,OALnBC,EAFmB,QAOXC,OAAuC,MAApBD,EAASC,QAPjB,mBAQG,MAApBD,EAASC,OARQ,sBASX,IAAIC,MAAJ,4BATW,aAWX,IAAIA,MAAJ,wBAA2BF,EAASC,SAXzB,gCAelBD,EAASG,MAfS,4CAAH,sDCclBsN,I,OAAWC,IAAXD,QAEKyE,GAAa,SAAChM,GACzB,MAAwBsC,mBAAS,IAAjC,mBAAO/G,EAAP,KAAamB,EAAb,KACA,EAA8B4F,mBAAS,IAAvC,mBAAO2J,EAAP,KAAgBC,EAAhB,KACA,EAA0C5J,oBAAS,GAAnD,mBAAO6J,EAAP,KAAsBC,EAAtB,KAEMC,EAAelJ,sBAAW,sBAAC,4BAAA1J,EAAA,+EAEHD,IAFG,OAEvB8S,EAFuB,OAG7BJ,EAAWI,GAHkB,gDAK7BzP,QAAQC,IAAR,MAL6B,yDAO9B,IAEG4M,EAAavG,uBACjB,SAACoJ,GACCvM,EAAMwM,iBAAmBxM,EAAMwM,iBAAgB,GAC/CxM,EAAMyM,eAAc,GAChBF,GACFvM,EAAMkI,QAAUlI,EAAMkI,WAG1B,CAAClI,IAGH+C,qBAAU,WACRsJ,IACuC,OAAnC3N,KAAK2G,MAAMrF,EAAMjE,QAAQR,OAC3BmB,EAAQgC,KAAK2G,MAAMrF,EAAMjE,QAAQR,SAElC,CAAC8Q,EAAcrM,EAAMjE,QAAQR,OAEhC,IAAMqM,EAAkBzE,sBAAW,uCAAC,WAAO0F,GAAP,eAAApP,EAAA,sDAC5BiT,EAAe7D,EAAM/M,KAAI,SAAC6Q,GAC9B,OAAO9F,EAAsB8F,MAE/BjQ,EAAQgQ,GAJ0B,2CAAD,sDAKhC,IAEGE,EAAgBzJ,sBAAW,sBAAC,sBAAA1J,EAAA,2DAC5B8B,EAAKG,OAAS,GADc,gCAGxBH,EAAKO,IAAL,uCAAS,WAAO+Q,GAAP,SAAApT,EAAA,2DACCwS,EAAQzM,WACpB,SAAC8F,GAAD,OAASA,IAAQuB,EAAsBgG,MAE7B,GAJC,gCAMUjB,GAAQiB,GANlB,OAOU,YAPV,OAOAhE,OACThM,QAAQC,IAAR,UAAe+P,EAAf,qCARS,qCAWN9F,GAXM,2CAAT,uDAHwB,uBAiBxB+E,GAAavQ,EAAMyE,EAAMjE,QAAQwD,IAjBT,OAkB9BmK,GAAW,GAlBmB,2CAoB/B,CAACnO,EAAM0Q,EAASvC,EAAY1J,EAAMjE,QAAQwD,KAEvCuN,EAAgB3J,sBAAW,uCAC/B,WAAOS,GAAP,SAAAnK,EAAA,0DACwB,IAAlB0S,EADN,gCAGUJ,GAAcnI,GAHxB,OAII8F,GAAW,GAJf,sBAMI0C,GAAiB,GACjB7I,YAAW,WACT6I,GAAiB,KAChB,KATP,2CAD+B,sDAa/B,CAACD,EAAezC,IAGlB,OACE,eAAC,IAAD,CACEnF,MACE,uBAAM7D,UAAU,gBAAhB,8BACoBV,EAAMjE,QAAQwD,MAGpC+E,UAAU,OACVqF,UAAU,EACVC,QAAS,kBAAMF,GAAW,IAC1BG,QAAS7J,EAAM+M,WAEfvE,MAAM,QAXR,UAaE,qBAAK9H,UAAU,eAAf,sBACA,qBACEA,UAAU,iBACVrE,IAAK2D,EAAMjE,QAAQiH,QACnBjC,IAAKf,EAAMjE,QAAQwD,GAEnBgB,MAAO,CAAEyM,SAAU,OAAQC,UAAWjF,OAAOoC,YAAc,MADtDpK,EAAMjE,QAAQwD,IAGrB,uBACA,uBACA,qBAAKmB,UAAU,eAAf,mBACA,cAAC,IAAD,CACE6H,KAAK,OACL2E,YAAY,EACZ3M,MAAO,CAAEiI,MAAO,QAChBC,YAAY,gBACZE,SAAUf,EACVc,aACyB,OAAvB1I,EAAMjE,QAAQR,KACVmD,KAAK2G,MAAMrF,EAAMjE,QAAQR,WACzBwL,EATR,SAYGkF,EAAQnQ,KAAI,SAACwJ,GACZ,OACE,cAAC,GAAD,UACGuB,EAAsBvB,EAAIuG,WADhBhF,EAAsBvB,EAAIuG,gBAM7C,uBACA,uBACA,sBAAKnL,UAAU,0BAAf,UACE,sBACEA,UACEnF,EAAKG,OAAS,EAAI,yBAA2B,iBAE/CiF,QAASiM,EAJX,UAME,cAACO,GAAA,EAAD,IANF,gBAQA,qBACEzM,UACEyL,EAAgB,8BAAgC,iBAElDxL,QAAS,kBAAMmM,EAAc9M,EAAMjE,QAAQ6H,MAJ7C,SAMGuI,EACC,eAAC,WAAD,WACE,cAACiB,GAAA,EAAD,IADF,gBAEE,cAACC,GAAA,EAAD,OAGF,eAAC,WAAD,WACE,cAACD,GAAA,EAAD,IADF,wBAnER,gBAUgBpN,EAAMjE,QAAQwD,MCnGrB+N,I,OAAe,SAACtN,GAC3B,MAAgCsC,oBAAS,GAAzC,mBAAOiL,EAAP,KAAiBC,EAAjB,KACA,EAAoClL,oBAAS,GAA7C,mBAAOyK,EAAP,KAAmBN,EAAnB,KAEMvM,EAAoB,SAACC,GACzB,GAA8B,OAA1BH,EAAMyN,gBAA0B,CAClCD,EAAYrN,GACZ,IAAMC,EAAUC,SAASC,eAAeN,EAAMjE,QAAQwD,IAEpDa,EAAQG,MAAMpG,OADZgG,EACqB,4BAEA,+BAKvBuN,EAAe,WACnBnK,YAAW,WACTvD,EAAMwM,iBAAgB,KACrB,KACHC,GAAc,IAGhB,OACE,eAAC,WAAD,WACE,cAAC,GAAD,CACE1Q,QAASiE,EAAMjE,QACfgR,WAAYA,EACZN,cAAeA,EACfvE,OAAQlI,EAAMkI,OACdsE,gBAAiBxM,EAAMwM,kBAEzB,sBAAK9L,UAAU,+BAAf,UAC6B,OAA1BV,EAAMyN,iBAAsD,IAA1BzN,EAAMyN,gBACvCF,GACE,qBACE7M,UAAU,uCACVG,aAAc,kBAAMX,GAAkB,IACtCY,aAAc,kBAAMZ,GAAkB,IACtCS,QAAS+M,EAJX,SAME,cAACC,GAAA,EAAD,MAIJ,sBAAKjN,UAAU,mCAAf,cACIV,EAAMyN,mBAGZ,qBACE/M,UAAWV,EAAMyN,iBAAmB,0BACpClO,GAAIS,EAAMjE,QAAQwD,GAClBlD,IAAK2D,EAAMjE,QAAQO,UACnByE,IAAKf,EAAMjE,QAAQwD,GACnBiJ,MAAOxI,EAAM4N,KACbC,OAAQ7N,EAAM4N,KACd/M,aAAc,kBAAMX,GAAkB,IACtCY,aAAc,kBAAMZ,GAAkB,IACtCS,QAAS+M,YC/DNI,GAAW,uCAAG,WAAOC,GAAP,eAAAtU,EAAA,6DACjBuU,EAAW,IAAIC,UACZC,OAAO,OAAQH,GAFD,kBAIbrU,IAAMyU,KAAKvU,kCAAsCoU,GAJpC,gCAKZ,WALY,uCAQnBnR,QAAQC,IAAR,MARmB,kBASZ,SATY,yDAAH,sDCAXsR,GAAY,uCAAG,WAAOzI,GAAP,iBAAAlM,EAAA,6DAEtBW,EAAc,CAChB,KAAQuL,GAHgB,SAMHjM,IAAM,CAC3BC,IAAKC,4CACLC,OAAQ,OACRI,KAAMG,IATkB,YAYD,OANnBN,EANoB,QAYZC,OAAuC,MAApBD,EAASC,QAZhB,oBAaA,MAApBD,EAASC,OAbW,sBAchB,IAAIC,MAAJ,4BAdgB,aAgBhB,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBpB,iCAoBnBD,EAASG,MApBU,4CAAH,sDCAZoU,GAAc,uCAAG,WAAO/T,GAAP,eAAAb,EAAA,sEACLC,IAAM,CAC3BC,IAAKC,yBAAA,gCAAyDU,GAC9DT,OAAQ,QAHkB,YAMH,OALnBC,EADsB,QAMdC,OAAuC,MAApBD,EAASC,QANd,mBAOF,MAApBD,EAASC,OAPa,sBAQlB,IAAIC,MAAJ,4BARkB,aAUlB,IAAIA,MAAJ,wBAA2BF,EAASC,SAVlB,gCAcrBD,EAASG,MAdY,4CAAH,sDAkBdqU,GAAsB,uCAAG,WAAOhU,GAAP,eAAAb,EAAA,sEACbC,IAAM,CAC3BC,IAAKC,oDACLC,OAAQ,QAH0B,YAMX,OALnBC,EAD8B,QAMtBC,OAAuC,MAApBD,EAASC,QANN,mBAOV,MAApBD,EAASC,OAPqB,sBAQ1B,IAAIC,MAAJ,4BAR0B,aAU1B,IAAIA,MAAJ,wBAA2BF,EAASC,SAVV,gCAe7BD,EAASG,KAAK,GAAGsU,OAfY,4CAAH,sDCCtBC,I,OAAWzO,aAAS,WAC/B,MAAsCuC,oBAAS,GAA/C,mBAAOmM,EAAP,KAAoBC,EAApB,KACA,EAA0CpM,oBAAS,GAAnD,mBAAOqM,EAAP,KAAsBC,EAAtB,KACA,EAA8CtM,mBAAS,IAAvD,mBAAOuM,EAAP,KAAwBC,EAAxB,KACA,EAAwCxM,oBAAS,GAAjD,mBAAOyM,EAAP,KAAqBvC,EAArB,KACA,EAA4ClK,mBAAS,CAAC,EAAG,IAAzD,mBAAO0M,EAAP,KAAuBC,EAAvB,KACA,EAA0B3M,mBAAS,MAAnC,mBAAOhI,EAAP,KAAc4U,EAAd,KACA,EAA8C5M,mBAAS,MAAvD,mBAAO6M,EAAP,KAAwBC,EAAxB,KAEMxC,EAAgBzJ,sBAAW,uCAAC,WAAO4K,GAAP,eAAAtU,EAAA,sEACXqU,GAAYC,GADD,OAC1BsB,EAD0B,OAEhCC,KAAaD,GAAQ,CACnBE,QAAQ,UAAD,OAAYF,GACnBG,YAAY,SAAD,OAAWzB,EAAKpI,QAJG,2CAAD,sDAM9B,IAEG8J,EAA2BtM,sBAAW,sBAAC,4BAAA1J,EAAA,+EAErB6U,KAFqB,OAEnCC,EAFmC,OAIzCa,EADwBb,EAAQjU,GAHS,gDAMzCuC,QAAQC,IAAR,MANyC,yDAQ1C,CAACxC,IAEEoV,EAA8BvM,uBAAY,WAC9C,IAAMwM,EAAY3H,OAAO4H,WACnBC,EAAa7H,OAAOoC,YACpB0F,EAA2BpI,KAAKqI,MAAkB,GAAZJ,GACtCK,EAA4BtI,KAAKqI,MAAgB,IAAVF,GACvCI,EACJvI,KAAKqI,MAAMD,EAAwB,KACnCpI,KAAKqI,MAAMC,EAAyB,KAEtC,OADAd,EAASe,GACFA,IACN,IAEGC,EAAuB/M,sBAAW,sBAAC,8BAAA1J,EAAA,+EAEjBiW,IAFiB,cAE/BpV,EAF+B,gBAGP+T,GAAe/T,GAHR,cAG/BuU,EAH+B,gBAI/BY,IAJ+B,OAKrCX,EAAmBD,GALkB,kDAOrChS,QAAQC,IAAR,MAPqC,0DAStC,CAAC2S,EAA0BC,IAExBS,EAAoBhN,sBAAW,uCACnC,WAAOM,GAAP,eAAAhK,EAAA,yDACEiV,GAAe,IACXjL,EAAM2F,OAAOgH,MAAM,GAFzB,wBAGUzK,EAAOlC,EAAM2F,OAAOgH,MAAM,GAAGzK,KAAK0K,MAAM,KAAK,GAHvD,SAI4BjC,GAAazI,GAJzC,UAK6B,IAL7B,OAKkBjK,OALlB,iCAMYkR,EAAcnJ,EAAM2F,OAAOgH,MAAM,IAN7C,+BAQMd,KAAagB,QAAQ,CACnBf,QAAQ,cACRC,YAAY,kCAAD,OAAoC/L,EAAM2F,OAAOgH,MAAM,GAAGzK,KAA1D,OAVnB,QAcE+I,GAAe,GACfnL,YAAW,WACT2M,EAAqB5V,KACpB,KAjBL,4CADmC,sDAoBnC,CAAC4V,EAAsB5V,EAAOsS,IAGhC7J,qBAAU,WAGR,OAFAmN,IACAlI,OAAO9D,iBAAiB,SAAUwL,GAC3B,WACL1H,OAAO7D,oBAAoB,SAAUuL,MAEtC,CAACQ,EAAsBR,IAE1B,IAcMa,EAAU,uCAAG,WAAOrH,GAAP,uBAAAzP,EAAA,sDACjByP,EAAExF,iBACFwF,EAAEsH,kBACIC,EAAgBvH,EAAEwH,aAAaN,MAC/BO,EAAgBF,EAAc/U,OACpCuT,EAAkB,CAAC,EAAG0B,IACbC,EAAI,EANI,YAMDA,EAAID,GANH,oBAOfjC,GAAe,GACfO,EAAkB,CAAC2B,EAAGD,KAClBF,EAAcG,GATH,wBAUP7C,EAAO0C,EAAcG,GACrBjL,EAAOoI,EAAKpI,KAAK0K,MAAM,KAAK,GAXrB,UAYWjC,GAAazI,GAZxB,WAaY,IAbZ,OAaCjK,OAbD,kCAcLkR,EAAcmB,GAdT,gCAgBXuB,KAAagB,QAAQ,CACnBf,QAAQ,cACRC,YAAY,kCAAD,OAAoC7J,EAApC,OAlBF,QAMkBiL,IANlB,uBAuBjB3B,EAAkB,CAAC,EAAG,IACtBP,GAAe,GACfnL,YAAW,WACT2M,EAAqB5V,KACpB,KA3Bc,4CAAH,sDA8BhB,OACE,sBAAKoG,UAAU,sBAAf,UACE,qBAAKA,UAAU,0BAAf,SACGqO,GACC,qBACErO,UAAU,wBACVH,MACEsO,EAAgBnT,OAAS,CAAE8M,MAAO,QAAW,CAAEA,MAAO,SAH1D,SAME,uBAAMqI,SAAUjE,EAAhB,UACE,uBACEkE,KAAK,OACLpQ,UAAU,YACViF,KAAK,YACLpG,GAAG,OACHoJ,SAAUwH,IAEX1B,EACC,wBACEsC,QAAQ,OACRxQ,MACEsO,EAAgBnT,OACZ,CAAE8M,MAAO,QACT,CAAEA,MAAO,QALjB,UAQE,cAAC/D,EAAA,EAAD,CAAiB/D,UAAU,sBAC1BsO,EAAe,GACd,oBAAGtO,UAAU,mBAAb,UACGsO,EAAe,GADlB,OAC0BA,EAAe,MAGzC,mBAAGtO,UAAU,mBAAb,wBAIJ,uBACEqQ,QAAQ,OACRC,OAAQT,EACRU,WAAY,SAAC/H,GAAD,OA1EL,SAACA,GACtBA,EAAExF,iBACFwF,EAAEsH,kBAwE+BU,CAAehI,IAClCiI,YAAa,SAACjI,GAAD,OArFL,SAACA,GACvBA,EAAExF,iBACFwF,EAAEsH,kBACF5B,GAAiB,GAkFiBwC,CAAgBlI,IACpCmI,YAAa,SAACnI,GAAD,OAjFL,SAACA,GACvBA,EAAExF,iBACFwF,EAAEsH,kBACF5B,GAAiB,GA8EiB0C,CAAgBpI,IACpC3I,MACEsO,EAAgBnT,OACZ,CAAE8M,MAAO,QACT,CAAEA,MAAO,QATjB,SAYImG,EAWA,eAAC,WAAD,WACE,mBAAGjO,UAAU,wBAAb,SACE,cAAC6Q,GAAA,EAAD,MAEF,oBAAG7Q,UAAU,mBAAb,kCACuB,uBACrB,4DAEF,mBAAGA,UAAU,wBAlBf,eAAC,WAAD,WACE,mBAAGA,UAAU,wBAAb,SACE,cAAC8Q,GAAA,EAAD,MAEF,oBAAG9Q,UAAU,mBAAb,wCAC6B,uBAC3B,qEAqBjBmO,EAAgBnT,OAAS,GACxB,qBAAKgF,UAAU,6BAAf,SACE,qBAAKA,UAAU,2BAAf,SACGmO,EAAgB/S,KAAI,SAACC,EAAS4D,GAC7B,OACE,cAAC,GAAD,CACE5D,QAASA,EACT6R,KAnNe,IAoNfpB,gBAAiBA,EAEjBtE,OAAQgI,EACRzC,gBAAiB9N,EAAQ,IAAMrF,EAAQ6U,EAAkB,MAFpDpT,EAAQwD,kBCpOlBkS,I,OAAc,SAACzR,GAC1B,MAAgCsC,mBAAS,UAAzC,mBAAOvH,EAAP,KAAiB4C,EAAjB,KACM+P,EAAe,SAACtE,GACpBzL,EAAYyL,GACZpJ,EAAM0R,WAAWtI,IAGnB,OACE,sBAAK1I,UAAU,oBAAf,UACE,qBACEA,UAAS,+BACM,WAAb3F,GAAA,gCAEF4F,QAAS,kBAAM+M,EAAa,WAJ9B,oBAQA,qBACEhN,UAAS,+BACM,QAAb3F,GAAA,gCAEF4F,QAAS,kBAAM+M,EAAa,QAJ9B,sBAQA,qBACEhN,UAAS,+BACM,QAAb3F,GAAA,gCAEF4F,QAAS,kBAAM+M,EAAa,QAJ9B,kBAQA,qBACEhN,UAAS,+BACM,SAAb3F,GAAA,gCAEF4F,QAAS,kBAAM+M,EAAa,SAJ9B,wBCnCOiE,GAAQ,uCAAG,4BAAAlY,EAAA,sEAEGC,IAAM,CACzBC,IAAKC,sCACLC,OAAQ,QAJQ,YAOK,OALnBC,EAFc,QAONC,OAAuC,MAApBD,EAASC,QAPtB,mBAQQ,MAApBD,EAASC,OARG,sBASN,IAAIC,MAAJ,4BATM,aAWN,IAAIA,MAAJ,wBAA2BF,EAASC,SAX9B,gCAebD,EAASG,MAfI,4CAAH,qD,UCKR2X,I,OAAY,SAAC5R,GACxB,MAAkCsC,mBAAS,IAA3C,mBAAO/D,EAAP,KAAkBsT,EAAlB,KACA,EAAoCvP,oBAAS,GAA7C,mBAAOwP,EAAP,KAAmBC,EAAnB,KAEMC,EAAiB7O,sBAAW,sBAAC,8BAAA1J,EAAA,0DAC7BuG,EAAMiS,KAAK1T,UADkB,uBAEzB2T,EAAWxT,KAAK2G,MAAMrF,EAAMiS,KAAK1T,WAFR,SAGVD,EAAqB4T,GAHX,OAGzBC,EAHyB,OAI/BN,EAAaM,GAJkB,2CAMhC,CAACnS,EAAMiS,KAAK1T,YAuBf,OAJAwE,qBAAU,WACRiP,MACC,CAACA,IAGF,sBAAKtR,UAAU,kBAAf,UACE,sBAAKA,UAAU,mBAAmBC,QAvBjB,WACnB,IAAMyR,EAAoB/R,SAASC,eAAT,6BACFN,EAAMiS,KAAK1S,KAGjC6S,EAAkB7R,MAAM8R,QADtBP,EACgC,OAEA,QAEpCC,GAAeD,IAcb,UACE,sBAAKpR,UAAU,uBAAf,UACGV,EAAMiS,KAAKvL,YACV,cAAC,IAAD,CAASnC,MAAO+N,KAAKtS,EAAMiS,KAAKvL,YAAY6L,WAA5C,SACE,cAACC,GAAA,EAAD,CAAiB9R,UAAU,4BAG9BV,EAAMiS,KAAKtM,KAAKsB,cACjB,sBAAMvG,UAAU,YAAhB,SACGV,EAAMiS,KAAKQ,aAAX,WAA8BzS,EAAMiS,KAAKQ,YAAzC,UAGL,sBAAK/R,UAAU,wBAAf,UACE,sBAAMH,MAAO,CAAEmS,MAAO,QAAtB,SACG1S,EAAMiS,KAAK9Q,OAAX,WAAwBnB,EAAMiS,KAAK9Q,MAAnC,OAEH,sBAAMZ,MAAO,CAAEmS,MAAO,QAAtB,SACG1S,EAAMiS,KAAK9Q,OAASnB,EAAMiS,KAAK7Q,UAA/B,QAEH,sBAAMb,MAAO,CAAEmS,MAAO,QAAtB,SACG1S,EAAMiS,KAAK7Q,UAAX,WAA2BpB,EAAMiS,KAAK7Q,SAAtC,aAIP,qBACEV,UAAU,oBACVnB,GAAE,6BAAwBS,EAAMiS,KAAK1S,IAFvC,SAIGhB,EAAU7C,OAAS,EAChB6C,EAAUzC,KAAI,SAAC6W,GACb,OACE,sBAAKjS,UAAU,8BAAf,UACE,sBAAKA,UAAU,YAAf,eAA8BiS,EAAIpT,MAClC,qBACEmB,UAAU,qBACVrE,IAAKsW,EAAI3P,QACTjC,IAAK4R,EAAIpT,GAEToB,QAAS,kBAjDEiD,EAiDwB+O,EAAI/O,IAhDvD5D,EAAM4S,gBAAgBhP,QACtB5D,EAAMsL,sBAAqB,GAFD,IAAC1H,IAgDN+O,EAAIpT,UAMjB,kBA5CR,eAA8CS,EAAMiS,KAAK1S,OChChDsT,I,OAAY,WACvB,MAAkCvQ,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBuQ,EAAlB,KACA,EAAgCxQ,mBAAS,IAAzC,mBAAOyQ,EAAP,KAAiBC,EAAjB,KACA,EAAkD1Q,oBAAS,GAA3D,mBAAO2Q,EAAP,KAA0B3H,EAA1B,KACA,EAAwChJ,mBAAS,MAAjD,mBAAO4Q,EAAP,KAAqBN,EAArB,KAEMO,EAAehQ,sBAAW,sBAAC,4BAAA1J,EAAA,sEACRkY,KADQ,OACzBoB,EADyB,OAE/BC,EAAYD,GACZD,GAAa,GAHkB,2CAI9B,IAMH,OAJA/P,qBAAU,WACRoQ,MACC,CAACA,IAGF,eAAC,WAAD,WACGF,GACC,cAAC,GAAD,CACElI,OAAQmI,EACR5H,qBAAsBA,IAGzB/I,EACC,sBAAK7B,UAAU,YAAf,UACE,cAAC+D,EAAA,EAAD,CAAiB/D,UAAU,qBAC3B,qBAAKA,UAAU,uBAAf,wBAGF,qBAAKA,UAAU,kBAAf,SACGqS,EAASjX,KAAI,SAACmW,GACb,OACE,cAAC,GAAD,CACEA,KAAMA,EAENW,gBAAiBA,EACjBtH,qBAAsBA,GAFjB2G,EAAK1S,c,UC1Cb6T,GAAW,uCAAG,WAAOC,EAAQC,GAAf,iBAAA7Z,EAAA,6DAEjBW,EAAc,CAChB,OAAUiZ,EACV,OAAUC,GAJS,SAOA5Z,IAAM,CACzBC,IAAKC,mCACLC,OAAQ,OACRI,KAAMG,IAVa,YAaE,OANnBN,EAPiB,QAaTC,OAAuC,MAApBD,EAASC,QAbnB,oBAcK,MAApBD,EAASC,OAdM,sBAeT,IAAIC,MAAJ,4BAfS,aAiBT,IAAIA,MAAJ,wBAA2BF,EAASC,SAjB3B,iCAqBhBD,EAASG,MArBO,4CAAH,wDCAXsZ,GAAS,uCAAG,WAAOjO,GAAP,iBAAA7L,EAAA,6DAEfW,EAAc,CAChB,YAAekL,GAHE,SAME5L,IAAM,CACzBC,IAAKC,+BACLC,OAAQ,SACRI,KAAMG,IATW,YAYI,OANnBN,EANe,QAYPC,OAAuC,MAApBD,EAASC,QAZrB,oBAaO,MAApBD,EAASC,OAbI,sBAcP,IAAIC,MAAJ,4BAdO,aAgBP,IAAIA,MAAJ,wBAA2BF,EAASC,SAhB7B,iCAoBdD,EAASG,MApBK,4CAAH,sDCoBdsN,I,OAAWC,IAAXD,QAEKiM,GAAW,WACtB,MAA8BlR,mBAAS,IAAvC,mBAAO2J,EAAP,KAAgBC,EAAhB,KACMnR,EAAW2H,iBAAO,GACxB,EAAoCJ,oBAAS,GAA7C,mBAAOyK,EAAP,KAAmBN,EAAnB,KACA,EAAkCnK,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBuQ,EAAlB,KACA,EAA0CxQ,oBAAS,GAAnD,mBAAO6J,EAAP,KAAsBC,EAAtB,KACA,EAAsC9J,mBAAS,MAA/C,mBAAOmR,EAAP,KAAoBC,EAApB,KACA,EAAwCpR,mBAAS,MAAjD,mBAAOqR,EAAP,KAAqBC,EAArB,KAEMvH,EAAelJ,sBAAW,sBAAC,4BAAA1J,EAAA,+EAEHS,EAAgB,IAFb,OAEvBoS,EAFuB,OAG7BJ,EAAWI,GAHkB,gDAK7BzP,QAAQC,IAAR,MAL6B,QAO/BgW,GAAa,GAPkB,yDAQ9B,IASGhG,EAAgB3J,sBAAW,uCAC/B,WAAOmC,GAAP,SAAA7L,EAAA,0DACwB,IAAlB0S,EADN,gCAEUoH,GAAUjO,GAFpB,uBAGU+G,IAHV,OAIII,GAAc,GAJlB,uBAMIL,GAAiB,GACjB7I,YAAW,WACT6I,GAAiB,KAChB,KATP,4CAD+B,sDAa/B,CAACD,EAAeM,EAAeJ,IAO3BwH,EAAoB,uCAAG,sBAAApa,EAAA,yDACvBka,IAAiB1H,EAAQlR,EAASiJ,SAASsB,IADpB,gCAEnB8N,GAAYnH,EAAQlR,EAASiJ,SAASsB,IAAKqO,GAFxB,uBAIrBtH,IAJqB,OAK3BI,GAAc,GALa,2CAAH,qDAQpBqH,EAAmB,uCAAG,sBAAAra,EAAA,yDACtBga,IAAgBxH,EAAQlR,EAASiJ,SAASsB,IADpB,gCAElB8N,GAAYnH,EAAQlR,EAASiJ,SAASsB,IAAKmO,GAFzB,uBAIpBpH,IAJoB,OAK1BI,GAAc,GALY,2CAAH,qDAYzB,OAJA1J,qBAAU,WACRsJ,MACC,CAACA,IAGF,eAAC,WAAD,WACG9J,EACC,sBAAK7B,UAAU,YAAf,UACE,cAAC+D,EAAA,EAAD,CAAiB/D,UAAU,qBAC3B,qBAAKA,UAAU,uBAAf,wBAGF,eAAC,IAAD,CACEA,UAAU,mBACV6D,MACE,uBAAM7D,UAAU,kBAAhB,kBACQuL,EAAQlR,EAASiJ,SAASsB,OAGpChB,UAAU,OACVqF,UAAU,EACVC,QAAS,kBAAM6C,GAAc,IAC7B5C,QAASkD,EAETvE,MAAM,QAZR,UAcE,cAAC,IAAD,CACE0E,YAAY,EACZ3M,MAAO,CAAEiI,MAAO,QAChBE,aAAcuD,EAAQlR,EAASiJ,SAASsB,IACxCqD,SAAU,SAACE,IAlDO,SAACA,GAC3B+K,EAAgB/K,GAkDNkL,CAAoBlL,IALxB,SAQGoD,EAAQnQ,KAAI,SAACwJ,GACZ,OACE,eAAC,GAAD,WACGuB,EAAsBvB,EAAIA,KAD7B,KACqCA,EAAIyD,MADzC,MAAalC,EAAsBvB,EAAIA,WAM7C,sBACE5E,UACEiT,IAAiB1H,EAAQlR,EAASiJ,SAASsB,IACvC,yBACA,iBAEN3E,QAASkT,EANX,UAQE,cAAC1G,GAAA,EAAD,IARF,4BAUA,uBACA,uBACA,cAAC,KAAD,CACEzE,aAAcuD,EAAQlR,EAASiJ,SAASsB,IACxCqD,SAAU,SAAClF,GACTiQ,EAAejQ,EAAM2F,OAAOP,QAE9BJ,YAAY,gBAEd,sBACE/H,UACE+S,IAAgBxH,EAAQlR,EAASiJ,SAASsB,IACtC,yBACA,iBAEN3E,QAASmT,EANX,UAQE,cAAC3G,GAAA,EAAD,IARF,2BAUA,uBACA,uBAEA,qBAAKzM,UAAU,0BAAf,SACE,qBACEA,UACEyL,EAAgB,8BAAgC,iBAElDxL,QAAS,kBAAMmM,EAAcb,EAAQlR,EAASiJ,SAASsB,MAJzD,SAMG6G,EACC,eAAC,WAAD,WACE,cAACiB,GAAA,EAAD,IADF,gBAEE,cAACC,GAAA,EAAD,OAGF,eAAC,WAAD,WACE,cAACD,GAAA,EAAD,IADF,gCA3ER,gBAWgBnB,EAAQlR,EAASiJ,SAASsB,MAyE5C,qBAAK5E,UAAU,iBAAf,SACGuL,EAAQnQ,KAAI,SAACoN,EAAGvJ,GACf,OACE,sBACEe,UAAS,wBAAmBwI,EAAEH,MAAQ,GAAV,OAC5BpI,QAAS,kBAhJG,SAAChB,GACvB8M,GAAc,GACd1R,EAASiJ,QAAUrE,EACnB+T,EAAezH,EAAQtM,GAAO2F,KAC9BsO,EAAgB3H,EAAQtM,GAAO2F,KA4IN0O,CAAgBrU,IAFjC,UAKGuJ,EAAE5D,IAAM4D,EAAE5D,IAAM,qCACjB,uBAAM5E,UAAU,kBAAhB,eAAqCwI,EAAEH,MAAvC,SANF,oBAGoBpJ,aCtLnBsU,I,OAAgB,SAACjU,GAC5B,IAAMkU,EAAe/Q,uBAAY,WAC/B,IAAIkM,GAAS,EAIb,OAHIrP,EAAMjE,QAAQR,OAChB8T,EAASrP,EAAMjE,QAAQR,KAAK4Y,SAASnU,EAAMoU,cAEtC/E,IACN,CAACrP,EAAMjE,QAAQR,KAAMyE,EAAMoU,cAC9B,EAA8B9R,mBAAS4R,KAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEMC,EAAkB,uCAAG,WAAOxY,GAAP,iBAAAtC,EAAA,0DACrBuG,EAAMoU,YADe,uBAEjBI,EAAY9V,KAAK2G,MAAMtJ,EAAQR,MAC/BkZ,EAAWD,EAAUhV,WAAU,SAAC8F,GACpC,OAAOA,IAAQtF,EAAMoU,eAElBC,GAMHG,EAAU5U,OAAO6U,EAAU,GAC3BH,GAAW,KALXE,EAAU3W,KAAKmC,EAAMoU,aACrBE,GAAW,IATU,SAgBjBxI,GAAa0I,EAAWxU,EAAMjE,QAAQwD,IAhBrB,OAiBvBS,EAAM0U,mBAjBiB,uBAmBvB1U,EAAMyM,eAAc,GACpBzM,EAAM2U,mBAAmB5Y,GApBF,4CAAH,sDA4BxB,OAJAgH,qBAAU,WACRuR,EAAWJ,OACV,CAAClU,EAAMoU,YAAaF,IAGrB,eAAC,WAAD,WACE,qBACExT,UACEV,EAAMoU,YACFC,EACE,oBACA,oBACF,qBAEN9U,GAAE,cAASS,EAAMjE,QAAQwD,IACzBlD,IAAK2D,EAAMjE,QAAQO,UACnByE,IAAKf,EAAMjE,QAAQwD,GAEnBoB,QAAS,kBAAM4T,EAAmBvU,EAAMjE,WADnCiE,EAAMjE,QAAQwD,IAGrB,uBAAMmB,UAAU,eAAhB,cAAiCV,EAAMjE,QAAQwD,WChD7CgI,GAAWC,IAAXD,OAEKqN,GAAW,WACtB,MAAkCtS,oBAAS,GAA3C,mBAAOC,EAAP,KAAkB0I,EAAlB,KACA,EAAsC3I,mBAAS,IAA/C,mBAAOhH,EAAP,KAAoBqB,EAApB,KACA,EAAoC2F,oBAAS,GAA7C,mBAAOyK,EAAP,KAAmBN,EAAnB,KACA,EAA8CnK,mBAAS,MAAvD,mBAAOuS,EAAP,KAAwBF,EAAxB,KACA,EAA8BrS,mBAAS,IAAvC,mBAAO2J,EAAP,KAAgBC,EAAhB,KACA,EAAsC5J,mBAAS,MAA/C,mBAAO8R,EAAP,KAAoBU,EAApB,KAEMJ,EAAmBvR,sBAAW,sBAAC,8BAAA1J,EAAA,+EAEPY,EAAY,GAAG,GAFR,cAE3B0a,EAF2B,gBAGP7a,EAAgB,IAHT,OAG3BoS,EAH2B,OAIjC3P,EAAeoY,GACf7I,EAAWI,GALsB,kDAOjCzP,QAAQC,IAAR,MAPiC,QASnCmO,GAAa,GATsB,0DAUlC,IAEHlI,qBAAU,WACR2R,MACC,CAACA,IAEJ,IAAMlR,EAAiBL,uBAAY,SAACM,GAEf,UADAA,EAAMG,IAAIC,gBAE3BJ,EAAMC,iBACNsE,OAAOgC,OAAO,CACZQ,IAAK,EACLC,KAAM,EACNC,SAAU,cAGb,IASH,OAPA3H,qBAAU,WAER,OADA1C,SAAS6D,iBAAiB,UAAWV,GAC9B,WACLnD,SAAS8D,oBAAoB,UAAWX,MAEzC,CAACA,IAGF,cAAC,WAAD,UACGjB,EACC,sBAAK7B,UAAU,YAAf,UACE,cAAC+D,EAAA,EAAD,CAAiB/D,UAAU,qBAC3B,qBAAKA,UAAU,uBAAf,wBAGF,eAAC,WAAD,WACGmU,GACC,cAAC,GAAD,CACE9Y,QAAS8Y,EACT9H,WAAYA,EACZN,cAAeA,IAGnB,qBAAK/L,UAAU,wBAAf,SACE,cAAC,IAAD,CACEsU,YAAY,EACZ9H,YAAY,EACZ3M,MAAO,CAAEiI,MAAO,QAChBC,YAAY,yBACZE,SAAU,SAACE,GACTiM,EAAejM,IANnB,SASGoD,EAAQnQ,KAAI,SAACwJ,GACZ,OACE,eAAC,GAAD,WACGuB,EAAsBvB,EAAIA,KAD7B,KACqCA,EAAIyD,MADzC,MAAalC,EAAsBvB,EAAIA,aAO/C,qBAAK5E,UAAU,iBAAf,SACGpF,EAAYQ,KAAI,SAACC,GAChB,OACE,qBAAK2E,UAAU,oBAAf,SACE,cAAC,GAAD,CACE3E,QAASA,EACTqY,YAAaA,EACb3H,cAAeA,EACfkI,mBAAoBA,EACpBD,iBAAkBA,iBCnGzBO,GAAa,uCAAG,WAAOC,GAAP,iBAAAzb,EAAA,6DACrBW,EAAc,CAClB8a,KAAMA,GAFmB,kBAMFxb,IAAM,CAC3BC,IAAKC,mCACLC,OAAQ,OACRI,KAAMG,IATiB,cAMnBN,EANmB,yBAYlBA,GAZkB,qCAcrB,mBAAqB,KAAIA,SAASC,QAAU,KAdvB,uBAejB,IAAIC,MAAJ,UAAa,KAAIF,SAASG,KAAKgI,QAfd,4EAAH,sDCKbkT,I,OAAW,SAACnV,GACvB,MAA4CsC,mBAAS,GAArD,mBAAO8S,EAAP,KAAuBC,EAAvB,KACA,EAA0C/S,wBAASyE,GAAnD,mBAAOuO,EAAP,KAAsBC,EAAtB,KACMC,ECO6B,WACnC,IACW/b,EADPgc,GAAQ,EAaZ,OAZWhc,EAWRqL,UAAU4Q,WAAa5Q,UAAU6Q,QAAU3N,OAAO4N,OATjD,sVAAsVC,KACpVpc,IAGF,0kDAA0kDoc,KACxkDpc,EAAEqc,OAAO,EAAG,OAGdL,GAAQ,GAELA,EDrBkBM,GAEnBC,EAAkB7S,uBACtB,SAACM,GACC,IAAME,EAAaF,EAAMG,IAAIC,cAC7B,GAAK2R,EAkCqB,UAAf7R,GACT3D,EAAM6B,MAAMyT,QAjCZ,GADA7R,EAAMC,iBACa,cAAfC,EACEyR,EAAiB,IACnB/U,SAASC,eAAe8U,EAAiB,GAAGvM,MAAQ,GACpDwM,EAAkBD,EAAiB,SAEhC,GAAIzR,EAAWjI,OAAS,QAK7B,GAFA2E,SAASC,eAAe8U,GAAgBvM,MAAQlF,EAChD0R,EAAkBD,EAAiB,GAC/BA,EAAiB,IAAM,EAAG,CAC5BC,EAAkB,GAClB,IAAMH,EACJ7U,SAASC,eAAe,GAAGuI,MAC3BxI,SAASC,eAAe,GAAGuI,MAC3BxI,SAASC,eAAe,GAAGuI,MAC3BxI,SAASC,eAAe,GAAGuI,MAC3BxI,SAASC,eAAe,GAAGuI,MAC3BxI,SAASC,eAAe,GAAGuI,MAC7BtF,YAAW,WACTlD,SAASC,eAAe,GAAG2V,QAC3B5V,SAASC,eAAe,GAAGuI,MAAQ,GACnCxI,SAASC,eAAe,GAAGuI,MAAQ,GACnCxI,SAASC,eAAe,GAAGuI,MAAQ,GACnCxI,SAASC,eAAe,GAAGuI,MAAQ,GACnCxI,SAASC,eAAe,GAAGuI,MAAQ,GACnCxI,SAASC,eAAe,GAAGuI,MAAQ,GACnCwM,EAAkB,GAClBrV,EAAM6B,MAAMqT,KACX,QAOX,CAAClV,EAAOoV,EAAgBE,EAAeE,IAOnC9H,EAAe,SAACxE,GACpB,IAAMgN,EAAU5Y,SAAS4L,EAAEE,OAAO7J,GAAI,IAClC4W,EAAoBf,EACiB,KAArC/U,SAASC,eAAe,GAAGuI,MAE7BwM,EADAc,EAAoB,GAE0B,KAArC9V,SAASC,eAAe,GAAGuI,MAEpCwM,EADAc,EAAoB,GAE0B,KAArC9V,SAASC,eAAe,GAAGuI,MAEpCwM,EADAc,EAAoB,GAE0B,KAArC9V,SAASC,eAAe,GAAGuI,MAEpCwM,EADAc,EAAoB,GAE0B,KAArC9V,SAASC,eAAe,GAAGuI,MAEpCwM,EADAc,EAAoB,GAE0B,KAArC9V,SAASC,eAAe,GAAGuI,OAEpCwM,EADAc,EAAoB,GAGtB9V,SAASC,eAAe4V,GAASE,OACjC/V,SAASC,eAAe6V,GAAmBF,SAU7C,OAPAlT,qBAAU,WAER,OADA1C,SAAS6D,iBAAiB,UAAW8R,GAC9B,WACL3V,SAAS8D,oBAAoB,UAAW6R,MAEzC,CAACA,IAEGR,EACL,gCACE,cAAC,KAAMa,SAAP,CACE9W,GAAG,OACHoJ,SAzCqB,SAACO,GAC1BqM,EAAiBrM,EAAEE,OAAOP,QAyCtBJ,YAAY,kCACZ/H,UAAU,0BAEZ,uBACA,uBACA,uBACA,0BAGF,8BACE,iCACE,uBACEnB,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJhK,MAAO,CAAEgW,WAAY,QACrBC,aAAa,iBAEf,uBACEjX,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJ5J,QAAS+M,EACT8I,aAAa,iBAEf,uBACEjX,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJ5J,QAAS+M,EACT8I,aAAa,iBAEf,uBACEjX,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJ5J,QAAS+M,EACT8I,aAAa,iBAEf,uBACEjX,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJ5J,QAAS+M,EACT8I,aAAa,iBAEf,uBACEjX,GAAG,IACHmB,UAAU,kBACV+H,YAAY,IACZ6N,UAAU,IACV9M,IAAI,IACJe,IAAI,IACJ5J,QAAS+M,EACTnN,MAAO,CAAEiI,MAAO,QAChBgO,aAAa,wB,2DEtKVC,GAAc,uCAAG,WAAOtV,GAAP,mBAAA1H,EAAA,6DAEpBW,EAAc,CAChB,MAAS+G,GAHa,SAMHzH,IAAM,CACzBC,IAAKC,qCACLC,OAAQ,OACRI,KAAMG,IATgB,YAYD,OANnBN,EANoB,QAYZC,OAAuC,MAApBD,EAASC,QAZhB,oBAaE,MAApBD,EAASC,OAbS,sBAcZ,IAAIC,MAAJ,4BAdY,aAgBZ,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBxB,eAoBpB2c,EAAQ5c,EAASG,KAAKyc,MApBF,kBAqBnBA,GArBmB,4CAAH,sDCAdC,GAAmB,uCAAG,WAAOxV,GAAP,+BAAA1H,EAAA,6DAAcoM,EAAd,+BAAyB,KAElDzL,EAAc,CAChB,OAAU+G,EACV,SAAY0E,GAJe,SAORnM,IAAM,CACzBC,IAAKC,sCACLC,OAAQ,OACRI,KAAMG,IAVqB,YAaN,OANnBN,EAPyB,QAajBC,OAAuC,MAApBD,EAASC,QAbX,oBAcH,MAApBD,EAASC,OAdc,uBAejB,IAAIC,MAAJ,4BAfiB,cAiBjB,IAAIA,MAAJ,wBAA2BF,EAASC,SAjBnB,kCAqBxB,GArBwB,4CAAH,sDCQnB6c,I,OAAkB,SAAC5W,GAC9B,MAA8CsC,wBAASyE,GAAvD,mBAAO8P,EAAP,KAAwBC,EAAxB,KACQC,EAAMC,cAAND,EAEFE,EAAkB,uCAAG,WAAO/N,GAAP,SAAAzP,EAAA,sDACzBqd,OAAmB/P,GADM,2CAAH,sDAIlB6F,EAAa,uCAAG,WAAOsK,GAAP,eAAAzd,EAAA,6DACd0H,EAAQ+V,EAAO/V,MAAM0C,cADP,SAEK4S,GAAetV,GAFpB,WAGD,IAHC,uBAIlB2V,EAAmB,SAJD,8BAMlBA,EAAmB,WAND,mBAQVH,GAAoBxV,GARV,QAShBmO,KAAavN,QAAQ,CACnBwN,QAASwH,EAAE,0BACXzS,UAAW,UACX5D,UAAW,wBAEbV,EAAMmX,eAAc,GAdJ,kDAgBhB7H,KAAa8H,KAAK,CAChB7H,QAAS,KAAMA,QACfjL,UAAW,UACX5D,UAAW,wBAnBG,0DAAH,sDAyBnB,OACE,qBAAKA,UAAU,gBAAf,SACE,eAAC,KAAD,CACEiF,KAAK,eACLjF,UAAU,gBACV2W,cAAe,CACblW,MAAOnB,EAAMmB,OAEfmW,SAAU1K,EANZ,UAQE,cAAC,KAAK2K,KAAN,CACE5R,KAAK,QACLgD,SAAUsO,EACVO,MAAO,CACL,CACE1G,KAAM,QACN2G,UAAU,EACVlI,QAASwH,EAAE,4BAPjB,SAWE,cAAC,KAAD,CACEW,OAAQ,cAACC,GAAA,EAAD,CAAcjX,UAAU,wBAChC+H,YAAY,YAIhB,eAAC,KAAK8O,KAAN,WACE,cAAC,KAAD,CACEzG,KAAK,UACL8G,SAAS,SACTlX,UAAU,sBACVmX,SAA8B,UAApBhB,EAJZ,SAOME,EADiB,UAApBF,EACK,0BACA,kCAGR,sBACEnW,UAAU,qBACVC,QAAS,WACPX,EAAMmX,eAAc,IAHxB,UAME,cAACxL,GAAA,EAAD,IAAsB,IACtB,sBAAMjL,UAAU,OAAhB,SAAwBqW,EAAE,qCCvFzBe,GAAmB,uCAAG,WAAO3W,GAAP,+BAAA1H,EAAA,6DAAcoM,EAAd,+BAAyB,KAElDzL,EAAc,CAChB,OAAU+G,EACV,SAAY0E,GAJe,SAORnM,IAAM,CACzBC,IAAKC,0CACLC,OAAQ,OACRI,KAAMG,IAVqB,YAaN,OANnBN,EAPyB,QAajBC,OAAuC,MAApBD,EAASC,QAbX,oBAcH,MAApBD,EAASC,OAdc,uBAejB,IAAIC,MAAJ,4BAfiB,cAiBjB,IAAIA,MAAJ,wBAA2BF,EAASC,SAjBnB,kCAqBxB,GArBwB,4CAAH,sDCenBge,I,OAAY,WACvB,MAAkCzV,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAoCF,oBAAS,GAA7C,mBAAO0V,EAAP,KAAmBb,EAAnB,KACMc,EAAUvV,sBAAOqE,GACfgQ,EAAMC,cAAND,EAEFnK,EAAa,uCAAG,WAAOsK,GAAP,2BAAAzd,EAAA,yDACpB+I,GAAa,GACP0V,EAAkBhB,EAAOgB,iBACzBC,ECzBCC,ODyB4BF,GCxBhCrU,cACAwU,MACC,4JDwBFJ,EAAQjU,QAAUkT,EAAOgB,gBAAgBrU,eAErCxC,EAAW6V,EAAO7V,SAClBiX,EAAWpB,EAAOoB,SARJ,SAUdrW,EAAQ,MACRkW,EAXc,kCAYFzW,EAAUG,MACtBqW,EACA,KACA7W,EACAiX,GAhBc,QAYhBrW,EAZgB,gDAmBFP,EAAUG,MACtB,KACAqW,EACA7W,EACAiX,GAvBc,QAmBhBrW,EAnBgB,eA0BdA,IACY,kCAAVA,GACIsW,EACJ,qCACE,mCAASxB,EAAE,2BAAX,OAAiD,IAChDA,EAAE,yCAFL,IAGE,sBACErW,UAAU,yBACVC,QAAS,WACPmX,GAAoBG,EAAQjU,SAC5BsL,KAAavN,QAAQ,CACnByW,SAAU,EACVjJ,QAASwH,EAAE,0BACXzS,UAAW,UACX5D,UAAW,yBARjB,UAYE,cAACiE,EAAA,EAAD,IAZF,IAYoBoS,EAAE,uCAAwC,IAC5D,sBAAMrW,UAAU,OAAhB,SAAwBqW,EAAE,2BAb5B,UAiBJzH,KAAarN,MAAM,CACjBuW,SAAU,EACVjJ,QAASgJ,EACTjU,UAAW,UACX5D,UAAW,yBAEM,kCAAVuB,GACHsW,EACJ,qCACE,mCAASxB,EAAE,6BAAX,OADF,IACqD,uBAClDA,EAAE,kCACH,uBAAMrW,UAAU,OAAOC,QAAS,kBAAMwW,GAAea,IAArD,UACG,IACAjB,EAAE,yBAA0B,OACvB,IACPA,EAAE,iBAPL,OAUFzH,KAAarN,MAAM,CACjBsN,QAASgJ,EACTjU,UAAW,UACX5D,UAAW,yBAGb4O,KAAarN,MAAM,CACjBsN,QAAStN,EACTqC,UAAW,UACX5D,UAAW,yBA5EC,kDAiFlB7D,QAAQC,IAAR,MAjFkB,QAmFpB0F,GAAa,GAnFO,0DAAH,sDAsFnB,OAAOwV,EACL,cAAC,GAAD,CAAiBb,cAAeA,EAAehW,MAAO8W,EAAQjU,UAE9D,qBAAKtD,UAAU,cAAf,SACE,eAAC,KAAD,CACEiF,KAAK,aACLjF,UAAU,cACV2W,cAAe,CACblW,MAAO8W,EAAQjU,QACfsU,UAAU,GAEZhB,SAAU1K,EAPZ,UASE,cAAC,KAAK2K,KAAN,CACE5R,KAAK,kBACL6R,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,sCALjB,SASE,cAAC,KAAD,CACEW,OAAQ,cAACe,GAAA,EAAD,CAAc/X,UAAU,wBAChC+H,YAAasO,EAAE,6BAInB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,WACL6R,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,+BALjB,SASE,cAAC,KAAMV,SAAP,CACEqB,OAAQ,cAACtP,EAAA,EAAD,CAAc1H,UAAU,wBAChC+H,YAAasO,EAAE,sBAInB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,WACL+S,cAAc,UACdnY,MAAO,CAAE8R,QAAS,eAAgB7J,MAAO,aAH3C,SAKE,cAAC,KAAD,CAAU9H,UAAU,kBAApB,SACGqW,EAAE,wBAIP,cAAC,KAAKQ,KAAN,CACE5R,KAAK,kBACLpF,MAAO,CACL8R,QAAS,eACT7J,MAAO,YACPmQ,UAAW,SALf,SAQE,sBACEjY,UAAU,sBACVC,QAAS,kBAAMwW,GAAea,IAFhC,SAIGjB,EAAE,yBAAyB6B,QAAQ,OAAO,SAACC,GAAD,OAAOA,EAAE5R,qBAIxD,cAAC,KAAKsQ,KAAN,UACE,cAAC,KAAD,CACEzG,KAAK,UACL8G,SAAS,SACTlX,UAAU,oBAHZ,SAKG6B,EAAY,cAACuW,GAAA,EAAD,CAAcC,MAAI,IAAMhC,EAAE,4B,UEtLtCiC,GAAiB,uCAAG,WAAO5X,GAAP,mBAAA3H,EAAA,6DAEvBW,EAAc,CAChB,SAAYgH,GAHa,SAMN1H,IAAM,CACzBC,IAAKC,qCACLC,OAAQ,OACRI,KAAMG,IATmB,YAYJ,OANnBN,EANuB,QAYfC,OAAuC,MAApBD,EAASC,QAZb,oBAaD,MAApBD,EAASC,OAbY,sBAcf,IAAIC,MAAJ,4BAde,aAgBf,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBrB,eAoBvBkf,EAAQnf,EAASG,KAAKgf,MApBC,kBAqBtBA,GArBsB,4CAAH,sDCAjBC,GAAW,uCAAG,WACzBC,EACAC,EACAC,EACAlY,EACAE,EACAwE,GANyB,mBAAApM,EAAA,6DAQnBW,EAAc,CAClBkf,MAAM,guBAoBNC,UAAW,CACTJ,YACAC,WACAC,WACAlY,QACAE,WACAwE,aAIE2T,EAAU,CACd,eAAgB,oBAxCO,kBA4CA9f,IACrB,CACEC,IAAKC,iCACLC,OAAQ,OACRI,KAAMG,GAER,CACEof,QAASA,IAnDU,cA4CjB1f,EA5CiB,yBAsDhBA,EAASG,MAtDO,mCAwDK,MAAxB,KAAIH,SAASC,OAxDM,uBAyDf,IAAIC,MAAJ,4BAzDe,iCA2DhB,KAAIF,SAASG,MA3DG,yDAAH,gECeXwf,I,OAAa,SAACzZ,GACzB,MAAkCsC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA8CF,wBAASyE,GAAvD,mBAAO2S,EAAP,KAAwBC,EAAxB,KACA,EAAgDrX,wBAASyE,GAAzD,mBAAO6S,EAAP,KAAyBC,EAAzB,KACA,EAAoB7C,cAAZD,EAAR,EAAQA,EACFlR,EADN,EAAWiU,KACWjU,SAASqB,MAAM,EAAG,GAElC6S,EAAqB,uCAAG,WAAO7Q,GAAP,mBAAAzP,EAAA,yDAEX,MADX2H,EAAW8H,EAAEE,OAAOP,OADE,gBAG1B8Q,EAAmB,SACnBE,EAAoB,MAJM,8BAM1BF,EAAmB,cACnBE,EAAoB,MAPM,UAQIb,GAAkB5X,GARtB,SASF,KADlB4Y,EARoB,SAUxBL,EAAmB,SACnBE,EAAoB9C,EAAE,mCACO,IAApBiD,IACL5Y,EAAS+S,SAAS,MACpBwF,EAAmB,SACnBE,EAAoB9C,EAAE,6BAGhBkD,EAAa,gDACf7Y,EAASiX,MAAM4B,IACjBN,EAAmB,SACnBE,EAAoB9C,EAAE,uCAEtB4C,EAAmB,WACnBE,EAAoB,SAxBA,4CAAH,sDA+BrBjN,EAAa,uCAAG,WAAOsK,GAAP,yBAAAzd,EAAA,6DACpB+I,GAAa,GACP0X,EAAYhD,EAAOgD,UACnBC,EAAWjD,EAAOiD,SAClB/Y,EAAW8V,EAAO9V,SAClBD,EAAQ+V,EAAO/V,MAAM0C,cACrBxC,EAAW6V,EAAO7V,SANJ,kBAQK6X,GACrBgB,EACAC,EACA/Y,EACAD,EACAE,EACAwE,GAdgB,WAQZ/L,EARY,QAgBJsgB,OAhBI,kCAiBVtC,GAAoB3W,GAjBV,QAkBhBmO,KAAavN,QAAQ,CACnBwN,QAASwH,EAAE,4BACXzS,UAAW,UACX5D,UAAW,sBACX8X,SAAU,IAEZxY,EAAMqa,cAAa,GAxBH,wBA0BhB/K,KAAarN,MAAM,CACjBsN,QAASzV,EAASsgB,OAAO,GAAG7K,QAC5BjL,UAAW,UACX5D,UAAW,wBA7BG,0DAiClB4O,KAAarN,MAAM,CACjBsN,QAAS,KAAMA,QACfjL,UAAW,UACX5D,UAAW,wBAEb7D,QAAQC,IAAR,MAtCkB,QAwCpB0F,GAAa,GAxCO,0DAAH,sDA2CnB,OACE,qBAAK9B,UAAU,eAAf,SACE,eAAC,KAAD,CACEiF,KAAK,cACLjF,UAAU,eACV4W,SAAU1K,EAHZ,UAKE,cAAC,KAAK2K,KAAN,CACE5R,KAAK,YACLpF,MAAO,CAAE8R,QAAS,eAAgB7J,MAAO,oBACzCgP,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,4BANjB,SAUE,cAAC,KAAD,CACEW,OAAQ,cAACe,GAAA,EAAD,CAAc/X,UAAU,wBAChC+H,YAAasO,EAAE,uBAGnB,sBACExW,MAAO,CACL8R,QAAS,eACT7J,MAAO,OACP8R,WAAY,OACZ3B,UAAW,YAGf,cAAC,KAAKpB,KAAN,CACE5R,KAAK,WACLpF,MAAO,CAAE8R,QAAS,eAAgB7J,MAAO,oBACzCgP,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,2BANjB,SAUE,cAAC,KAAD,CACEW,OAAQ,cAAC6C,GAAA,EAAD,CAAe7Z,UAAU,wBACjC+H,YAAasO,EAAE,sBAInB,cAAC,IAAD,CACEyD,QAAS,CAAC,SACVjW,MACEqV,EACIA,IAAqB7C,EAAE,gCACrBA,EAAE,sBACFA,EAAE,wBACJ,KAENzS,UAAU,OATZ,SAWE,cAAC,KAAKiT,KAAN,CACE5R,KAAK,WACL8U,eAAgBf,EAChB/Q,SAAUoR,EACVW,aAAW,EACXlD,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,6BAEb,CACE4D,UADF,SACYC,EAAG/R,GACX,OAAIA,GAA6B,UAApB6Q,EACJ9d,QAAQM,OAAO,IAAIlC,MAAM4f,IAE3Bhe,QAAQK,aAfvB,SAoBE,cAAC,KAAD,CACEyb,OAAQ,cAACe,GAAA,EAAD,CAAc/X,UAAU,wBAChC+H,YAAasO,EAAE,4BAIrB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,QACL6R,MAAO,CACL,CACE1G,KAAM,QACN2G,UAAU,EACVlI,QAASwH,EAAE,4BANjB,SAUE,cAAC,KAAD,CACEW,OAAQ,cAACC,GAAA,EAAD,CAAcjX,UAAU,wBAChC+H,YAAY,YAIhB,cAAC,KAAK8O,KAAN,CACE5R,KAAK,WACL6R,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,mCALjB,SASE,cAAC,KAAMV,SAAP,CACEqB,OAAQ,cAACtP,EAAA,EAAD,CAAc1H,UAAU,wBAChC+H,YAAasO,EAAE,4BAInB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,UACLkV,aAAc,CAAC,YACfH,aAAW,EACXlD,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,oCAEb,gBAAG+D,EAAH,EAAGA,cAAH,MAAwB,CACtBH,UADsB,SACZC,EAAG/R,GACX,OAAKA,GAASiS,EAAc,cAAgBjS,EAGrCjN,QAAQM,OACb,IAAIlC,MAAM+c,EAAE,+BAHLnb,QAAQK,cAZzB,SAqBE,cAAC,KAAMoa,SAAP,CACEqB,OAAQ,cAACtP,EAAA,EAAD,CAAc1H,UAAU,wBAChC+H,YAAasO,EAAE,iCAInB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,YACL+S,cAAc,UACdlB,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,6BANjB,SAUE,eAAC,KAAD,CAAUrW,UAAU,gBAApB,UACGqW,EAAE,8BAA+B,IAClC,mBAAGrW,UAAU,OAAO+K,KAAK,WAAzB,SACGsL,EAAE,wBAHP,IAKI,IACF,mBAAGrW,UAAU,OAAO+K,KAAK,WAAzB,SACGsL,EAAE,yBAEJA,EAAE,oBAAqB,IACxB,mBAAGrW,UAAU,OAAO+K,KAAK,YAAzB,SACGsL,EAAE,gCAEJA,EAAE,wCAIP,cAAC,KAAKQ,KAAN,UACE,cAAC,KAAD,CACEzG,KAAK,UACL8G,SAAS,SACTlX,UAAU,qBAHZ,SAKG6B,EAAY,cAACuW,GAAA,EAAD,CAAcC,MAAI,IAAMhC,EAAE,kCC7QtCgE,GAAgB,SAAC/a,GAC5B,IAAQ+W,EAAMC,cAAND,EAER,OACE,qBAAKiE,UAAU,uBAAuBza,MAAO,CAAE0a,WAAY,QAA3D,SACIjb,EAAMkb,WAWN,qCACGnE,EAAE,gBADL,SAEE,sBACErW,UAAU,OACVC,QAAS,kBAAMX,EAAMmb,eAAenb,EAAMkb,aAF5C,SAIGnE,EAAE,oBAhBP,qCACGA,EAAE,iBADL,SAEE,sBACErW,UAAU,OACVC,QAAS,kBAAMX,EAAMmb,eAAenb,EAAMkb,aAF5C,SAIGnE,EAAE,wBCFFqE,I,OAAQ,SAACpb,GACpB,MAAoCsC,oBAAS,GAA7C,mBAAO4Y,EAAP,KAAmBC,EAAnB,KAEME,EAAQ,uCAAG,WAAOnG,GAAP,eAAAzb,EAAA,+EAEKwb,GAAcC,GAFnB,OAGM,OADb7J,EAFO,QAGLtR,SACkB,UAApBsR,EAAIpR,KAAKqhB,OACX5Z,EAAUU,YAAW,IAErBV,EAAUU,YAAW,GACrBqD,EAAUe,iBAEZ9E,EAAUM,cAAa,IAVZ,gDAabnF,QAAQC,IAAR,MACAwS,KAAarN,MAAM,CACjBsN,QAAS,KAAIA,QACbjL,UAAW,UACX5D,UAAW,wBAjBA,yDAAH,sDAsBd,OACE,8BACE,qBAAKA,UAAU,mBAAf,SACGV,EAAMub,cACL,cAAC,GAAD,CAAU1Z,MAAOwZ,IAEjB,gCACGH,EAAa,cAAC,GAAD,IAAiB,cAAC,GAAD,IAC/B,qBAAKxa,UAAU,uBAAf,SACE,cAAC,GAAD,CACEya,cAAeA,EACfD,WAAYA,eCtCfM,GAAQzb,aAAS,WAC5B,MAA8BuC,mBAAS,UAAvC,mBAAO+P,EAAP,KAAgBX,EAAhB,KACA,OAAOjM,EAAUG,QACf,gCACE,cAAC,GAAD,CAAa8L,WAAYA,IACZ,WAAZW,GAAwB,cAAC,GAAD,IACZ,QAAZA,GAAqB,cAAC,GAAD,IACT,SAAZA,GAAsB,cAAC,GAAD,IACV,QAAZA,GAAqB,cAAC,GAAD,OAGxB,sBAAK3R,UAAU,qBAAf,UACE,qBAAKA,UAAU,aAAf,uBACA,cAAC,GAAD,IACA,qBAAKA,UAAU,iBCdR+a,I,OAAkB,SAACzb,GAC9B,OACE,qCACE,qBACEU,UAAU,+BACVC,QAAS,WACPX,EAAM0b,kBAAkB1b,EAAMub,gBAHlC,SAME,cAAC,IAAD,CAAShX,MAAOvE,EAAMub,cAAgB,iBAAmB,aAAzD,SACGvb,EAAMub,cAAgB,cAAC9C,GAAA,EAAD,IAAmB,cAACtQ,EAAA,EAAD,QAG9C,cAAC,IAAD,CAAS5D,MAAM,QAAf,SACE,cAAC,IAAD,CAAM7D,UAAU,wBAAwBgL,GAAG,OAA3C,SACE,cAAC2B,GAAA,EAAD,aCxBGsO,GAAiB,uCAAG,WAAOC,GAAP,iBAAAniB,EAAA,6DAEvBW,EAAc,CAChB,MAASwhB,GAHgB,SAMNliB,IAAM,CACzBC,IAAKC,yOAAYiiB,QAAZ,sBACLhiB,OAAQ,OACRI,KAAMG,IATmB,YAYJ,OANnBN,EANuB,QAYfC,OAAuC,MAApBD,EAASC,QAZb,oBAaD,MAApBD,EAASC,OAbY,sBAcf,IAAIC,MAAJ,4BAde,aAgBf,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBrB,iCAoBtBD,EAASG,KAAK6hB,eApBQ,4CAAH,sD,8BCKjBC,I,OAAmB,WAC9B,IAAQjC,EAAS9C,cAAT8C,KACFkC,EAAelC,EAAKjU,SAASqB,OAAO,GAC1C,EAAgC5E,mBACb,OAAjB0Z,EAAwB,KAAOA,GADjC,mBAAOnW,EAAP,KAAiBO,EAAjB,KAIM6V,EAA0B,SAACpT,GACjB,OAAVA,GACFiR,EAAKoC,eAAe,SACpB9V,EAAY,OACO,OAAVyC,GACTiR,EAAKoC,eAAe,SACpB9V,EAAY,OACO,OAAVyC,IACTiR,EAAKoC,eAAe,SACpB9V,EAAY,QAIV+V,EACJ,eAAC,KAAD,WACE,cAAC,KAAK5E,KAAN,CACE5W,QAAS,WACPsb,EAAwB,OAF5B,SAKE,qBAAKvb,UAAU,yBAAf,kBAEF,cAAC,KAAK6W,KAAN,CACE5W,QAAS,WACPsb,EAAwB,OAF5B,SAKE,qBAAKvb,UAAU,yBAAf,kBAEF,cAAC,KAAK6W,KAAN,CACE5W,QAAS,WACPsb,EAAwB,OAF5B,SAKE,qBAAKvb,UAAU,yBAAf,qBAKN,OACE,qBAAKA,UAAU,mBAAf,SACE,cAAC,KAAD,CAAU0b,QAASD,EAAM3B,QAAS,QAAlC,SAEE,oBACE9Z,UAAU,oBACVC,QAAS,SAACuI,GACRA,EAAExF,kBAHN,UAMGmC,EACD,cAACwW,GAAA,EAAD,aCtDGC,I,OAAgB,WAC3B,MAAkCha,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAoCF,oBAAS,GAA7C,mBAAOia,EAAP,KAAmBC,EAAnB,KACQzF,EAAMC,cAAND,EACF0F,EAAS3R,cAET4R,EAAkBvZ,sBAAW,sBAAC,sBAAA1J,EAAA,sEACZkiB,GAAkBc,EAAOE,YADb,gBAGhCH,GAAc,GACdjZ,YAAW,WACTlD,SAAS4H,SAASwD,KAAO,MACxB,MAELjJ,GAAa,GARqB,2CASjC,CAACia,EAAOE,aAMX,OAJA5Z,qBAAU,WACR2Z,MACC,CAACA,IAGF,gCACE,qBAAKhc,UAAU,2BAAf,SACE,cAAC,GAAD,MAEF,qBAAKA,UAAU,4BAAf,SACE,qBAAKA,UAAU,2BAAf,SACG6B,EACC,cAACkC,EAAA,EAAD,CAAiB/D,UAAU,0BACzB6b,EACF,qCACE,iCAASxF,EAAE,yBADb,IAC8C,uBAC3CA,EAAE,+BAFL,IAEqC,uBAClCA,EAAE,yBAHL,IAIE,uBACA,uBACA,sBAAKrW,UAAU,sBAAf,UACGqW,EAAE,yBAA0B,IAC7B,uBACErW,UAAU,OACVC,QAAS,WACPN,SAAS4H,SAASwD,KAAO,KAH7B,UAMG,IACAsL,EAAE,mBAPL,OAFF,UAeF,qCACE,mCAASA,EAAE,0BAAX,OACA,uBACCA,EAAE,6BAHL,IAIE,uBACA,sBAAKrW,UAAU,sBAAf,UACGqW,EAAE,sBACH,uBACErW,UAAU,OACVC,QAAS,WACPN,SAAS4H,SAASwD,KAAO,KAH7B,UAMG,IACAsL,EAAE,sBAEJ,KACAA,EAAE,wBAZL,mBCjED6F,GAAe,uCAAG,WAAOhB,GAAP,mBAAAniB,EAAA,6DAErBW,EAAc,CAChB,MAASwhB,GAHc,SAMJliB,IAAM,CACzBC,IAAKC,yOAAYiiB,QAAZ,mBACLhiB,OAAQ,OACRI,KAAMG,IATiB,YAYF,OANnBN,EANqB,QAYbC,OAAuC,MAApBD,EAASC,QAZf,oBAaC,MAApBD,EAASC,OAbU,sBAcb,IAAIC,MAAJ,4BAda,aAgBb,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBvB,eAoBrB8iB,EAAQ/iB,EAASG,KAAK4iB,MApBD,kBAqBpBA,GArBoB,4CAAH,sDCAfC,GAAkB,uCAAG,WAAOlB,EAAOva,GAAd,mBAAA5H,EAAA,6DAC1BW,EAAc,CAClBwhB,MAAOA,EACPva,SAAUA,GAHoB,SAMT3H,IAAM,CAC3BC,IAAKC,yOAAYiiB,QAAZ,uBACLhiB,OAAQ,OACRI,KAAMG,IATwB,YAYP,OANnBN,EAN0B,QAYlBC,OAAuC,MAApBD,EAASC,QAZV,oBAaN,MAApBD,EAASC,OAbiB,sBActB,IAAIC,MAAJ,4BAdsB,aAgBtB,IAAIA,MAAJ,wBAA2BF,EAASC,SAhBd,eAoB1BgjB,EAAUjjB,EAASG,KAAK8iB,QApBE,kBAqBzBA,GArByB,4CAAH,wDCSlBC,I,OAAc,WACzB,MAAkC1a,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA8BF,oBAAS,GAAvC,mBAAO2a,EAAP,KAAgBC,EAAhB,KACQnG,EAAMC,cAAND,EAGF6E,EAFS9Q,cAEMlH,IAEfgJ,EAAa,uCAAG,WAAO/D,GAAP,eAAApP,EAAA,6DACpB+I,GAAa,GACPnB,EAAWwH,EAAMxH,SAFH,kBAIIyb,GAAmBlB,EAAOva,GAJ9B,QAKF,IALE,QAMhBiO,KAAavN,QAAQ,CACnBwN,QAASwH,EAAE,yBACXzS,UAAW,YAEbf,YAAW,WACTlD,SAAS4H,SAASwD,KAAO,MACxB,MAEH6D,KAAa8H,KAAK,CAChB7H,QAASwH,EAAE,4BACXzS,UAAW,YAhBG,gDAoBlBgL,KAAa8H,KAAK,CAChB7H,QAAS,KAAMA,QACfjL,UAAW,YAEbzH,QAAQC,IAAR,MAxBkB,QA0BpB0F,GAAa,GA1BO,yDAAH,sDA6Bb2a,EAAcha,sBAAW,sBAAC,sBAAA1J,EAAA,sEACLmjB,GAAgBhB,GADX,gBAG5BsB,GAAW,GACX5N,KAAarN,MAAM,CACjBsN,QAASwH,EAAE,sBACXzS,UAAW,UACXkU,SAAU,KAPgB,2CAU7B,CAACoD,IAMJ,OAJA7Y,qBAAU,WACRoa,MACC,CAACA,IAGF,gCACE,qBAAKzc,UAAU,2BACf,qBAAKA,UAAU,0BAAf,SACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,iBAAf,SAAiCqW,EAAE,0BAEnC,eAAC,KAAD,CACEpR,KAAK,cACLjF,UAAU,eACV2W,cAAe,CACbiB,UAAU,GAEZhB,SAAU1K,EANZ,UAQE,cAAC,KAAK2K,KAAN,CACE5R,KAAK,WACL6R,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,kCALjB,SASE,cAAC,KAAMV,SAAP,CACEqB,OAAQ,cAACtP,EAAA,EAAD,CAAc1H,UAAU,wBAChC+H,YAAasO,EAAE,+BAInB,cAAC,KAAKQ,KAAN,CACE5R,KAAK,UACLkV,aAAc,CAAC,YACfH,aAAW,EACXlD,MAAO,CACL,CACEC,UAAU,EACVlI,QAASwH,EAAE,iCAEb,gBAAG+D,EAAH,EAAGA,cAAH,MAAwB,CACtBH,UADsB,SACZC,EAAG/R,GACX,OAAKA,GAASiS,EAAc,cAAgBjS,EAGrCjN,QAAQM,OACb,IAAIlC,MAAM+c,EAAE,8BAHLnb,QAAQK,cAZzB,SAqBE,cAAC,KAAMoa,SAAP,CACEqB,OAAQ,cAACtP,EAAA,EAAD,CAAc1H,UAAU,wBAChC+H,YAAasO,EAAE,sCAInB,cAAC,KAAKQ,KAAN,UACE,cAAC,KAAD,CACEzG,KAAK,UACL8G,SAAS,SACTlX,UAAU,qBACVmX,UAAWoF,EAJb,SAMG1a,EACC,cAACuW,GAAA,EAAD,CAAcC,MAAI,IAElBhC,EADEkG,EACA,uBAEI,8C,6BCjIlBG,GAASC,EAAQ,KACjBC,GAASD,EAAQ,KACjBE,GAASF,EAAQ,KAEvBvD,KACG0D,IAAIC,MACJD,IAAIE,MAEJC,KAAK,CACJC,OAAO,EACPC,YAAa,KACbC,cAAe,CACbC,aAAa,GAEfC,UAAW,CACTC,GAAI,CACFC,YAAad,IAEfe,GAAI,CACFD,YAAaZ,IAEfc,GAAI,CACFF,YAAaX,OAKNzD,GAAf,E,OAAeA,ICZTuE,GAAuB,WAC3B,IAAIC,EAA0B,IAArBtW,OAAOoC,YAChB/J,SAASke,gBAAgBhe,MAAMie,YAAY,OAA3C,UAAsDF,EAAtD,QAGFtW,OAAO9D,iBAAiB,SAAUma,IAElC,IAyDeI,GAzDH1e,aAAS,WACnB,MAA0CuC,oBAAS,GAAnD,mBAAOiZ,EAAP,KAAsBG,EAAtB,KAEQ5B,EAAS9C,cAAT8C,KAgBR,OAfA4E,2BAAgB,WAEdL,OACC,IAEHtb,qBAAU,WACmB,OAAvB0C,EAAUI,SACZiU,EAAKoC,eAAe,SACY,OAAvBzW,EAAUI,SACnBiU,EAAKoC,eAAe,SAEpBpC,EAAKoC,eAAe,WAErB,CAACpC,IAGF,cAAC,IAAD,UACE,qBAAKpZ,UAAU,MAAf,SACE,qBAAKA,UAAU,YAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOie,KAAK,kBAAkBve,QAAS,cAAC,GAAD,MACvC,cAAC,IAAD,CAAOue,KAAK,0BAA0Bve,QAAS,cAAC,GAAD,MAC/C,cAAC,IAAD,CAAOue,KAAK,SAAZ,SACE,cAACnD,GAAD,MAEF,cAAC,IAAD,CAAOmD,KAAK,QAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,QAAQC,SAAU,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,IAAZ,SACE,qBAAKje,UAAU,YAAf,SACGgB,EAAUE,UACT,cAAC,EAAD,IAEA,eAAC,WAAD,WACE,qBAAKlB,UAAU,aAAf,4BACA,cAAC,GAAD,CAAO6a,cAAeA,IACtB,qBAAK7a,UAAU,WACf,cAAC,GAAD,CACE6a,cAAeA,EACfG,iBAAkBA,uBC1DzBmD,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9Z,MAAK,YAAkD,IAA/C+Z,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFlf,SAASC,eAAe,SAM1Bue,O","file":"static/js/main.f5facb80.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getTags = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};\n\n\nexport const getFilteredTags = async (filter) => {\n\n    const requestBody = {\n        \"filter\": filter,\n      };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/filter`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const getPictures = async (limit, showMissing) => {\n\n    const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/all/${limit}/${showMissing}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getPicturesPerPage = async (pageNumber, pageSize, filter = \"\") => {\n\n  const requestBody = {\n    \"pageNumber\": pageNumber,\n    \"pageSize\": pageSize,\n    \"filter\": filter,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/page`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\n\nexport const getTotalPictures = async (filter = \"\") => {\n\n  const requestBody = {\n    \"filter\": filter,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/total/`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n  return response.data;\n  \n};\n","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getFilteredTags } from \"./calls/getTags\";\nimport { getPicturesPerPage, getTotalPictures } from \"./calls/getPictures\";\n\nconst loadImage = (image) => {\n  return new Promise((resolve, reject) => {\n    const loadImg = new Image();\n    loadImg.src = image.url_thumb;\n    loadImg.onload = () => resolve(image.url);\n    loadImg.onerror = (err) => reject(err);\n  });\n};\n\nexport class PictureStore {\n  PAGE_SIZE = 100;\n\n  pageNumber = 1;\n  totalPictures = 0;\n  selected = null;\n  lastPageReached = false;\n  showOverlay = false;\n  isGalleryLoading = true;\n  galleryNeedsRefresh = true;\n  showFilterSelect = false;\n  isTagInputActive = false;\n  allPictures = [];\n  tags = [];\n  filter = [];\n\n  constructor() {\n    makeObservable(this, {\n      pageNumber: observable,\n      setPageNumber: action,\n      lastPageReached: observable,\n      setLastPageReached: action,\n      showOverlay: observable,\n      setShowOverlay: action,\n      selected: observable,\n      setSelected: action,\n      changeSelected: action,\n      allPictures: observable,\n      setAllPictures: action,\n      totalPictures: observable,\n      setTotalPictures: action,\n      filter: observable,\n      addFilter: action,\n      setFilter: action,\n      isGalleryLoading: observable,\n      setIsGalleryLoading: action,\n      galleryNeedsRefresh: observable,\n      setGalleryNeedsRefresh: action,\n      showFilterSelect: observable,\n      setShowFilterSelect: action,\n      fetchPictures: action,\n      nextPageHandler: action,\n      goToPageHandler: action,\n      tags: observable,\n      setTags: action,\n      isTagInputActive: observable,\n      setIsTagInputActive: action,\n    });\n  }\n\n  fetchPictures = async () => {\n    try {\n      const pictures = await getPicturesPerPage(\n        this.pageNumber,\n        this.PAGE_SIZE,\n        this.filter\n      );\n      const totalPictures = await getTotalPictures(this.filter);\n      if (pictures.length < this.PAGE_SIZE) {\n        pictureStore.setLastPageReached(true);\n      } else {\n        pictureStore.setLastPageReached(false);\n      }\n      const tags = await getFilteredTags(this.filter);\n      await Promise.all(pictures.map((picture) => loadImage(picture)));\n      pictureStore.setTags(tags);\n\n      this.setAllPictures(pictures);\n      this.setTotalPictures(totalPictures);\n    } catch (err) {\n      console.log(err);\n    }\n    pictureStore.setIsGalleryLoading(false);\n  };\n\n  nextPageHandler = async (next) => {\n    pictureStore.setIsGalleryLoading(true);\n    if (next) {\n      const nextPage = this.pageNumber + 1;\n      this.pageNumber = nextPage;\n      await this.fetchPictures(nextPage);\n    } else {\n      const previousPage = this.pageNumber - 1;\n      this.pageNumber = previousPage;\n      await this.fetchPictures(previousPage);\n    }\n  };\n\n  goToPageHandler = async (page) => {\n    pictureStore.setIsGalleryLoading(true);\n      this.pageNumber = parseInt(page);\n      await this.fetchPictures(page);\n  };\n\n  setPageNumber = (pageNumber) => {\n    this.pageNumber = pageNumber;\n  };\n\n  setLastPageReached = (lastPageReached) => {\n    this.lastPageReached = lastPageReached;\n  };\n\n  setShowOverlay = (showOverlay) => {\n    this.showOverlay = showOverlay;\n  };\n\n  changeSelected = async (next) => {\n    const selected = this.selected;\n    const maxSelectable = this.allPictures.length - 1;\n    if (next) {\n      if (selected === maxSelectable) {\n        await this.nextPageHandler(true);\n        this.selected = 0;\n      } else {\n        this.selected = selected + 1;\n      }\n    } else {\n      if (selected === 0) {\n        await this.nextPageHandler(false);\n        this.selected = this.PAGE_SIZE -1;\n      } else {\n        this.selected = selected - 1;\n      }\n    }\n  };\n\n  setSelected = async (selected) => {\n    this.selected = selected;\n  };\n\n  setAllPictures = (allPictures) => {\n    this.allPictures = allPictures;\n  };\n\n  setTotalPictures = (totalPictures) => {\n    this.totalPictures = totalPictures;\n  };\n\n  addFilter = async (filter) => {\n    await this.filter.push(filter);\n    pictureStore.setIsGalleryLoading(true);\n    pictureStore.setPageNumber(1);\n    pictureStore.fetchPictures();\n  };\n\n  setFilter = (filter) => {\n    this.filter = filter;\n    pictureStore.setIsGalleryLoading(true);\n    this.setPageNumber(1);\n    pictureStore.fetchPictures();\n  };\n\n  setIsGalleryLoading = (isGalleryLoading) => {\n    this.isGalleryLoading = isGalleryLoading;\n  };\n\n  setGalleryNeedsRefresh = (galleryNeedsRefresh) => {\n    this.galleryNeedsRefresh = galleryNeedsRefresh;\n  };\n\n  setShowFilterSelect = (showFilterSelect) => {\n    this.showFilterSelect = showFilterSelect;\n  };\n\n  setIsTagInputActive = (isTagInputActive) => {\n    this.isTagInputActive = isTagInputActive;\n  };\n\n  setTags = (tags) => {\n    this.tags = tags;\n  };\n\n}\n\nexport const pictureStore = new PictureStore();\n","import axios from \"axios\";\n\nexport const getFavoritesPictures = async (favorites) => {\n  \n  const requestBody = {\n    \"favorites\": favorites,\n  };\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/favorites/`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n  \n};\n","import axios from \"axios\";\n\nexport const postUserFavorites = async (favorites) => {\n\n    const requestBody = {\n        input: {\n            \"favorites\": JSON.stringify(favorites),\n        }\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response;\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getFavoritesPictures} from \"./calls/getFavoritesPictures\";\nimport { postUserFavorites } from \"./calls/postUserFavorites\";\n\nexport class FavoriteStore {\n \n  favoritesId = [];\n  favoriteObjectLoading = true;\n  favoriteObject = [];\n  showFavorites = false;\n\n  constructor() {\n    makeObservable(this, {\n        favoriteObject: observable,\n        setFavoriteObject: action,\n        favoriteObjectLoading: observable,\n        setFavoriteObjectLoading: action,\n        fetchFavoriteObject: action,\n        showFavorites: observable,\n        setShowFavorites: action,\n        favoritesId: observable,\n        addToFavoritesId: action,\n        setFavoritesId: action,\n        deleteFromFavoritesId: action,\n    });\n  }\n\n  fetchFavoriteObject = async () => {\n    try { \n      if (favoriteStore.favoritesId.length > 0) {\n        const fetchedFavoriteObject = await getFavoritesPictures(\n            favoriteStore.favoritesId\n        );\n        favoriteStore.setFavoriteObject(fetchedFavoriteObject);\n      }     \n    } catch (err) {\n      console.log(err);\n    }\n    favoriteStore.setFavoriteObjectLoading(false);\n  };\n\n  setFavoriteObject = (favoriteObject) => {\n    this.favoriteObject = favoriteObject;\n  };\n\n  setFavoriteObjectLoading = (favoriteObjectLoading) => {\n    this.favoriteObjectLoading = favoriteObjectLoading;\n  };\n\n  setShowFavorites = async (showFavorites) => {\n    this.showFavorites = showFavorites;\n    if (showFavorites) {\n      favoriteStore.fetchFavoriteObject();\n    }\n  };  \n  \n  addToFavoritesId = (id) => {\n    const index = this.favoritesId.findIndex((pictureId) => pictureId === id);\n    if (index < 0) {\n      this.favoritesId.push(id);\n    }\n    postUserFavorites(this.favoritesId);\n  };\n\n  deleteFromFavoritesId = (id) => {\n    const index = this.favoritesId.findIndex((pictureId) => pictureId === id);\n    this.favoritesId.splice(index, 1);\n    postUserFavorites(this.favoritesId);\n  };\n\n  setFavoritesId = (favoritesId) => {\n    this.favoritesId = favoritesId;\n  };\n\n}\n\nexport const favoriteStore = new FavoriteStore();\n","import React, { Fragment } from \"react\";\nimport { FullscreenOutlined } from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./PictureThumb.css\";\n\nexport const PictureThumb = observer((props) => {\n  const isFavorite = favoriteStore.favoritesId.findIndex(\n    (id) => id === props.picture.id\n  );\n\n  const mouseHoverHandler = (hover) => {\n    const element = document.getElementById(`tag_${props.picture.id}`);\n    const picture = document.getElementById(`pic_${props.picture.id}`);\n    if (hover) {\n      element.style.visibility = \"visible\";\n      element.style.opacity = 1;\n      picture.style.filter = \"brightness(50%) grayscale(1)\";\n    } else {\n      element.style.visibility = \"hidden\";\n      element.style.opacity = 0;\n      picture.style.filter = \"brightness(100%) grayscale(0)\";\n    }\n  };\n\n  const clickHandler = () => {\n    pictureStore.setShowOverlay(true);\n    const index = pictureStore.allPictures.findIndex(\n      (pic) => pic.id === props.picture.id\n    );\n    pictureStore.setSelected(index);\n  };\n\n  return (\n    <Fragment>\n      <div\n        className=\"picture__container\"\n        onClick={clickHandler}\n        onMouseEnter={() => mouseHoverHandler(true)}\n        onMouseLeave={() => mouseHoverHandler(false)}\n      >\n        <img\n          id={`pic_${props.picture.id}`}\n          className={`picture \n          ${!props.picture.tags && \"picture__bluryGray\"} \n          ${isFavorite >= 0 && \"halo\"} `}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          key={props.picture.id}\n        />\n        <div className=\"picture__tagMissing\">\n          {!props.picture.tags && \"TAGS MISSING\"}\n        </div>\n        <div id={`tag_${props.picture.id}`} className=\"picture__tagShow\">\n          <FullscreenOutlined />\n          <div className=\"picture__id\">#{props.picture.id}</div>\n        </div>\n      </div>\n    </Fragment>\n  );\n});\n","import axios from \"axios\";\n\nexport const deleteLogout = async () => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/login/`,\n    method: \"DELETE\",\n  });\n\n  if (response.status !== 204) {\n    throw new Error(`Error ou Logout! Status ${response.status}`);\n  }\n};\n","import axios from \"axios\";\n\nexport const postLogin = async (email, username, password, remind) => {\n  const requestBody = {\n    email: email,\n    username: username,\n    pwd: password,\n    remind: remind,\n  };\n\n  try {\n    const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/auth/login/`,\n      method: \"POST\",\n      data: requestBody,\n    });\n    return response.data;\n  } catch (err) {\n    if (err.response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    }\n    return err.response.data;\n  }\n};\n","import axios from \"axios\";\n\nexport const getHasAccess = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/auth/access/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data.access;\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { deleteLogout } from \"./calls/deleteLogout\";\nimport { postLogin } from \"./calls/postLogin\";\nimport { getHasAccess } from \"./calls/getHasAccess\";\n\nexport class AuthStore {\n\n  isGuest = false;\n  hasAccess = false;\n\n  constructor() {\n    makeObservable(this, {\n      login: action,\n      logout: action,\n      isGuest: observable,\n      setIsGuest: action,\n      hasAccess: observable,\n      setHasAccess: action,\n    });\n  }\n\n  login = async (email, username, password, remind) => {\n    if (!remind) {\n      remind = false;\n    }\n    // Call login endpoint\n    const resultLogIn = await postLogin(email, username, password, remind);\n    if (resultLogIn.success) {\n      this.setHasAccess(true);\n    } else {\n      return resultLogIn.error;\n    }\n  };\n\n  logout = async () => {\n    // Call logout endpoint\n    await deleteLogout();\n  };\n\n  checkAccess = async () => {\n    const hasAccess = await getHasAccess();\n    //console.log(\"Check if user has valid credentials.\")\n    this.setHasAccess(hasAccess);\n  };\n\n  setIsGuest = (isGuest) => {\n    this.isGuest = isGuest;\n  };\n\n  setHasAccess = (hasAccess) => {\n    this.hasAccess = hasAccess;\n  };\n}\n\nexport const authStore = new AuthStore();\n","import React, {\n  Fragment,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  LeftOutlined,\n  RightOutlined,\n  CloseOutlined,\n  HeartFilled,\n  LoadingOutlined,\n  LinkOutlined,\n} from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\nimport { Tooltip } from \"antd\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { authStore } from \"../../store/authStore\";\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./GalleryOverlay.css\";\n\nexport const GalleryOverlay = observer(() => {\n  const [isLoading, setIsLoading] = useState(true);\n  const throttling = useRef(false);\n  const selected = pictureStore.allPictures[pictureStore.selected];\n  console.log(pictureStore.selected);\n  const indexInSelected = selected\n    ? favoriteStore.favoritesId.findIndex(\n        (pictureId) => pictureId === selected.id\n      )\n    : -1;\n  const isFavorite = indexInSelected >= 0;\n  const isFirstPicFirstPage =\n    pictureStore.pageNumber === 1 && pictureStore.selected === 0;\n  const isLastPicLastPage =\n    pictureStore.lastPageReached &&\n    pictureStore.allPictures.length === pictureStore.selected + 1;\n\n  const loadImage = async (image) => {\n    setIsLoading(true);\n    const isloaded = new Promise((resolve, reject) => {\n      const loadImg = new Image();\n      loadImg.src = image;\n      loadImg.onload = () => resolve(image.url);\n      loadImg.onerror = (err) => reject(err);\n    });\n    await isloaded;\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    selected && loadImage(selected.url_med);\n  }, [selected]);\n\n  const mouseHoverHandler = (hover) => {\n    const closeButton = document.getElementById(`closeButton`);\n    if (hover) {\n      closeButton.style.visibility = \"hidden\";\n      closeButton.style.opacity = 0;\n    } else {\n      closeButton.style.visibility = \"visible\";\n      closeButton.style.opacity = 1;\n    }\n  };\n\n  const doubleClickHandler = useCallback(\n    (id) => {\n      if (!authStore.isGuest) {\n        const heart = document.getElementById(`heart`);\n        const unheart = document.getElementById(`unheart`);\n        if (!isFavorite) {\n          heart.style.visibility = \"visible\";\n          heart.style.opacity = 0.5;\n          heart.style.fontSize = \"50em\";\n          setTimeout(() => {\n            heart.style.visibility = \"hidden\";\n            heart.style.opacity = 0;\n            heart.style.fontSize = \"1em\";\n          }, 500);\n          favoriteStore.addToFavoritesId(id);\n        } else {\n          unheart.style.visibility = \"visible\";\n          unheart.style.opacity = 0.5;\n          unheart.style.fontSize = \"30em\";\n          setTimeout(() => {\n            unheart.style.visibility = \"hidden\";\n            unheart.style.opacity = 0;\n            unheart.style.fontSize = \"1em\";\n          }, 500);\n          favoriteStore.deleteFromFavoritesId(id);\n        }\n      }\n    },\n    [isFavorite]\n  );\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      event.preventDefault();\n      const keyPressed = event.key.toLowerCase();\n      const nextButton = document.getElementById(`nextButton`);\n      const previousButton = document.getElementById(`previousButton`);\n      if (throttling.current === false) {\n        throttling.current = true;\n        if (\n          (keyPressed === \"arrowdown\" || keyPressed === \"arrowright\") &&\n          !isLastPicLastPage\n        ) {\n          nextButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          pictureStore.changeSelected(true);\n          setTimeout(() => {\n            nextButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (\n          (keyPressed === \"arrowup\" || keyPressed === \"arrowleft\") &&\n          !isFirstPicFirstPage\n        ) {\n          previousButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          pictureStore.changeSelected(false);\n          setTimeout(() => {\n            previousButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (keyPressed === \"enter\") {\n          doubleClickHandler(selected.id);\n        } else if (keyPressed === \"escape\") {\n          pictureStore.setShowOverlay(false);\n        }\n        setTimeout(() => {\n          throttling.current = false;\n        }, 100);\n      }\n    },\n    [selected, doubleClickHandler, isFirstPicFirstPage, isLastPicLastPage]\n  );\n\n  const tagClickHander = (tag) => {\n    pictureStore.setShowOverlay(false);\n    pictureStore.addFilter(tag);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  const copyLinkHandler = () => {\n    if (selected.key) {\n      const linkLogo = document.getElementById(`link`);\n      linkLogo.style.visibility = \"visible\";\n      linkLogo.style.opacity = 0.25;\n      linkLogo.style.fontSize = \"50em\";\n      setTimeout(() => {\n        linkLogo.style.visibility = \"hidden\";\n        linkLogo.style.opacity = 0;\n        linkLogo.style.fontSize = \"1em\";\n      }, 500);\n      const link = `http://kinkograph.com/${selected.key}`;\n      navigator.clipboard.writeText(link).then(\n        function () {\n          console.log(\"Async: Copying to clipboard was successful!\");\n        },\n        function (err) {\n          console.error(\"Async: Could not copy text: \", err);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"overlay__overlay\">\n      <div\n        className=\"overlay__background\"\n        onClick={() => {\n          pictureStore.setShowOverlay(false);\n        }}\n      ></div>\n      {!isFirstPicFirstPage && (\n        <div\n          className=\"overlay__columnLeft\"\n          id=\"previousButton\"\n          onClick={() => {\n            pictureStore.changeSelected(false);\n          }}\n        >\n          <LeftOutlined />\n        </div>\n      )}\n      {!isLastPicLastPage && (\n        <div\n          className=\"overlay__columnRight\"\n          id=\"nextButton\"\n          onMouseEnter={() => mouseHoverHandler(true)}\n          onMouseLeave={() => mouseHoverHandler(false)}\n          onClick={() => {\n            pictureStore.changeSelected(true);\n          }}\n        >\n          <RightOutlined />\n        </div>\n      )}\n      <Tooltip\n        placement=\"bottomLeft\"\n        title={\n          <span>\n            <b>TIP: </b> The keys ← and → will let you navigate through the\n            pictures. You can use the <i>esc</i> key, or click outside the\n            picture to go back to the gallery.\n          </span>\n        }\n      >\n        <div\n          className=\"overlay__closeButton\"\n          id=\"closeButton\"\n          onClick={() => {\n            pictureStore.setShowOverlay(false);\n          }}\n        >\n          <CloseOutlined />\n        </div>\n      </Tooltip>\n      {isLoading ? (\n        <LoadingOutlined className=\"overlay__spinner\" />\n      ) : (\n        <div\n          className=\"overlay__pictureContainer\"\n          onDoubleClick={() => {\n            doubleClickHandler(selected.id);\n          }}\n        >\n          <div className=\"overlay__infoAction\">\n            {selected && (\n              <div className=\"overlay__info\">\n                <Tooltip\n                  placement=\"bottomLeft\"\n                  title={\n                    <span>\n                      <b>TIP: </b> copy a direct link to this picture\n                    </span>\n                  }\n                >\n                  {selected.key && <LinkOutlined onClick={copyLinkHandler} />}\n                </Tooltip>{\" \"}\n                {selected.id}\n              </div>\n            )}\n\n            <div className=\"overlay__action\">\n              {!authStore.isGuest &&\n                (isFavorite ? (\n                  <Fragment>\n                    <span\n                      role=\"img\"\n                      aria-label=\"heart\"\n                      style={{ fontSize: \".75em\" }}\n                    >\n                      ❤️\n                    </span>{\" \"}\n                    Marked as favorite!\n                  </Fragment>\n                ) : (\n                  \"Doubleclick/Enter to mark as favorite.\"\n                ))}\n            </div>\n          </div>\n\n          <div className=\"overlay__pictureHover\">\n            <div className=\"overlay__pictureWatermark\">KINKOGRAPH</div>\n            <HeartFilled id=\"heart\" className=\"overlay__heart\" />\n            <LinkOutlined id=\"link\" className=\"overlay__heart\" />\n            <CloseOutlined id=\"unheart\" className=\"overlay__heart\" />\n          </div>\n          {selected && (\n            <img\n              className=\"overlay__picture\"\n              src={selected.url_med}\n              alt={selected.id}\n              key={`img__${selected.id}`}\n            />\n          )}\n          {selected && (\n            <div className=\"overlay__tags\">\n              {JSON.parse(selected.tags).map((tag) => (\n                <Fragment>\n                  <span onClick={() => tagClickHander(tag)}>#{tag}</span>\n                  &nbsp;\n                </Fragment>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n","import axios from \"axios\";\n\nexport const getUserInfo = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data[0];\n};","import { action, makeObservable, observable } from \"mobx\";\n\nimport { getUserInfo } from \"./calls/getUserInfo\";\nimport { favoriteStore } from \"./favoriteStore\";\n\nexport class UserStore {\n  email = null;\n  infos = null;\n  name = \"there\";\n  username = null;\n  isAdmin = false;\n  language = null;\n  lastLogin = null; //last_login\n  numberOfPicAtLastLogin = null; //nb_picture_at_last_login\n\n  constructor() {\n    makeObservable(this, {\n      fetchuserData: action,\n      setEmail: action,\n      email: observable,\n      setInfos: action,\n      infos: observable,\n      setName: action,\n      name: observable,\n      setUsername: action,\n      language: observable,\n      setLanguage: action,\n      lastLogin: observable,\n      setLastLogin: action,\n      numberOfPicAtLastLogin: observable,\n      setNumberOfPicAtLastLogin: action, \n      username: observable,\n      isAdmin: observable,\n      setIsAdmin: action,\n    });\n  }\n\n  setEmail = (email) => {\n    this.email = email;\n  };\n\n  setInfos = (infos) => {\n    this.infos = infos;\n  };\n\n  setName = (name) => {\n    this.name = name;\n  };\n\n  setUsername = (username) => {\n    this.username = username;\n  };\n\n  setLanguage = (language) => {\n    this.language = language;\n  };\n\n  setIsAdmin = (isAdmin) => {\n    this.isAdmin = isAdmin;\n  };\n\n  setLastLogin = (lastLogin) => {\n    this.lastLogin = lastLogin;\n  };\n\n  setNumberOfPicAtLastLogin = (numberOfPicAtLastLogin) => {\n    this.numberOfPicAtLastLogin = numberOfPicAtLastLogin;\n  };\n\n  fetchuserData = async () => {\n    const userData = await getUserInfo();\n    if (userData) {\n      userStore.setEmail(userData.email);\n      userStore.setInfos(userData.infos);\n      userStore.setName(userData.name);\n      userStore.setUsername(userData.last_login);\n      userStore.setLastLogin(userData.nb_picture_at_last_login);\n      userStore.setNumberOfPicAtLastLogin(userData.username);\n      if (userData.favorites) {\n        favoriteStore.setFavoritesId(JSON.parse(userData.favorites));\n      }\n      if (userData.is_admin) {\n        userStore.setIsAdmin(userData.is_admin);\n      }\n    }\n  };\n}\n\nexport const userStore = new UserStore();\n","\n  export function capitalizeFirstLetter(string) {\n      if (string === undefined || string === null) {\n          return null;\n      }\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }","import React, { Fragment, useCallback, useState, useRef } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Select, Tooltip } from \"antd\";\nimport { LockOutlined, UnlockOutlined } from \"@ant-design/icons\";\n\nimport { pictureStore } from \"../../../store/pictureStore\";\nimport { userStore } from \"../../../store/userStore\";\nimport { authStore } from \"../../../store/authStore\";\nimport { favoriteStore } from \"../../../store/favoriteStore\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\n\nimport \"./GalleryHeader.css\";\n\nexport const GalleryHeader = observer(() => {\n  const [showOpenLock, setShowOpenLock] = useState(false);\n  const pageInputValue = useRef(pictureStore.pageNumber);\n  const { Option } = Select;\n  const maxPage = Math.ceil(\n    pictureStore.totalPictures / pictureStore.PAGE_SIZE,\n    0\n  );\n\n  const handleTagChange = useCallback(async (fitlerArray) => {\n    pictureStore.setIsGalleryLoading(true);\n    const fitlerArrayCleaned = fitlerArray.map((tag) => {\n      return capitalizeFirstLetter(tag);\n    });\n    pictureStore.setFilter(fitlerArrayCleaned);\n  }, []);\n\n  const handleClickFilterTitle = () => {\n    pictureStore.setShowFilterSelect(true);\n  };\n\n  const handleClickShowFavoritesDrawer = () => {\n    favoriteStore.setShowFavorites(true);\n  };\n\n  const handleClickLogOut = () => {\n    authStore.logout();\n    setTimeout(function () {\n      window.location.reload();\n    }, 500);\n  };\n\n  const onPageInputhandler = (e) => {\n    if (e.which < 48 || e.which > 57) {\n      e.preventDefault();\n    } else {\n      if (e.target.innerText > maxPage) {\n        console.log(\"Senpai, it's too big!\");\n        pageInputValue.current = maxPage;\n      } else if (e.target.innerText < 1) {\n        console.log(\"Oh baby, it's really small!\");\n        pageInputValue.current = 1;\n      } else {\n        pageInputValue.current = e.target.innerText;\n      }\n    }\n  };\n\n  const onPageInputKeyPressHanlder = (event) => {\n    if (event.charCode >= 48 && event.charCode <= 57) {\n    } else {\n      event.preventDefault();\n    }\n    if (event.charCode === 13) {\n      pictureStore.goToPageHandler(pageInputValue.current);\n    }\n  };\n\n  return (\n    <div className=\"galleryHeader__main\">\n      <div className=\"galleryHeader__left\">\n        {favoriteStore.favoritesId.length ? (\n          <Fragment>\n            <div className=\"galleryHeader__BigFont\">\n              <span\n                className=\"galleryHeader__logout\"\n                onMouseEnter={() => setShowOpenLock(true)}\n                onMouseLeave={() => setShowOpenLock(false)}\n                onClick={handleClickLogOut}\n              >\n                <Tooltip placement=\"bottomLeft\" title=\"Logout\">\n                  {showOpenLock ? <UnlockOutlined /> : <LockOutlined />}\n                </Tooltip>\n              </span>{\" \"}\n              | \n              <span\n                className=\"galleryHeader__favorite\"\n                onClick={handleClickShowFavoritesDrawer}\n              >\n                {favoriteStore.favoritesId.length} picture\n                {favoriteStore.favoritesId.length > 1 && \"s\"}\n              </span>\n            </div>\n            <div className=\"galleryHeader__SmallFont\">\n              marked as favorite{favoriteStore.favoritesId.length > 1 && \"s\"}\n            </div>\n          </Fragment>\n        ) : (\n          <Fragment>\n            <div className=\"galleryHeader__BigFont\">\n              <span\n                className=\"galleryHeader__logout link\"\n                onMouseEnter={() => setShowOpenLock(true)}\n                onMouseLeave={() => setShowOpenLock(false)}\n                onClick={handleClickLogOut}\n              >\n                <Tooltip placement=\"bottomLeft\" title=\"Logout\">\n                  {showOpenLock ? <UnlockOutlined /> : <LockOutlined />}\n                </Tooltip>\n              </span>{\" \"}\n              | \n              {userStore.name ? (\n                <Tooltip\n                  placement=\"bottomLeft\"\n                  title={\n                    <span>\n                      <b>TIP: </b>Mark some pictures as your favorites: Then we\n                      both look at those, and plan a inspired shoot.\n                    </span>\n                  }\n                >\n                  Hello {userStore.name},\n                </Tooltip>\n              ) : (\n                \"Hello stranger,\"\n              )}\n            </div>\n            <div className=\"galleryHeader__SmallFont\">\n              What will inspire you today?\n            </div>\n          </Fragment>\n        )}\n      </div>\n      <div\n        className=\"galleryHeader__center\"\n        onFocus={() => {\n          pictureStore.setIsTagInputActive(true);\n        }}\n        onBlur={() => {\n          pictureStore.setIsTagInputActive(false);\n        }}\n      >\n        {pictureStore.filter.length > 0 || pictureStore.showFilterSelect ? (\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Select a filter\"\n            defaultValue={pictureStore.filter}\n            onChange={handleTagChange}\n            className=\"galleryHeader__selectFilter\"\n            optionLabelProp=\"label\"\n          >\n            {pictureStore.tags.map((tag) => {\n              return (\n                <Option value={tag.tag} label={tag.tag}>\n                  <div className=\"demo-option-label-item\">\n                    {tag.tag} <span className=\"light\">({tag.occur})</span>\n                  </div>\n                </Option>\n              );\n            })}\n          </Select>\n        ) : (\n          <div\n            className=\"galleryHeader__setFilter\"\n            onClick={handleClickFilterTitle}\n          >\n            click here to{\" \"}\n            <span className=\"galleryHeader__wordFilter\">filter</span> the\n            results\n          </div>\n        )}\n      </div>\n      <div className=\"galleryHeader__right\">\n        <Tooltip\n          placement=\"bottomRight\"\n          title={\n            <span>\n              <b>TIP: </b>You can use the ← and → keys to navigate through the\n              pages, and the ↑ and ↓ keys to scroll the page.\n            </span>\n          }\n        >\n          <div className=\"galleryHeader__pageInfo\">\n            <div className=\"galleryHeader__BigFont\">\n              <b>\n                Page{\" \"}\n                <div\n                  className=\"galleryHeader__PageSelector\"\n                  contentEditable=\"true\"\n                  onInput={onPageInputhandler}\n                  onKeyPress={onPageInputKeyPressHanlder}\n                >\n                  {pictureStore.pageNumber}\n                </div>\n              </b>\n              <span style={{ fontSize: \"0.7em\" }}> / {maxPage}</span>\n            </div>\n            <div className=\"galleryHeader__SmallFont\">\n              {(pictureStore.pageNumber - 1) * pictureStore.PAGE_SIZE + 1}-\n              {Math.min(\n                pictureStore.pageNumber * pictureStore.PAGE_SIZE,\n                pictureStore.totalPictures\n              )}{\" \"}\n              of {pictureStore.totalPictures}\n            </div>\n          </div>\n        </Tooltip>\n      </div>\n    </div>\n  );\n});\n","import React, { useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Drawer } from \"antd\";\n\nimport { favoriteStore } from \"../../store/favoriteStore\";\n\nimport \"./FavoritesDrawer.css\";\n\nexport const FavoritesDrawer = observer(() => {\n  const hideDrawer = useCallback(() => {\n    favoriteStore.setShowFavorites(false);\n  }, []);\n\n  return (\n    <Drawer\n      title={\n        <span className=\"FavoritesDrawer__Title\">\n          Your {favoriteStore.favoritesId.length} favorite\n          {favoriteStore.favoritesId.length > 1 && \"s\"}\n        </span>\n      }\n      placement=\"left\"\n      closable={true}\n      onClose={() => hideDrawer(false)}\n      visible={favoriteStore.showFavorites}\n      width=\"50%\"\n    >\n      {/*<div className=\"FavoritesDrawer__font\">favorites:</div>*/}\n      {favoriteStore.favoriteObjectLoading ? (\n        <div> Loading... </div>\n      ) : (\n        <div>\n          {favoriteStore.favoriteObject.map((e) => {\n            return (\n              <div className=\"FavoritesDrawer__pictureContainer\">\n                #{e.id}\n                <img\n                  className=\"FavoritesDrawer__picture\"\n                  src={e.url_med}\n                  alt={e.id}\n                  key={e.id}\n                />\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </Drawer>\n  );\n});\n","import React, { useRef, useEffect, useCallback, Fragment } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { pictureStore } from \"../../store/pictureStore\";\nimport { PictureThumb } from \"../../component/PictureThumb/PictureThumb\";\nimport { GalleryOverlay } from \"../../component/GalleryOverlay/GalleryOverlay\";\nimport { GalleryHeader } from \"./GalleryHeader/GalleryHeader\";\nimport { FavoritesDrawer } from \"../../component/FavoritesDrawer/FavoritesDrawer\";\n\nimport \"./Gallery.css\";\n\nexport const Gallery = observer(() => {\n  const throttling = useRef(false);\n  const onlyOnePage =\n    pictureStore.pageNumber === 1 && pictureStore.lastPageReached;\n\n  useEffect(() => {\n    if (pictureStore.galleryNeedsRefresh) {\n      pictureStore.fetchPictures();\n      pictureStore.setGalleryNeedsRefresh(false);\n    }\n    // eslint-disable-next-line\n  }, [pictureStore.galleryNeedsRefresh]);\n\n  const scroll = useCallback((direction) => {\n    const eightyPerCentOfHeight = window.innerHeight * 0.8;\n    const scrollPositionY = window.scrollY;\n    let scrollToPositionY;\n    if (direction === \"down\") {\n      scrollToPositionY = scrollPositionY + eightyPerCentOfHeight;\n    } else if (direction === \"up\") {\n      scrollToPositionY = Math.max(scrollPositionY - eightyPerCentOfHeight, 0);\n    }\n    window.scroll({\n      top: scrollToPositionY,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  }, []);\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      const keyPressed = event.key.toLowerCase();\n      if (\n        keyPressed === \"arrowright\" ||\n        keyPressed === \"arrowleft\" ||\n        keyPressed === \"arrowdown\" ||\n        keyPressed === \"arrowup\"\n      ) {\n        event.preventDefault();\n        if (!pictureStore.showOverlay && !pictureStore.isTagInputActive) {\n          if (throttling.current === false) {\n            throttling.current = true;\n            if (keyPressed === \"arrowright\" && !pictureStore.lastPageReached) {\n              pictureStore.setShowFilterSelect(false);\n              nextPageLocalHandler(true);\n            } else if (\n              keyPressed === \"arrowleft\" &&\n              pictureStore.pageNumber > 1\n            ) {\n              pictureStore.setShowFilterSelect(false);\n              nextPageLocalHandler(false);\n            } else if (keyPressed === \"arrowdown\") {\n              scroll(\"down\");\n            } else if (keyPressed === \"arrowup\") {\n              scroll(\"up\");\n            }\n            setTimeout(() => {\n              throttling.current = false;\n            }, 100);\n          }\n        }\n      }\n    },\n    [scroll]\n  );\n\n  const nextPageLocalHandler = async (value) => {\n    await pictureStore.nextPageHandler(value);\n    window.scroll({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <div className=\"gallery\">\n      <GalleryHeader />\n      <FavoritesDrawer />\n      {pictureStore.isGalleryLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Fragment>\n          {pictureStore.showOverlay && <GalleryOverlay />}\n          <div>\n            <div className=\"gallery__main\">\n              {pictureStore.allPictures.map((picture, index) => {\n                return (\n                  <div className=\"gallery__picSpacer\" key={index}>\n                    <PictureThumb picture={picture} key={picture.id} />\n                  </div>\n                );\n              })}\n            </div>\n            {!onlyOnePage && (\n              <div className=\"gallery__next\">\n                <div className=\"gallery__nextTextContainer\">\n                  {pictureStore.pageNumber === 1 ? (\n                    \"Previous\"\n                  ) : (\n                    <span\n                      className=\"gallery__nextText\"\n                      onClick={() => nextPageLocalHandler(false)}\n                    >\n                      Previous\n                    </span>\n                  )}\n                  {\" | \"}\n                  {pictureStore.lastPageReached ? (\n                    \"Next\"\n                  ) : (\n                    <span\n                      className=\"gallery__nextText\"\n                      onClick={() => nextPageLocalHandler(true)}\n                    >\n                      Next\n                    </span>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </Fragment>\n      )}\n    </div>\n  );\n});\n","import axios from \"axios\";\n\nexport const getSinglePicture = async (key) => {\n\n    const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/${key}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else if (response.status === 400) {\n      throw new Error(`Picture key ${key} not found`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data[0];\n\n};","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  CloseOutlined,\n  LoadingOutlined,\n  LinkOutlined,\n} from \"@ant-design/icons\";\n\nimport { getSinglePicture } from \"../../store/calls/getSinglePicture\";\n\nimport \"./GalleryOverlay.css\";\n\nexport const GalleryOverlaySimple = (props) => {\n  // We can use the `useParams` hook here to access\n  // the dynamic pieces of the URL.\n  let { key } = useParams();\n  if (props.picKey) {\n    key = props.picKey;\n  }\n\n  const [pic, setPic] = useState(null);\n  const [isLoading, setIsloading] = useState(true);\n  const [isFound, setIsFound] = useState(true);\n\n  const fetchSinglePicture = useCallback(async () => {\n    try {\n      const res = await getSinglePicture(key);\n      setPic(res);\n    } catch (err) {\n      setIsFound(false);\n    }\n    setIsloading(false);\n  }, [key]);\n\n  const copyLinkHandler = () => {\n    if (props.picKey) {\n      const linkLogo = document.getElementById(`heart`);\n      linkLogo.style.visibility = \"visible\";\n      linkLogo.style.opacity = 0.25;\n      linkLogo.style.fontSize = \"50em\";\n      setTimeout(() => {\n        linkLogo.style.visibility = \"hidden\";\n        linkLogo.style.opacity = 0;\n        linkLogo.style.fontSize = \"1em\";\n      }, 500);\n      const link = `http://kinkograph.com/${pic.key}`;\n      navigator.clipboard.writeText(link).then(\n        function () {\n          console.log(\"Async: Copying to clipboard was successful!\");\n        },\n        function (err) {\n          console.error(\"Async: Could not copy text: \", err);\n        }\n      );\n    }\n  };\n\n  useEffect(() => {\n    fetchSinglePicture();\n  }, [fetchSinglePicture]);\n\n  return isFound ? (\n    <div className=\"overlay__overlay\">\n      <div\n        className=\"overlay__background\"\n        onClick={() => {\n          if (props.picKey) {\n            props.setShowSingleGallery(false);\n          }\n        }}\n      ></div>\n      {props.picKey && (\n        <div\n          className=\"overlay__closeButton\"\n          id=\"closeButton\"\n          onClick={() => {\n            props.setShowSingleGallery(false);\n          }}\n        >\n          <CloseOutlined />\n        </div>\n      )}\n      {isLoading ? (\n        <LoadingOutlined className=\"overlay__spinner\" />\n      ) : (\n        <div\n          className=\"overlay__pictureContainer\"\n          onDoubleClick={copyLinkHandler}\n        >\n          <div className=\"overlay__infoAction\">\n            {props.picKey ? (\n              <div className=\"overlay__info\">#{pic.id}</div>\n            ) : (\n              <div>\n                <span style={{ opacity: \".5\" }}>kinkograph | </span>#{pic.id}\n              </div>\n            )}\n\n            {props.picKey && (\n              <div className=\"overlay__action\">\n                Doubleclick to copy link <LinkOutlined />\n              </div>\n            )}\n          </div>\n          <div\n            className=\"overlay__pictureHover\"\n            style={\n              !props.picKey ? { cursor: \"default\" } : { cursor: \"pointer\" }\n            }\n          >\n            <div className=\"overlay__pictureWatermark\">KINKOGRAPH</div>\n            <LinkOutlined id=\"heart\" className=\"overlay__heart\" />\n          </div>\n          <img\n            className=\"overlay__picture\"\n            src={pic.url_med}\n            alt={pic.id}\n            key={`img__${pic.id}`}\n          />\n        </div>\n      )}\n    </div>\n  ) : (\n    <div className=\"Uploader__noAccess\">\n      Picture not found!\n      <br />\n      <br />\n      <br />\n      <br />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\n\nimport \"./info.css\";\n\nexport const Info = () => {\n  return (\n    <div className=\"info__container\">\n      <div className=\"info__title\">&nbsp;kinkograph</div>\n      <div className=\"info__paragraph\">\n        <span>\n          ... is a curated and organised collection of sex positive, erotic\n          and/or BDSM pictures to inspire and plan a playful shoot between\n          model(s) and photographer. Use this to trigger your creativity.\n        </span>\n      </div>\n      <div className=\"info__paragraph\">\n        <span>\n          Due to the nature of the pictures,{\" \"}\n          <span className=\"info__18\">you should be at least 18</span> years old\n          to access this website.\n        </span>\n      </div>\n      <div className=\"info__paragraph\">\n        <span>\n          I do not share any of my private's kinky pictures here. Thus, many of\n          the artworks found on this website are from the deep web. Should a\n          picture that you own be found here, please{\" \"}\n          <a className=\"info__contactLink\" href=\"mailto:info@kinkograph.com\">\n            contact me\n          </a>{\" \"}\n          to decide what should be done.\n        </span>\n      </div>\n      <Link className=\"info__returnLink\" to=\"/\">\n        <ArrowLeftOutlined />\n      </Link>\n      <div className=\"spacer\"></div>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const postTag = async (tag_name) => {\n\n    const requestBody = {\n        \"tag_name\": tag_name,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const patchPicture = async (tags, id) => {\n\n    const requestBody = {\n        \"tags\": JSON.stringify(tags)\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${id}`,\n        method: \"PATCH\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const deletePicture = async (key) => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${key}`,\n        method: \"DELETE\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { Drawer, Select } from \"antd\";\nimport {\n  SaveOutlined,\n  DeleteOutlined,\n  QuestionOutlined,\n} from \"@ant-design/icons\";\n\nimport { capitalizeFirstLetter } from \"../../../../helpers/capitalizeFirstLetter\";\nimport { getTags } from \"../../../../store/calls/getTags\";\nimport { postTag } from \"../../../../store/calls/postTag\";\nimport { patchPicture } from \"../../../../store/calls/patchPicture\";\nimport { deletePicture } from \"../../../../store/calls/deletePicture\";\n\nimport \"./EditDrawer.css\";\n\nconst { Option } = Select;\n\nexport const EditDrawer = (props) => {\n  const [tags, setTags] = useState([]);\n  const [allTags, setAllTags] = useState([]);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n\n  const fetchAllTags = useCallback(async () => {\n    try {\n      const fetchedTags = await getTags();\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  const hideDrawer = useCallback(\n    (needReload) => {\n      props.setShowUploader && props.setShowUploader(true);\n      props.setShowDrawer(false);\n      if (needReload) {\n        props.reload && props.reload();\n      }\n    },\n    [props]\n  );\n\n  useEffect(() => {\n    fetchAllTags();\n    if (JSON.parse(props.picture.tags) !== null) {\n      setTags(JSON.parse(props.picture.tags));\n    }\n  }, [fetchAllTags, props.picture.tags]);\n\n  const handleTagChange = useCallback(async (value) => {\n    const valueCleaned = value.map((oldTag) => {\n      return capitalizeFirstLetter(oldTag);\n    });\n    setTags(valueCleaned);\n  }, []);\n\n  const submitHandler = useCallback(async () => {\n    if (tags.length > 0) {\n      //Add new Tags to db\n      await tags.map(async (newTag) => {\n        const index = allTags.findIndex(\n          (tag) => tag === capitalizeFirstLetter(newTag)\n        );\n        if (index < 0) {\n          //New Tag not found in db\n          const result = await postTag(newTag);\n          if (result.value === \"success\") {\n            console.log(`${newTag} was added to the lists of tags.`);\n          }\n        }\n        return undefined;\n      });\n      //Path picture\n      await patchPicture(tags, props.picture.id);\n      hideDrawer(true);\n    }\n  }, [tags, allTags, hideDrawer, props.picture.id]);\n\n  const deleteHandler = useCallback(\n    async (key) => {\n      if (confirmDelete === true) {\n        //Path picture\n        await deletePicture(key);\n        hideDrawer(true);\n      } else {\n        setConfirmDelete(true);\n        setTimeout(() => {\n          setConfirmDelete(false);\n        }, 2000);\n      }\n    },\n    [confirmDelete, hideDrawer]\n  );\n\n  return (\n    <Drawer\n      title={\n        <span className=\"Drawer__Title\">\n          Edit picture id #{props.picture.id}\n        </span>\n      }\n      placement=\"left\"\n      closable={true}\n      onClose={() => hideDrawer(false)}\n      visible={props.showDrawer}\n      key={`drawer${props.picture.id}`}\n      width=\"42.5%\"\n    >\n      <div className=\"Drawer__font\">Preview:</div>\n      <img\n        className=\"Drawer_picture\"\n        src={props.picture.url_med}\n        alt={props.picture.id}\n        key={props.picture.id}\n        style={{ maxWidth: \"100%\", maxHeight: window.innerHeight / 2.5 }}\n      />\n      <br />\n      <br />\n      <div className=\"Drawer__font\">Tags:</div>\n      <Select\n        mode=\"tags\"\n        allowClear={false}\n        style={{ width: \"100%\" }}\n        placeholder=\"Add some tags\"\n        onChange={handleTagChange}\n        defaultValue={\n          props.picture.tags !== null\n            ? JSON.parse(props.picture.tags)\n            : undefined\n        }\n      >\n        {allTags.map((tag) => {\n          return (\n            <Option key={capitalizeFirstLetter(tag.tag_name)}>\n              {capitalizeFirstLetter(tag.tag_name)}\n            </Option>\n          );\n        })}\n      </Select>\n      <br />\n      <br />\n      <div className=\"Drawer__buttonContainer\">\n        <div\n          className={\n            tags.length < 1 ? \"Drawer__buttonDisabled\" : \"Drawer__button\"\n          }\n          onClick={submitHandler}\n        >\n          <SaveOutlined /> &nbsp; Save\n        </div>\n        <div\n          className={\n            confirmDelete ? \"Drawer__buttonConfirmAction\" : \"Drawer__button\"\n          }\n          onClick={() => deleteHandler(props.picture.key)}\n        >\n          {confirmDelete ? (\n            <Fragment>\n              <DeleteOutlined /> ARE YOU SURE\n              <QuestionOutlined />\n            </Fragment>\n          ) : (\n            <Fragment>\n              <DeleteOutlined />\n              &nbsp; Delete\n            </Fragment>\n          )}\n        </div>\n      </div>\n    </Drawer>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { EditOutlined } from \"@ant-design/icons\";\n\nimport { EditDrawer } from \"../EditDrawer/EditDrawer\";\n\nimport \"./EditPictures.css\";\n\nexport const EditPictures = (props) => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [showDrawer, setShowDrawer] = useState(false);\n\n  const mouseHoverHandler = (hover) => {\n    if (props.totalMissingTag === null) {\n      setShowEdit(hover);\n      const element = document.getElementById(props.picture.id);\n      if (hover) {\n        element.style.filter = \"brightness(50%) blur(2px)\";\n      } else {\n        element.style.filter = \"brightness(100%) blur(0px)\";\n      }\n    }\n  };\n\n  const clickHandler = () => {\n    setTimeout(function () {\n      props.setShowUploader(false);\n    }, 300);\n    setShowDrawer(true);\n  };\n\n  return (\n    <Fragment>\n      <EditDrawer\n        picture={props.picture}\n        showDrawer={showDrawer}\n        setShowDrawer={setShowDrawer}\n        reload={props.reload}\n        setShowUploader={props.setShowUploader}\n      />\n      <div className=\"EditPictures__missingPicture\">\n        {props.totalMissingTag === null || props.totalMissingTag === 0 ? (\n          showEdit && (\n            <div\n              className=\"EditPictures__missingPictureOverText\"\n              onMouseEnter={() => mouseHoverHandler(true)}\n              onMouseLeave={() => mouseHoverHandler(false)}\n              onClick={clickHandler}\n            >\n              <EditOutlined />\n            </div>\n          )\n        ) : (\n          <div className=\"EditPictures__missingPictureRest\">\n            +{props.totalMissingTag}\n          </div>\n        )}\n        <img\n          className={props.totalMissingTag && \"EditPictures__bluryGray\"}\n          id={props.picture.id}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          width={props.size}\n          height={props.size}\n          onMouseEnter={() => mouseHoverHandler(true)}\n          onMouseLeave={() => mouseHoverHandler(false)}\n          onClick={clickHandler}\n        />\n      </div>\n    </Fragment>\n  );\n};\n","import axios from \"axios\";\n\nexport const postPicture = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n        await axios.post(process.env.REACT_APP_API_URL_UPLOAD, formData)\n        return \"success\"\n        //console.log('Success!', res.data);\n    } catch (err) {\n        console.log(err)\n        return \"error\"\n    }\n} ","import axios from \"axios\";\n\nexport const getDuplicate = async (name) => {\n\n  let requestBody = {\n    \"name\": name,\n  };\n\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/duplicate`,\n    method: \"POST\",\n    data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};","import axios from \"axios\";\n\nexport const getTagsMissing = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissing/${limit}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getTagsMissingCountAll = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissingcount/`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  //console.log(response.data[0].count);\n  return response.data[0].count;\n\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport {\n  PictureOutlined,\n  LoadingOutlined,\n  FileAddOutlined,\n} from \"@ant-design/icons\";\nimport { notification } from \"antd\";\nimport { observer } from \"mobx-react\";\n\nimport { EditPictures } from \"./EditPictures/EditPictures\";\nimport { postPicture } from \"../../../store/calls/postPicture\";\nimport { getDuplicate } from \"../../../store/calls/getDuplicate\";\nimport {\n  getTagsMissing,\n  getTagsMissingCountAll,\n} from \"../../../store/calls/getTagsMissing\";\n\nimport \"./Uploader.css\";\n\nconst SIZE_PICTURE_MISSING_TAG = 150;\n\nexport const Uploader = observer(() => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [isDragDroping, setIsDragDroping] = useState(false);\n  const [picsTagsMissing, setPicsTagsMissing] = useState([]);\n  const [showUploader, setShowUploader] = useState(true);\n  const [uploadProgress, setUploadProgress] = useState([0, 0]);\n  const [limit, setLimit] = useState(null);\n  const [missingCountAll, setMissingCountAll] = useState(null);\n\n  const submitHandler = useCallback(async (file) => {\n    const result = await postPicture(file);\n    notification[result]({\n      message: `Upload ${result}`,\n      description: `File: ${file.name}`,\n    });\n  }, []);\n\n  const fetchTagsMissingCountAll = useCallback(async () => {\n    try {\n      const count = await getTagsMissingCountAll();\n      const countMinusLimit = count - limit;\n      setMissingCountAll(countMinusLimit);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [limit]);\n\n  const calculateMissingTagPicLimit = useCallback(() => {\n    const pageWidth = window.innerWidth;\n    const pageHeight = window.innerHeight;\n    const missingPicContainerWidth = Math.floor(pageWidth * 0.5);\n    const missingPicContainerHeight = Math.floor(pageHeight * (1 - 0.25));\n    const numOfPicFittingInContainer =\n      Math.floor(missingPicContainerWidth / (SIZE_PICTURE_MISSING_TAG + 34)) *\n      Math.floor(missingPicContainerHeight / (SIZE_PICTURE_MISSING_TAG + 30));\n    setLimit(numOfPicFittingInContainer);\n    return numOfPicFittingInContainer;\n  }, []);\n\n  const fetchPicsTagsMissing = useCallback(async () => {\n    try {\n      const limit = await calculateMissingTagPicLimit();\n      const picsTagsMissing = await getTagsMissing(limit);\n      await fetchTagsMissingCountAll();\n      setPicsTagsMissing(picsTagsMissing);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [fetchTagsMissingCountAll, calculateMissingTagPicLimit]);\n\n  const fileSelectHandler = useCallback(\n    async (event) => {\n      setIsUploading(true);\n      if (event.target.files[0]) {\n        const name = event.target.files[0].name.split(\".\")[0];\n        const alreadyIn = await getDuplicate(name);\n        if (alreadyIn.length === 0) {\n          await submitHandler(event.target.files[0]);\n        } else {\n          notification.warning({\n            message: `Duplicate? `,\n            description: `There is already a file named '${event.target.files[0].name}'`,\n          });\n        }\n      }\n      setIsUploading(false);\n      setTimeout(() => {\n        fetchPicsTagsMissing(limit);\n      }, 500);\n    },\n    [fetchPicsTagsMissing, limit, submitHandler]\n  );\n\n  useEffect(() => {\n    fetchPicsTagsMissing();\n    window.addEventListener(\"resize\", calculateMissingTagPicLimit);\n    return () => {\n      window.removeEventListener(\"resize\", calculateMissingTagPicLimit);\n    };\n  }, [fetchPicsTagsMissing, calculateMissingTagPicLimit]);\n\n  const handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(true);\n  };\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(false);\n  };\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const objectOfFiles = e.dataTransfer.files;\n    const numberOfFiles = objectOfFiles.length;\n    setUploadProgress([0, numberOfFiles]);\n    for (let i = 0; i < numberOfFiles; i++) {\n      setIsUploading(true);\n      setUploadProgress([i, numberOfFiles]);\n      if (objectOfFiles[i]) {\n        const file = objectOfFiles[i];\n        const name = file.name.split(\".\")[0];\n        const alreadyIn = await getDuplicate(name);\n        if (alreadyIn.length === 0) {\n          await submitHandler(file);\n        } else {\n          notification.warning({\n            message: `Duplicate? `,\n            description: `There is already a file named '${name}'`,\n          });\n        }\n      }\n    }\n    setUploadProgress([0, 0]);\n    setIsUploading(false);\n    setTimeout(() => {\n      fetchPicsTagsMissing(limit);\n    }, 1000);\n  };\n\n  return (\n    <div className=\"Uploader__container\">\n      <div className=\"Uploader__formContainer\">\n        {showUploader && (\n          <div\n            className=\"Uploader__formContent\"\n            style={\n              picsTagsMissing.length ? { width: \"50vw\" } : { width: \"100vw\" }\n            }\n          >\n            <form onSubmit={submitHandler}>\n              <input\n                type=\"file\"\n                className=\"inputfile\"\n                name=\"inputfile\"\n                id=\"file\"\n                onChange={fileSelectHandler}\n              />\n              {isUploading ? (\n                <label\n                  htmlFor=\"file\"\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  <LoadingOutlined className=\"Uploader__spinner\" />\n                  {uploadProgress[1] ? (\n                    <p className=\"form-upload-text\">\n                      {uploadProgress[0]} of {uploadProgress[1]}\n                    </p>\n                  ) : (\n                    <p className=\"form-upload-text\">Loading</p>\n                  )}\n                </label>\n              ) : (\n                <label\n                  htmlFor=\"file\"\n                  onDrop={handleDrop}\n                  onDragOver={(e) => handleDragOver(e)}\n                  onDragEnter={(e) => handleDragEnter(e)}\n                  onDragLeave={(e) => handleDragLeave(e)}\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  {!isDragDroping ? (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <PictureOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Click, or drag here a file <br />\n                        <i>jpg and png file only</i>\n                      </p>\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <FileAddOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Drop your files here <br />\n                        <i>Multiple files supported</i>\n                      </p>\n                      <p className=\"form-upload-text\"></p>\n                    </Fragment>\n                  )}\n                </label>\n              )}\n            </form>\n          </div>\n        )}\n      </div>\n      {picsTagsMissing.length > 0 && (\n        <div className=\"Uploader__missingContainer\">\n          <div className=\"Uploader__missingContent\">\n            {picsTagsMissing.map((picture, index) => {\n              return (\n                <EditPictures\n                  picture={picture}\n                  size={SIZE_PICTURE_MISSING_TAG}\n                  setShowUploader={setShowUploader}\n                  key={picture.id}\n                  reload={fetchPicsTagsMissing}\n                  totalMissingTag={index + 1 === limit ? missingCountAll : null}\n                />\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n","import React, { useState } from \"react\";\n\nimport \"./AdminHeader.css\";\n\nexport const AdminHeader = (props) => {\n  const [selected, setSelected] = useState(\"upload\");\n  const clickHandler = (target) => {\n    setSelected(target);\n    props.setDisplay(target);\n  };\n\n  return (\n    <div className=\"adminHeader__main\">\n      <div\n        className={`adminHeader__element ${\n          selected === \"upload\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"upload\")}\n      >\n        UPLOAD\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"pic\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"pic\")}\n      >\n        PICTURES\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"tag\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"tag\")}\n      >\n        TAGS\n      </div>\n      <div\n        className={`adminHeader__element ${\n          selected === \"user\" && `adminHeader__elementSelected`\n        }`}\n        onClick={() => clickHandler(\"user\")}\n      >\n        USERS\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const getUsers = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/admin/users/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n    \n    return response.data;\n};","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Tooltip } from \"antd\";\nimport { HistoryOutlined } from \"@ant-design/icons\";\n\nimport { getFavoritesPictures } from \"../../../../store/calls/getFavoritesPictures\";\nimport \"./UserInfos.css\";\n\nexport const UserInfos = (props) => {\n  const [favorites, setFavorites] = useState([]);\n  const [showDetail, setShowDetail] = useState(false);\n\n  const fetchFavorites = useCallback(async () => {\n    if (props.user.favorites) {\n      const arrayFav = JSON.parse(props.user.favorites);\n      const allFav = await getFavoritesPictures(arrayFav);\n      setFavorites(allFav);\n    }\n  }, [props.user.favorites]);\n\n  const clickHandler = () => {\n    const showDetailElement = document.getElementById(\n      `userInfos__detail__${props.user.id}`\n    );\n    if (showDetail) {\n      showDetailElement.style.display = \"none\";\n    } else {\n      showDetailElement.style.display = \"block\";\n    }\n    setShowDetail(!showDetail);\n  };\n\n  const pictureClickHandler = (key) => {\n    props.setSinglePicKey(key);\n    props.setShowSingleGallery(true);\n  };\n\n  useEffect(() => {\n    fetchFavorites();\n  }, [fetchFavorites]);\n\n  return (\n    <div className=\"userInfos__user\" key={`user_${props.user.id}`}>\n      <div className=\"userInfos__title\" onClick={clickHandler}>\n        <div className=\"userInfos__titleLeft\">\n          {props.user.last_login && (\n            <Tooltip title={Date(props.user.last_login).toString()}>\n              <HistoryOutlined className=\"userInfos__lastOnline\" />\n            </Tooltip>\n          )}\n          {props.user.name.toUpperCase()}\n          <span className=\"smallFont\">\n            {props.user.access_code && ` ${props.user.access_code} `}\n          </span>\n        </div>\n        <div className=\"userInfos__titleRight\">\n          <span style={{ color: \"#555\" }}>\n            {props.user.email && ` ${props.user.email} `}\n          </span>\n          <span style={{ color: \"#555\" }}>\n            {props.user.email && props.user.username && ` | `}\n          </span>\n          <span style={{ color: \"#555\" }}>\n            {props.user.username && ` ${props.user.username} `}\n          </span>\n        </div>\n      </div>\n      <div\n        className=\"userInfos__detail\"\n        id={`userInfos__detail__${props.user.id}`}\n      >\n        {favorites.length > 0\n          ? favorites.map((fav) => {\n              return (\n                <div className=\"userInfos__pictureContainer\">\n                  <div className=\"smallFont\"> #{fav.id}</div>\n                  <img\n                    className=\"userInfos__picture\"\n                    src={fav.url_med}\n                    alt={fav.id}\n                    key={fav.id}\n                    onClick={() => pictureClickHandler(fav.key)}\n                  />\n                </div>\n              );\n            })\n          : \"nothing yet\"}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nimport { getUsers } from \"./getUsers\";\nimport { UserInfos } from \"./UserInfos/UserInfos\";\nimport { GalleryOverlaySimple } from \"../../../component/GalleryOverlay/GalleryOverlaySimple\";\n\nimport \"./UserAdmin.css\";\n\nexport const UserAdmin = () => {\n  const [isLoading, setisLoading] = useState(true);\n  const [allUsers, setAllUsers] = useState([]);\n  const [showSingleGallery, setShowSingleGallery] = useState(false);\n  const [singlePicKey, setSinglePicKey] = useState(null);\n\n  const fetchAllUser = useCallback(async () => {\n    const allUsers = await getUsers();\n    setAllUsers(allUsers);\n    setisLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchAllUser();\n  }, [fetchAllUser]);\n\n  return (\n    <Fragment>\n      {showSingleGallery && (\n        <GalleryOverlaySimple\n          picKey={singlePicKey}\n          setShowSingleGallery={setShowSingleGallery}\n        />\n      )}\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <div className=\"userAdmin__main\">\n          {allUsers.map((user) => {\n            return (\n              <UserInfos\n                user={user}\n                key={user.id}\n                setSinglePicKey={setSinglePicKey}\n                setShowSingleGallery={setShowSingleGallery}\n              />\n            );\n          })}\n        </div>\n      )}\n    </Fragment>\n  );\n};\n","import axios from \"axios\";\n\nexport const postEditTag = async (oldtag, newtag) => {\n\n    const requestBody = {\n        \"oldtag\": oldtag,\n        \"newtag\": newtag,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/edit`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const deleteTag = async (tag) => {\n\n    const requestBody = {\n        \"tagToDelete\": tag,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"DELETE\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  Fragment,\n  useRef,\n} from \"react\";\nimport {\n  SaveOutlined,\n  DeleteOutlined,\n  QuestionOutlined,\n} from \"@ant-design/icons\";\nimport { Drawer, Select, Input } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nimport { getFilteredTags } from \"../../../store/calls/getTags\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\nimport { postEditTag } from \"../../../store/calls/postEditTag\";\nimport { deleteTag } from \"../../../store/calls/deleteTag\";\n\nimport \"./TagAdmin.css\";\n\nconst { Option } = Select;\n\nexport const TagAdmin = () => {\n  const [allTags, setAllTags] = useState([]);\n  const selected = useRef(0);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [isLoading, setisLoading] = useState(true);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const [renameValue, setRenameValue] = useState(null);\n  const [replaceValue, setReplaceValue] = useState(null);\n\n  const fetchAllTags = useCallback(async () => {\n    try {\n      const fetchedTags = await getFilteredTags([]);\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n    setisLoading(false);\n  }, []);\n\n  const tagClickHandler = (index) => {\n    setShowDrawer(true);\n    selected.current = index;\n    setRenameValue(allTags[index].tag);\n    setReplaceValue(allTags[index].tag);\n  };\n\n  const deleteHandler = useCallback(\n    async (tag) => {\n      if (confirmDelete === true) {\n        await deleteTag(tag);\n        await fetchAllTags();\n        setShowDrawer(false);\n      } else {\n        setConfirmDelete(true);\n        setTimeout(() => {\n          setConfirmDelete(false);\n        }, 2000);\n      }\n    },\n    [confirmDelete, setShowDrawer, fetchAllTags]\n  );\n\n  const selectChangeHandler = (value) => {\n    setReplaceValue(value);\n  };\n\n  const submitReplaceHandler = async () => {\n    if (replaceValue !== allTags[selected.current].tag) {\n      await postEditTag(allTags[selected.current].tag, replaceValue);\n    }\n    await fetchAllTags();\n    setShowDrawer(false);\n  };\n\n  const submitRenameHandler = async () => {\n    if (renameValue !== allTags[selected.current].tag) {\n      await postEditTag(allTags[selected.current].tag, renameValue);\n    }\n    await fetchAllTags();\n    setShowDrawer(false);\n  };\n\n  useEffect(() => {\n    fetchAllTags();\n  }, [fetchAllTags]);\n\n  return (\n    <Fragment>\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Drawer\n          className=\"tagAdmin__drawer\"\n          title={\n            <span className=\"tagAdmin__Title\">\n              Edit {allTags[selected.current].tag}\n            </span>\n          }\n          placement=\"left\"\n          closable={true}\n          onClose={() => setShowDrawer(false)}\n          visible={showDrawer}\n          key={`drawer${allTags[selected.current].tag}`}\n          width=\"42.5%\"\n        >\n          <Select\n            allowClear={false}\n            style={{ width: \"100%\" }}\n            defaultValue={allTags[selected.current].tag}\n            onChange={(value) => {\n              selectChangeHandler(value);\n            }}\n          >\n            {allTags.map((tag) => {\n              return (\n                <Option key={capitalizeFirstLetter(tag.tag)}>\n                  {capitalizeFirstLetter(tag.tag)} ({tag.occur})\n                </Option>\n              );\n            })}\n          </Select>\n          <div\n            className={\n              replaceValue === allTags[selected.current].tag\n                ? \"Drawer__buttonDisabled\"\n                : \"Drawer__button\"\n            }\n            onClick={submitReplaceHandler}\n          >\n            <SaveOutlined /> &nbsp; REPLACE THIS TAG\n          </div>\n          <br />\n          <br />\n          <Input\n            defaultValue={allTags[selected.current].tag}\n            onChange={(event) => {\n              setRenameValue(event.target.value);\n            }}\n            placeholder=\"Basic usage\"\n          />\n          <div\n            className={\n              renameValue === allTags[selected.current].tag\n                ? \"Drawer__buttonDisabled\"\n                : \"Drawer__button\"\n            }\n            onClick={submitRenameHandler}\n          >\n            <SaveOutlined /> &nbsp; RENAME THIS TAG\n          </div>\n          <br />\n          <br />\n\n          <div className=\"Drawer__buttonContainer\">\n            <div\n              className={\n                confirmDelete ? \"Drawer__buttonConfirmAction\" : \"Drawer__button\"\n              }\n              onClick={() => deleteHandler(allTags[selected.current].tag)}\n            >\n              {confirmDelete ? (\n                <Fragment>\n                  <DeleteOutlined /> ARE YOU SURE\n                  <QuestionOutlined />\n                </Fragment>\n              ) : (\n                <Fragment>\n                  <DeleteOutlined />\n                  &nbsp; DELETE THIS TAG\n                </Fragment>\n              )}\n            </div>\n          </div>\n        </Drawer>\n      )}\n      <div className=\"tagAdmin__main\">\n        {allTags.map((e, index) => {\n          return (\n            <div\n              className={`tagAdmin__tag ${e.occur < 5 && `red`}`}\n              onClick={() => tagClickHandler(index)}\n              key={`tag_index_${index}`}\n            >\n              {e.tag ? e.tag : <i>null</i>}\n              <span className=\"tagAdmin__occur\"> ({e.occur})</span>\n            </div>\n          );\n        })}\n      </div>\n    </Fragment>\n  );\n};\n","import React, { useEffect, useState, useCallback, Fragment } from \"react\";\n\nimport { patchPicture } from \"../../../store/calls/patchPicture\";\n\nimport \"./PicAdmin.css\";\n\nexport const PicThumbAdmin = (props) => {\n  const checkHasHalo = useCallback(() => {\n    let result = false;\n    if (props.picture.tags) {\n      result = props.picture.tags.includes(props.tagSelected);\n    }\n    return result;\n  }, [props.picture.tags, props.tagSelected]);\n  const [hasHalo, setHasHalo] = useState(checkHasHalo());\n\n  const pictureClickHandle = async (picture) => {\n    if (props.tagSelected) {\n      const tagsArray = JSON.parse(picture.tags);\n      const indexTag = tagsArray.findIndex((tag) => {\n        return tag === props.tagSelected;\n      });\n      if (!hasHalo) {\n        // Add Tag to array\n        tagsArray.push(props.tagSelected);\n        setHasHalo(true);\n      } else {\n        // Delete Tag from array\n        tagsArray.splice(indexTag, 1);\n        setHasHalo(false);\n      }\n      //Path picture\n      await patchPicture(tagsArray, props.picture.id);\n      props.fetchAllPictures();\n    } else {\n      props.setShowDrawer(true);\n      props.setPictureSelected(picture);\n    }\n  };\n\n  useEffect(() => {\n    setHasHalo(checkHasHalo());\n  }, [props.tagSelected, checkHasHalo]);\n\n  return (\n    <Fragment>\n      <img\n        className={\n          props.tagSelected\n            ? hasHalo\n              ? \"picAdmin__tagHalo\"\n              : \"picAdmin__tagBlur\"\n            : \"picAdmin__noFilter\"\n        }\n        id={`pic_${props.picture.id}`}\n        src={props.picture.url_thumb}\n        alt={props.picture.id}\n        key={props.picture.id}\n        onClick={() => pictureClickHandle(props.picture)}\n      />\n      <span className=\"picAdmin__id\">#{props.picture.id}</span>\n    </Fragment>\n  );\n};\n","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { Select } from \"antd\";\n\nimport { getFilteredTags } from \"../../../store/calls/getTags\";\nimport { getPictures } from \"../../../store/calls/getPictures\";\nimport { EditDrawer } from \"../Uploader/EditDrawer/EditDrawer\";\nimport { capitalizeFirstLetter } from \"../../../helpers/capitalizeFirstLetter\";\nimport { PicThumbAdmin } from \"./PicThumbAdmin\";\n\nimport \"./PicAdmin.css\";\n\nconst { Option } = Select;\n\nexport const PicAdmin = () => {\n  const [isLoading, setIsloading] = useState(true);\n  const [allPictures, setAllPictures] = useState([]);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [pictureSelected, setPictureSelected] = useState(null);\n  const [allTags, setAllTags] = useState([]);\n  const [tagSelected, setTagSelected] = useState(null);\n\n  const fetchAllPictures = useCallback(async () => {\n    try {\n      const fetchedPics = await getPictures(0, true);\n      const fetchedTags = await getFilteredTags([]);\n      setAllPictures(fetchedPics);\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n    setIsloading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchAllPictures();\n  }, [fetchAllPictures]);\n\n  const keyDownHandler = useCallback((event) => {\n    const keyPressed = event.key.toLowerCase();\n    if (keyPressed === \"enter\") {\n      event.preventDefault();\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\",\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <Fragment>\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Fragment>\n          {pictureSelected && (\n            <EditDrawer\n              picture={pictureSelected}\n              showDrawer={showDrawer}\n              setShowDrawer={setShowDrawer}\n            />\n          )}\n          <div className=\"picAdmin__tagSelector\">\n            <Select\n              showSearch={true}\n              allowClear={true}\n              style={{ width: \"100%\" }}\n              placeholder=\"Select a tag to manage\"\n              onChange={(value) => {\n                setTagSelected(value);\n              }}\n            >\n              {allTags.map((tag) => {\n                return (\n                  <Option key={capitalizeFirstLetter(tag.tag)}>\n                    {capitalizeFirstLetter(tag.tag)} ({tag.occur})\n                  </Option>\n                );\n              })}\n            </Select>\n          </div>\n          <div className=\"picAdmin__main\">\n            {allPictures.map((picture) => {\n              return (\n                <div className=\"picAdmin__picture\">\n                  <PicThumbAdmin\n                    picture={picture}\n                    tagSelected={tagSelected}\n                    setShowDrawer={setShowDrawer}\n                    setPictureSelected={setPictureSelected}\n                    fetchAllPictures={fetchAllPictures}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n","import axios from \"axios\";\n\nexport const postLoginCode = async (code) => {\n  const requestBody = {\n    code: code,\n  };\n\n  try {\n    const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/auth/code`,\n      method: \"POST\",\n      data: requestBody,\n    });\n\n    return response;\n  } catch (err) {\n    if (\"response\" in err && err.response.status >= 400) {\n      throw new Error(`${err.response.data.error}`);\n    }\n    throw err;\n  }\n};\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Input } from \"antd\";\n\nimport { isMobileOrTabletCheck } from \"../../helpers/checkMobileTablet\";\n\nimport \"./PinInput.css\";\n\nexport const PinInput = (props) => {\n  const [lastFiledInput, setLastFiledInput] = useState(1);\n  const [codeFromInput, setCodeFromInput] = useState(undefined);\n  const isMobileOrTablet = isMobileOrTabletCheck();\n\n  const keyDownListener = useCallback(\n    (event) => {\n      const keyPressed = event.key.toLowerCase();\n      if (!isMobileOrTablet) {\n        event.preventDefault();\n        if (keyPressed === \"backspace\") {\n          if (lastFiledInput > 1) {\n            document.getElementById(lastFiledInput - 1).value = \"\";\n            setLastFiledInput(lastFiledInput - 1);\n          }\n        } else if (keyPressed.length > 1) {\n          // console.log(keyPressed);\n        } else {\n          document.getElementById(lastFiledInput).value = keyPressed;\n          setLastFiledInput(lastFiledInput + 1);\n          if (lastFiledInput + 1 === 7) {\n            setLastFiledInput(1);\n            const code =\n              document.getElementById(1).value +\n              document.getElementById(2).value +\n              document.getElementById(3).value +\n              document.getElementById(4).value +\n              document.getElementById(5).value +\n              document.getElementById(6).value;\n            setTimeout(() => {\n              document.getElementById(1).focus();\n              document.getElementById(1).value = \"\";\n              document.getElementById(2).value = \"\";\n              document.getElementById(3).value = \"\";\n              document.getElementById(4).value = \"\";\n              document.getElementById(5).value = \"\";\n              document.getElementById(6).value = \"\";\n              setLastFiledInput(1);\n              props.login(code);\n            }, 500);\n          }\n        }\n      } else if (keyPressed === \"enter\") {\n        props.login(codeFromInput);\n      }\n    },\n    [props, lastFiledInput, codeFromInput, isMobileOrTablet]\n  );\n\n  const handlerInputChange = (e) => {\n    setCodeFromInput(e.target.value);\n  };\n\n  const clickHandler = (e) => {\n    const inputID = parseInt(e.target.id, 10);\n    let lastInputWithData = lastFiledInput;\n    if (document.getElementById(1).value === \"\") {\n      lastInputWithData = 1;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(2).value === \"\") {\n      lastInputWithData = 2;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(3).value === \"\") {\n      lastInputWithData = 3;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(4).value === \"\") {\n      lastInputWithData = 4;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(5).value === \"\") {\n      lastInputWithData = 5;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(6).value === \"\") {\n      lastInputWithData = 6;\n      setLastFiledInput(lastInputWithData);\n    }\n    document.getElementById(inputID).blur();\n    document.getElementById(lastInputWithData).focus();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownListener);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownListener);\n    };\n  }, [keyDownListener]);\n\n  return isMobileOrTablet ? (\n    <div>\n      <Input.Password\n        id=\"code\"\n        onChange={handlerInputChange}\n        placeholder=\"input code & confirm with enter\"\n        className=\"PinInput__mobileInput\"\n      />\n      <br />\n      <br />\n      <br />\n      <br />\n    </div>\n  ) : (\n    <div>\n      <form>\n        <input\n          id=\"1\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          style={{ marginLeft: \"20px\" }}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"2\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"3\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"4\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"5\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"6\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          style={{ width: \"40px\" }}\n          autoComplete=\"new-password\"\n        />\n      </form>\n    </div>\n  );\n};\n","export const isMobileCheck = () => {\n  let check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n\nexport const isMobileOrTabletCheck = () => {\n  let check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n","import axios from \"axios\";\n\nexport const postEmailExist = async (email) => {\n\n    const requestBody = {\n        \"email\": email\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user/email/`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    const exist = response.data.exist;\n    return exist\n\n};","import axios from \"axios\";\n\nexport const postSendRecoverLink = async (email, language = \"en\") => {\n\n    const requestBody = {\n        \"sendto\": email,\n        \"language\": language,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/mail/recover`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return true\n\n};","import React, { useState } from \"react\";\nimport { Form, Input, Button, notification } from \"antd\";\nimport { MailOutlined, ArrowLeftOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { postEmailExist } from \"./postEmailExist\";\nimport { postSendRecoverLink } from \"./postSendRecoverLink\";\n\nimport \"./PasswordRecover.css\";\n\nexport const PasswordRecover = (props) => {\n  const [emailDoNotExist, setEmailDoNotExist] = useState(undefined);\n  const { t } = useTranslation();\n\n  const changeEmailHandler = async (e) => {\n    setEmailDoNotExist(undefined);\n  };\n\n  const submitHandler = async (values) => {\n    const email = values.email.toLowerCase();\n    const emailExist = await postEmailExist(email);\n    if (emailExist === false) {\n      setEmailDoNotExist(\"error\");\n    } else {\n      setEmailDoNotExist(\"success\");\n      try {\n        await postSendRecoverLink(email);\n        notification.success({\n          message: t(\"login.recoverEmailSent\"),\n          placement: \"topLeft\",\n          className: \"login__notification\",\n        });\n        props.setIsRecovery(false);\n      } catch (error) {\n        notification.warn({\n          message: error.message,\n          placement: \"topLeft\",\n          className: \"login__notification\",\n        });\n      }\n    }\n  };\n\n  return (\n    <div className=\"recover__full\">\n      <Form\n        name=\"form_recover\"\n        className=\"recover__form\"\n        initialValues={{\n          email: props.email,\n        }}\n        onFinish={submitHandler}\n      >\n        <Form.Item\n          name=\"email\"\n          onChange={changeEmailHandler}\n          rules={[\n            {\n              type: \"email\",\n              required: true,\n              message: t(\"login.pleaseInputEmail\"),\n            },\n          ]}\n        >\n          <Input\n            prefix={<MailOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"Email\"\n          />\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"recover__formbutton\"\n            disabled={emailDoNotExist === \"error\" ? true : false}\n          >\n            {emailDoNotExist === \"error\"\n              ? t(\"login.emailDoesNotExist\")\n              : t(\"login.sendPasswortResetEmail\")}\n          </Button>\n\n          <div\n            className=\"recover__iRemember\"\n            onClick={() => {\n              props.setIsRecovery(false);\n            }}\n          >\n            <ArrowLeftOutlined />{\" \"}\n            <span className=\"link\">{t(\"login.iRememberNow\")}</span>\n          </div>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const postVerifyEmailLink = async (email, language = \"en\") => {\n\n    const requestBody = {\n        \"sendto\": email,\n        \"language\": language,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/mail/emailverify`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return true\n\n};","import React, { useState, useRef } from \"react\";\nimport { Form, Input, Button, Checkbox, notification } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  UserOutlined,\n  LockOutlined,\n  SyncOutlined,\n  LinkOutlined,\n} from \"@ant-design/icons\";\n\nimport { PasswordRecover } from \"../PasswordRecover/PasswordRecover\";\nimport { authStore } from \"../../store/authStore\";\nimport { postVerifyEmailLink } from \"./postVerifyEmailLink\";\nimport { validateEmail } from \"../../helpers/validateEmail\";\n\nimport \"./LoginForm.css\";\n\nexport const LoginForm = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRecovery, setIsRecovery] = useState(false);\n  const isEmail = useRef(undefined);\n  const { t } = useTranslation();\n\n  const submitHandler = async (values) => {\n    setIsLoading(true);\n    const emailOrUsername = values.emailOrUsername;\n    const isValidEmail = validateEmail(emailOrUsername);\n    if (isValidEmail) {\n      isEmail.current = values.emailOrUsername.toLowerCase();\n    }\n    const password = values.password;\n    const remember = values.remember;\n    try {\n      let error = null;\n      if (isValidEmail) {\n        error = await authStore.login(\n          emailOrUsername,\n          null,\n          password,\n          remember\n        );\n      } else {\n        error = await authStore.login(\n          null,\n          emailOrUsername,\n          password,\n          remember\n        );\n      }\n      if (error) {\n        if (error === \"Error: Email is not verified!\") {\n          const errorMessage = (\n            <>\n              <strong>{t(\"login.emailNotVerifyYet\")}!</strong>{\" \"}\n              {t(\"login.checkPostBoxForVerificationLink\")}.\n              <div\n                className=\"login__verifyEmailLink\"\n                onClick={() => {\n                  postVerifyEmailLink(isEmail.current);\n                  notification.success({\n                    duration: 0,\n                    message: t(\"login.recoverEmailSent\"),\n                    placement: \"topLeft\",\n                    className: \"login__notification\",\n                  });\n                }}\n              >\n                <LinkOutlined /> {t(\"login.clickToGetNewVerificationLink\")}{\" \"}\n                <span className=\"link\">{t(\"login.verifyYourEmail\")}</span>.\n              </div>\n            </>\n          );\n          notification.error({\n            duration: 0,\n            message: errorMessage,\n            placement: \"topLeft\",\n            className: \"login__notification\",\n          });\n        } else if (error === \"Error: Password is incorrect!\") {\n          const errorMessage = (\n            <>\n              <strong>{t(\"login.passwordIsIncorrect\")}!</strong> <br />\n              {t(\"login.pleaseCheckPasswordOrUse\")}\n              <span className=\"link\" onClick={() => setIsRecovery(!isRecovery)}>\n                {\" \"}\n                {t(\"login.recoverPassword\")}{\" \"}\n              </span>{\" \"}\n              {t(\"login.feature\")}.\n            </>\n          );\n          notification.error({\n            message: errorMessage,\n            placement: \"topLeft\",\n            className: \"login__notification\",\n          });\n        } else {\n          notification.error({\n            message: error,\n            placement: \"topLeft\",\n            className: \"login__notification\",\n          });\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setIsLoading(false);\n  };\n\n  return isRecovery ? (\n    <PasswordRecover setIsRecovery={setIsRecovery} email={isEmail.current} />\n  ) : (\n    <div className=\"login__full\">\n      <Form\n        name=\"form_login\"\n        className=\"login__form\"\n        initialValues={{\n          email: isEmail.current,\n          remember: true,\n        }}\n        onFinish={submitHandler}\n      >\n        <Form.Item\n          name=\"emailOrUsername\"\n          rules={[\n            {\n              required: true,\n              message: t(\"login.pleaseInputEmailOrUsername\"),\n            },\n          ]}\n        >\n          <Input\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.emailOrUsername\")}\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: t(\"login.pleaseInputPassword\"),\n            },\n          ]}\n        >\n          <Input.Password\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.password\")}\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"remember\"\n          valuePropName=\"checked\"\n          style={{ display: \"inline-block\", width: \"calc(50%)\" }}\n        >\n          <Checkbox className=\"login__remember\">\n            {t(\"login.rememberMe\")}\n          </Checkbox>\n        </Form.Item>\n\n        <Form.Item\n          name=\"passwordRecover\"\n          style={{\n            display: \"inline-block\",\n            width: \"calc(50%)\",\n            textAlign: \"right\",\n          }}\n        >\n          <span\n            className=\"login__recover link\"\n            onClick={() => setIsRecovery(!isRecovery)}\n          >\n            {t(\"login.recoverPassword\").replace(/^\\w/, (c) => c.toUpperCase())}\n          </span>\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login__formbutton\"\n          >\n            {isLoading ? <SyncOutlined spin /> : t(\"login.logMeIn\")}\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n","export const validateEmail = (email) => {\n    return String(email)\n      .toLowerCase()\n      .match(\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n  }; ","import axios from \"axios\";\n\nexport const postUsernameTaken = async (username) => {\n\n    const requestBody = {\n        \"username\": username\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/user/taken/`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    const taken = response.data.taken;\n    return taken\n\n};","import axios from \"axios\";\n\nexport const postAddUser = async (\n  firstName,\n  lastName,\n  userName,\n  email,\n  password,\n  language\n) => {\n  const requestBody = {\n    query: `mutation ( $firstName: String, \n                       $lastName: String, \n                       $userName: String, \n                       $email: String, \n                       $password: String,\n                       $language: String ) {\n                addUser (\n                    userInput: { \n                        firstName: $firstName, \n                        lastName: $lastName,\n                        userName: $userName, \n                        email: $email, \n                        password: $password, \n                        language: $language,\n                        }\n                    ) {\n                    _id\n                    email\n                    }\n                }`,\n    variables: {\n      firstName,\n      lastName,\n      userName,\n      email,\n      password,\n      language\n    },\n  };\n\n  const headers = {\n    \"Content-Type\": \"application/json\",\n  };\n\n  try {\n    const response = await axios(\n      {\n        url: process.env.REACT_APP_API_URL + `/graphql`,\n        method: \"POST\",\n        data: requestBody,\n      },\n      {\n        headers: headers,\n      }\n    );\n    return response.data;\n  } catch (err) {\n    if (err.response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    }\n    return err.response.data;\n  }\n};\n","import React, { useState } from \"react\";\nimport { Form, Input, Button, Checkbox, notification, Tooltip } from \"antd\";\nimport {\n  UserOutlined,\n  MailOutlined,\n  LockOutlined,\n  SyncOutlined,\n  SmileOutlined,\n} from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { postUsernameTaken } from \"./postUsernameTaken\";\nimport { postVerifyEmailLink } from \"../Login/postVerifyEmailLink\";\nimport { postAddUser } from \"./postAddUser\";\n\nimport \"./SignUpForm.css\";\n\nexport const SignUpForm = (props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isValidUsername, setIsValidUsername] = useState(undefined); // validateStatus: validate status of form components which could be 'success', 'warning', 'error', 'validating'.\n  const [errorMsgUsername, setErrorMsgUsername] = useState(undefined); // validateStatus: validate status of form components which could be 'success', 'warning', 'error', 'validating'.\n  const { t, i18n } = useTranslation();\n  const language = i18n.language.slice(0, 2);\n\n  const changeUserNameHandler = async (e) => {\n    const username = e.target.value;\n    if (username === \"\") {\n      setIsValidUsername(\"error\");\n      setErrorMsgUsername(null);\n    } else {\n      setIsValidUsername(\"validating\");\n      setErrorMsgUsername(null);\n      const isUsernameTaken = await postUsernameTaken(username);\n      if (isUsernameTaken === true) {\n        setIsValidUsername(\"error\");\n        setErrorMsgUsername(t(\"login.usernameIsAlreadyTaken\"));\n      } else if (isUsernameTaken === false) {\n        if (username.includes(\" \")) {\n          setIsValidUsername(\"error\");\n          setErrorMsgUsername(t(\"login.spacesinUsername\"));\n        } else {\n          //eslint-disable-next-line\n          const regexEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n          if (username.match(regexEmail)) {\n            setIsValidUsername(\"error\");\n            setErrorMsgUsername(t(\"login.usernameShouldNotBeAnEmail\"));\n          } else {\n            setIsValidUsername(\"success\");\n            setErrorMsgUsername(null);\n          }\n        }\n      }\n    }\n  };\n\n  const submitHandler = async (values) => {\n    setIsLoading(true);\n    const firstname = values.firstname;\n    const lastname = values.lastname;\n    const username = values.username;\n    const email = values.email.toLowerCase();\n    const password = values.password;\n    try {\n      const response = await postAddUser(\n        firstname,\n        lastname,\n        username,\n        email,\n        password,\n        language\n      );\n      if (!response.errors) {\n        await postVerifyEmailLink(email);\n        notification.success({\n          message: t(\"login.pleaseConfirmEmail\"),\n          placement: \"topLeft\",\n          className: \"login__notification\",\n          duration: 0,\n        });\n        props.setShowLogin(true);\n      } else {\n        notification.error({\n          message: response.errors[0].message,\n          placement: \"topLeft\",\n          className: \"login__notification\",\n        });\n      }\n    } catch (error) {\n      notification.error({\n        message: error.message,\n        placement: \"topLeft\",\n        className: \"login__notification\",\n      });\n      console.log(error);\n    }\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"signup__full\">\n      <Form\n        name=\"form_signup\"\n        className=\"signup__form\"\n        onFinish={submitHandler}\n      >\n        <Form.Item\n          name=\"firstname\"\n          style={{ display: \"inline-block\", width: \"calc(50% - 12px)\" }}\n          rules={[\n            {\n              required: true,\n              message: t(\"login.firstNameMissing\"),\n            },\n          ]}\n        >\n          <Input\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.firstName\")}\n          />\n        </Form.Item>\n        <span\n          style={{\n            display: \"inline-block\",\n            width: \"24px\",\n            lineHeight: \"32px\",\n            textAlign: \"center\",\n          }}\n        ></span>\n        <Form.Item\n          name=\"lastname\"\n          style={{ display: \"inline-block\", width: \"calc(50% - 12px)\" }}\n          rules={[\n            {\n              required: true,\n              message: t(\"login.lastNameMissing\"),\n            },\n          ]}\n        >\n          <Input\n            prefix={<SmileOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.lastName\")}\n          />\n        </Form.Item>\n\n        <Tooltip\n          trigger={[\"hover\"]}\n          title={\n            errorMsgUsername\n              ? errorMsgUsername === t(\"login.usernameIsAlreadyTaken\")\n                ? t(\"login.alreadyTaken\")\n                : t(\"login.doNotUseSpaces\")\n              : null\n          }\n          placement=\"left\"\n        >\n          <Form.Item\n            name=\"username\"\n            validateStatus={isValidUsername}\n            onChange={changeUserNameHandler}\n            hasFeedback\n            rules={[\n              {\n                required: true,\n                message: t(\"login.howShouldWeCallYou\"),\n              },\n              {\n                validator(_, value) {\n                  if (value && isValidUsername === \"error\") {\n                    return Promise.reject(new Error(errorMsgUsername));\n                  }\n                  return Promise.resolve();\n                },\n              },\n            ]}\n          >\n            <Input\n              prefix={<UserOutlined className=\"site-form-item-icon\" />}\n              placeholder={t(\"login.pickUsername\")}\n            />\n          </Form.Item>\n        </Tooltip>\n        <Form.Item\n          name=\"email\"\n          rules={[\n            {\n              type: \"email\",\n              required: true,\n              message: t(\"login.pleaseInputEmail\"),\n            },\n          ]}\n        >\n          <Input\n            prefix={<MailOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"Email\"\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: t(\"login.pleaseInputYourPassword\"),\n            },\n          ]}\n        >\n          <Input.Password\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.choosePassword\")}\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"confirm\"\n          dependencies={[\"password\"]}\n          hasFeedback\n          rules={[\n            {\n              required: true,\n              message: t(\"login.pleaseConfirmYourPassword\"),\n            },\n            ({ getFieldValue }) => ({\n              validator(_, value) {\n                if (!value || getFieldValue(\"password\") === value) {\n                  return Promise.resolve();\n                }\n                return Promise.reject(\n                  new Error(t(\"login.passwordsDoNotMatch\"))\n                );\n              },\n            }),\n          ]}\n        >\n          <Input.Password\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            placeholder={t(\"login.confirmYourPassword\")}\n          />\n        </Form.Item>\n\n        <Form.Item\n          name=\"agreement\"\n          valuePropName=\"checked\"\n          rules={[\n            {\n              required: true,\n              message: t(\"login.pleaseAcceptTerms\"),\n            },\n          ]}\n        >\n          <Checkbox className=\"signup__terms\">\n            {t(\"login.creatingAccountMeans\")}{\" \"}\n            <a className=\"link\" href=\"/service\">\n              {t(\"login.termsService\")}\n            </a>\n            ,{\" \"}\n            <a className=\"link\" href=\"/privacy\">\n              {t(\"login.privacyPolicy\")}\n            </a>\n            {t(\"login.andDefault\")}{\" \"}\n            <a className=\"link\" href=\"/settings\">\n              {t(\"login.notificationSettings\")}\n            </a>\n            {t(\"login.creatingAccountMeansAfter\")}\n          </Checkbox>\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"signup__formbutton\"\n          >\n            {isLoading ? <SyncOutlined spin /> : t(\"login.createAccount\")}\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const AlreadyMember = (props) => {\n  const { t } = useTranslation();\n\n  return (\n    <div classname=\"login__alreadyMember\" style={{ paddingTop: \"15px\" }}>\n      {!props.showSignUp ? (\n        <>\n          {t(\"login.newHere\")}? &nbsp;\n          <span\n            className=\"link\"\n            onClick={() => props.setShowSignUp(!props.showSignUp)}\n          >\n            {t(\"login.signUp\")}\n          </span>\n        </>\n      ) : (\n        <>\n          {t(\"login.member\")}? &nbsp;\n          <span\n            className=\"link\"\n            onClick={() => props.setShowSignUp(!props.showSignUp)}\n          >\n            {t(\"login.login\")}\n          </span>\n        </>\n      )}\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { notification } from \"antd\";\n\nimport { postLoginCode } from \"../../store/calls/postLoginCode\";\nimport { userStore } from \"../../store/userStore\";\nimport { authStore } from \"../../store/authStore\";\nimport { PinInput } from \"../PinInput/PinInput\";\nimport { LoginForm } from \"./LoginForm\";\nimport { SignUpForm } from \"../SignUpForm/SignUpForm\";\nimport { AlreadyMember } from \"./AlreadyMember\";\n\nimport \"./login.css\";\n\nexport const Login = (props) => {\n  const [showSignUp, setShowSignUp] = useState(false);\n\n  const checkPin = async (code) => {\n    try {\n      const res = await postLoginCode(code);\n      if (res.status === 200) {\n        if (res.data.userId === \"guest\") {\n          authStore.setIsGuest(true);\n        } else {\n          authStore.setIsGuest(false);\n          userStore.fetchuserData();\n        }\n        authStore.setHasAccess(true);\n      }\n    } catch (err) {\n      console.log(err);\n      notification.error({\n        message: err.message,\n        placement: \"topLeft\",\n        className: \"login__notification\",\n      });\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"login__container\">\n        {props.loginWithCode ? (\n          <PinInput login={checkPin} />\n        ) : (\n          <div>\n            {showSignUp ? <SignUpForm /> : <LoginForm />}\n            <div className=\"login__alreadyMember\">\n              <AlreadyMember\n                setShowSignUp={setShowSignUp}\n                showSignUp={showSignUp}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport { userStore } from \"../../store/userStore\";\nimport { Uploader } from \"./Uploader/Uploader\";\nimport { AdminHeader } from \"./AdminHeader/AdminHeader\";\nimport { UserAdmin } from \"./UserAdmin/UserAdmin\";\nimport { TagAdmin } from \"./TagAdmin/TagAdmin\";\nimport { PicAdmin } from \"./PicAdmin/PicAdmin\";\nimport { Login } from \"../../component/Login/Login\";\n\nexport const Admin = observer(() => {\n  const [display, setDisplay] = useState(\"upload\");\n  return userStore.isAdmin ? (\n    <div>\n      <AdminHeader setDisplay={setDisplay} />\n      {display === \"upload\" && <Uploader />}\n      {display === \"tag\" && <TagAdmin />}\n      {display === \"user\" && <UserAdmin />}\n      {display === \"pic\" && <PicAdmin />}\n    </div>\n  ) : (\n    <div className=\"Uploader__noAccess\">\n      <div className=\"App__title\">&nbsp;admin</div>\n      <Login />\n      <div className=\"spacer\"></div>\n    </div>\n  );\n});\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Tooltip } from \"antd\";\nimport {\n  QuestionOutlined,\n  UnlockOutlined,\n  UserOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./FooterStartPage.css\";\n\nexport const FooterStartPage = (props) => {\n  return (\n    <>\n      <div\n        className=\"startFooter__switchLoginType\"\n        onClick={() => {\n          props.setLoginWithCode(!props.loginWithCode);\n        }}\n      >\n        <Tooltip title={props.loginWithCode ? \"Use an account\" : \"Use a code\"}>\n          {props.loginWithCode ? <UserOutlined /> : <UnlockOutlined />}\n        </Tooltip>\n      </div>\n      <Tooltip title=\"About\">\n        <Link className=\"startFooter__infoLink\" to=\"info\">\n          <QuestionOutlined />\n        </Link>\n      </Tooltip>\n    </>\n  );\n};\n","import axios from \"axios\";\n\nexport const postEmailVerified = async (token) => {\n\n    const requestBody = {\n        \"token\": token,\n    };\n\n    const response = await axios({\n        url: process.env.API_URL + `/user/emailverified`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data.emailVerified;\n};","import React, { useState } from \"react\";\nimport { Menu, Dropdown } from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nimport \"./LanguageDropDown.css\";\n\nexport const LanguageDropDown = () => {\n  const { i18n } = useTranslation();\n  const initLanguage = i18n.language.slice(-2);\n  const [language, setLanguage] = useState(\n    initLanguage === \"US\" ? \"EN\" : initLanguage\n  );\n\n  const onLanguageChangeHandler = (value) => {\n    if (value === \"en\") {\n      i18n.changeLanguage(\"en-US\");\n      setLanguage(\"EN\");\n    } else if (value === \"fr\") {\n      i18n.changeLanguage(\"fr-FR\");\n      setLanguage(\"FR\");\n    } else if (value === \"de\") {\n      i18n.changeLanguage(\"de-DE\");\n      setLanguage(\"DE\");\n    }\n  };\n\n  const menu = (\n    <Menu>\n      <Menu.Item\n        onClick={() => {\n          onLanguageChangeHandler(\"en\");\n        }}\n      >\n        <div className=\"languageDropdown__item\">EN</div>\n      </Menu.Item>\n      <Menu.Item\n        onClick={() => {\n          onLanguageChangeHandler(\"de\");\n        }}\n      >\n        <div className=\"languageDropdown__item\">DE</div>\n      </Menu.Item>\n      <Menu.Item\n        onClick={() => {\n          onLanguageChangeHandler(\"fr\");\n        }}\n      >\n        <div className=\"languageDropdown__item\">FR</div>\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <div className=\"languageDropdown\">\n      <Dropdown overlay={menu} trigger={\"click\"}>\n        {/* eslint-disable-next-line */}\n        <a\n          className=\"ant-dropdown-link\"\n          onClick={(e) => {\n            e.preventDefault();\n          }}\n        >\n          {language}\n          <DownOutlined />\n        </a>\n      </Dropdown>\n    </div>\n  );\n};\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\n\nimport { postEmailVerified } from \"./postEmailVerified\";\nimport { LanguageDropDown } from \"../../component/LanguageDropDown/LanguageDropDown\";\n\nimport \"./EmailVerified.css\";\n\nexport const EmailVerified = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isVerified, setIsVerified] = useState(false);\n  const { t } = useTranslation();\n  const params = useParams();\n\n  const emailIsVerified = useCallback(async () => {\n    const success = await postEmailVerified(params.verifyCode);\n    if (success) {\n      setIsVerified(true);\n      setTimeout(() => {\n        document.location.href = \"/\";\n      }, 10000);\n    }\n    setIsLoading(false);\n  }, [params.verifyCode]);\n\n  useEffect(() => {\n    emailIsVerified();\n  }, [emailIsVerified]);\n\n  return (\n    <div>\n      <div className=\"emailVerified__leftPanel\">\n        <LanguageDropDown />\n      </div>\n      <div className=\"emailVerified__rightPanel\">\n        <div className=\"emailVerified__container\">\n          {isLoading ? (\n            <LoadingOutlined className=\"emailVerified__loader\" />\n          ) : isVerified ? (\n            <>\n              <strong>{t(\"login.emailVerified\")}</strong> <br />\n              {t(\"login.welcomeInOurCommunity\")}!<br />\n              {t(\"login.goAheadAndLogin\")}.\n              <br />\n              <br />\n              <div className=\"emailVerified__link\">\n                {t(\"login.redirectedToThe\")}{\" \"}\n                <span\n                  className=\"link\"\n                  onClick={() => {\n                    document.location.href = \"/\";\n                  }}\n                >\n                  {\" \"}\n                  {t(\"login.loginPage\")}.\n                </span>\n                .\n              </div>\n            </>\n          ) : (\n            <>\n              <strong>{t(\"login.emailNotVerified\")}!</strong>\n              <br />\n              {t(\"login.somethingWrongEmail\")}!\n              <br />\n              <div className=\"emailVerified__link\">\n                {t(\"login.whatCanYouDo\")}\n                <span\n                  className=\"link\"\n                  onClick={() => {\n                    document.location.href = \"/\";\n                  }}\n                >\n                  {\" \"}\n                  {t(\"login.loginPage\")}\n                </span>\n                {\", \"}\n                {t(\"login.requestNewLink\")}.\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nexport const postTokenVerify = async (token) => {\n\n    const requestBody = {\n        \"token\": token,\n    };\n\n    const response = await axios({\n        url: process.env.API_URL + `/user/validtoken`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    const valid = response.data.valid;\n    return valid\n};","import axios from \"axios\";\n\nexport const postChangePassword = async (token, password) => {\n  const requestBody = {\n    token: token,\n    password: password,\n  };\n\n  const response = await axios({\n    url: process.env.API_URL + `/user/changepassword`,\n    method: \"POST\",\n    data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  const changed = response.data.changed;\n  return changed;\n};\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { Form, Input, Button, notification } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport { LockOutlined, SyncOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { postTokenVerify } from \"./postTokenVerify\";\nimport { postChangePassword } from \"./postChangePassword\";\n\nimport \"./NewPassword.css\";\n\nexport const NewPassword = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isValid, setIsValid] = useState(true);\n  const { t } = useTranslation();\n  const params = useParams();\n\n  const token = params.key;\n\n  const submitHandler = async (value) => {\n    setIsLoading(true);\n    const password = value.password;\n    try {\n      const success = await postChangePassword(token, password);\n      if (success === true) {\n        notification.success({\n          message: t(\"login.passwordReseted\"),\n          placement: \"topLeft\",\n        });\n        setTimeout(() => {\n          document.location.href = \"/\";\n        }, 3000);\n      } else {\n        notification.warn({\n          message: t(\"login.passwordNotChanged\"),\n          placement: \"topLeft\",\n        });\n      }\n    } catch (error) {\n      notification.warn({\n        message: error.message,\n        placement: \"topLeft\",\n      });\n      console.log(error);\n    }\n    setIsLoading(false);\n  };\n\n  const verifyToken = useCallback(async () => {\n    const tokenValid = await postTokenVerify(token);\n    if (!tokenValid) {\n      setIsValid(false);\n      notification.error({\n        message: t(\"login.linkNotValid\"),\n        placement: \"topLeft\",\n        duration: 0,\n      });\n    }\n  }, [token]);\n\n  useEffect(() => {\n    verifyToken();\n  }, [verifyToken]);\n\n  return (\n    <div>\n      <div className=\"newPassword__leftPanel\"></div>\n      <div className=\"newPassword__rightPanel\">\n        <div className=\"signup__full\">\n          <div className=\"signup__header\">{t(\"login.setNewPassword\")}</div>\n\n          <Form\n            name=\"form_signup\"\n            className=\"signup__form\"\n            initialValues={{\n              remember: true,\n            }}\n            onFinish={submitHandler}\n          >\n            <Form.Item\n              name=\"password\"\n              rules={[\n                {\n                  required: true,\n                  message: t(\"login.pleaseInputNewPassword\"),\n                },\n              ]}\n            >\n              <Input.Password\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                placeholder={t(\"login.chooseNewPassword\")}\n              />\n            </Form.Item>\n\n            <Form.Item\n              name=\"confirm\"\n              dependencies={[\"password\"]}\n              hasFeedback\n              rules={[\n                {\n                  required: true,\n                  message: t(\"login.pleaseInputNewPassword\"),\n                },\n                ({ getFieldValue }) => ({\n                  validator(_, value) {\n                    if (!value || getFieldValue(\"password\") === value) {\n                      return Promise.resolve();\n                    }\n                    return Promise.reject(\n                      new Error(t(\"login.passwordDoNotMatch\"))\n                    );\n                  },\n                }),\n              ]}\n            >\n              <Input.Password\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                placeholder={t(\"login.pleaseConfirmNewPassword\")}\n              />\n            </Form.Item>\n\n            <Form.Item>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"signup__formbutton\"\n                disabled={!isValid}\n              >\n                {isLoading ? (\n                  <SyncOutlined spin />\n                ) : isValid ? (\n                  t(\"login.updatePassword\")\n                ) : (\n                      t(\"login.linkNotValidAnymore\")\n                    )}\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nconst dataEn = require('./languages/en/translation.json');\nconst dataDe = require('./languages/de/translation.json');\nconst dataFr = require('./languages/fr/translation.json');\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    debug: true,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    resources: {\n      en: {\n        translation: dataEn\n      },\n      de: {\n        translation: dataDe\n      },\n      fr: {\n        translation: dataFr\n      }\n    }\n  })\n\nexport default i18n;","import React, { Fragment, useLayoutEffect, useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Gallery } from \"./pages/Gallery/Gallery\";\nimport { GalleryOverlaySimple } from \"./component/GalleryOverlay/GalleryOverlaySimple\";\nimport { Info } from \"./pages/Info/Info\";\nimport { Admin } from \"./pages/Admin/Admin\";\nimport { authStore } from \"./store/authStore\";\nimport { userStore } from \"./store/userStore\";\nimport { Login } from \"./component/Login/Login\";\nimport { FooterStartPage } from \"./component/FooterStartPage/FooterStartPage\";\nimport { EmailVerified } from \"./pages/EmailVerified/EmailVerified\";\nimport { NewPassword } from \"./pages/NewPassword/NewPassword\";\n\nimport \"../src/lib/i18n\";\nimport \"./App.css\";\n\nconst defineVariableHeight = () => {\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n};\n\nwindow.addEventListener(\"resize\", defineVariableHeight);\n\nconst App = observer(() => {\n  const [loginWithCode, setLoginWithCode] = useState(true);\n\n  const { i18n } = useTranslation();\n  useLayoutEffect(() => {\n    // Define variable height\n    defineVariableHeight();\n  }, []);\n\n  useEffect(() => {\n    if (userStore.language === \"fr\") {\n      i18n.changeLanguage(\"fr-FR\");\n    } else if (userStore.language === \"de\") {\n      i18n.changeLanguage(\"de-DE\");\n    } else {\n      i18n.changeLanguage(\"en-US\");\n    }\n  }, [i18n]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"App__main\">\n          <Switch>\n            <Route path=\"recoverpwd/:key\" element={<NewPassword />} />\n            <Route path=\"emailverify/:verifyCode\" element={<EmailVerified />} />\n            <Route path=\"/admin\">\n              <Admin />\n            </Route>\n            <Route path=\"/info\">\n              <Info />\n            </Route>\n            <Route path=\"/:key\" children={<GalleryOverlaySimple />} />\n            <Route path=\"/\">\n              <div className=\"App__flex\">\n                {authStore.hasAccess ? (\n                  <Gallery />\n                ) : (\n                  <Fragment>\n                    <div className=\"App__title\">&nbsp;kinkograph</div>\n                    <Login loginWithCode={loginWithCode} />\n                    <div className=\"spacer\"></div>\n                    <FooterStartPage\n                      loginWithCode={loginWithCode}\n                      setLoginWithCode={setLoginWithCode}\n                    />\n                  </Fragment>\n                )}\n              </div>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}