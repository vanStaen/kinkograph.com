(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,r){},121:function(e,t,r){},139:function(e,t,r){},141:function(e,t,r){},143:function(e,t,r){},144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},147:function(e,t,r){},148:function(e,t,r){},149:function(e,t,r){},150:function(e,t,r){},151:function(e,t,r){},152:function(e,t,r){},153:function(e,t,r){},154:function(e,t,r){},158:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(25),c=r.n(s),i=(r(121),r(5)),o=r.n(i),u=r(8),l=r(108),d=r(22),p=r(28),f=r(53),h=r(45),b=r(6),j=r(15),m=r.n(j),v=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/tags/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={filter:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/filter",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/all/".concat(t,"/").concat(r),method:"GET"});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=9;break}if(401!==n.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(n.status));case 9:return e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var n,a,s,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",a={pageNumber:t,pageSize:r,filter:n},e.next=4,m()({url:"https://kinkograph.herokuapp.com/pictures/page",method:"POST",data:a});case 4:if(!(200!==(s=e.sent).status&201!==s.status)){e.next=11;break}if(401!==s.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(s.status));case 11:return e.abrupt("return",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r={filter:t},e.next=4,m()({url:"https://kinkograph.herokuapp.com/pictures/total/",method:"POST",data:r});case 4:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=11;break}if(401!==n.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(n.status));case 11:return e.abrupt("return",n.data[0].count);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=new function e(){var t=this;Object(h.a)(this,e),this.PAGE_SIZE=100,this.pageNumber=1,this.totalPictures=0,this.selected=null,this.lastPageReached=!1,this.showOverlay=!1,this.isGalleryLoading=!0,this.galleryNeedsRefresh=!0,this.showFilterSelect=!1,this.isTagInputActive=!1,this.allPictures=[],this.tags=[],this.filter=[],this.fetchPictures=Object(u.a)(o.a.mark((function e(){var r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t.pageNumber,t.PAGE_SIZE,t.filter);case 3:return r=e.sent,e.next=6,w(t.filter);case 6:return n=e.sent,r.length<t.PAGE_SIZE?k.setLastPageReached(!0):k.setLastPageReached(!1),e.next=10,x(t.filter);case 10:return a=e.sent,e.next=13,Promise.all(r.map((function(e){return t=e,new Promise((function(e,r){var n=new Image;n.src=t.url_thumb,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}}));var t})));case 13:k.setTags(a),t.setAllPictures(r),t.setTotalPictures(n),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:k.setIsGalleryLoading(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),this.nextPageHandler=function(){var e=Object(u.a)(o.a.mark((function e(r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.setIsGalleryLoading(!0),!r){e.next=8;break}return n=t.pageNumber+1,t.pageNumber=n,e.next=6,t.fetchPictures(n);case 6:e.next=12;break;case 8:return a=t.pageNumber-1,t.pageNumber=a,e.next=12,t.fetchPictures(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setPageNumber=function(e){t.pageNumber=e},this.setLastPageReached=function(e){t.lastPageReached=e},this.setShowOverlay=function(e){t.showOverlay=e},this.changeSelected=function(){var e=Object(u.a)(o.a.mark((function e(r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selected,a=t.allPictures.length-1,!r){e.next=12;break}if(n!==a){e.next=9;break}return e.next=6,t.nextPageHandler(!0);case 6:t.selected=0,e.next=10;break;case 9:t.selected=n+1;case 10:e.next=19;break;case 12:if(0!==n){e.next=18;break}return e.next=15,t.nextPageHandler(!1);case 15:t.selected=a,e.next=19;break;case 18:t.selected=n-1;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setSelected=function(){var e=Object(u.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.selected=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setAllPictures=function(e){t.allPictures=e},this.setTotalPictures=function(e){t.totalPictures=e},this.addFilter=function(){var e=Object(u.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter.push(r);case 2:k.setIsGalleryLoading(!0),k.setPageNumber(1),k.fetchPictures();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setFilter=function(e){t.filter=e,k.setIsGalleryLoading(!0),t.setPageNumber(1),k.fetchPictures()},this.setIsGalleryLoading=function(e){t.isGalleryLoading=e},this.setGalleryNeedsRefresh=function(e){t.galleryNeedsRefresh=e},this.setShowFilterSelect=function(e){t.showFilterSelect=e},this.setIsTagInputActive=function(e){t.isTagInputActive=e},this.setTags=function(e){t.tags=e},Object(b.m)(this,{pageNumber:b.n,setPageNumber:b.f,lastPageReached:b.n,setLastPageReached:b.f,showOverlay:b.n,setShowOverlay:b.f,selected:b.n,setSelected:b.f,changeSelected:b.f,allPictures:b.n,setAllPictures:b.f,totalPictures:b.n,setTotalPictures:b.f,filter:b.n,addFilter:b.f,setFilter:b.f,isGalleryLoading:b.n,setIsGalleryLoading:b.f,galleryNeedsRefresh:b.n,setGalleryNeedsRefresh:b.f,showFilterSelect:b.n,setShowFilterSelect:b.f,fetchPictures:b.f,nextPageHandler:b.f,tags:b.n,setTags:b.f,isTagInputActive:b.n,setIsTagInputActive:b.f})},_=r(164),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={favorites:t},console.log(r),e.next=4,m()({url:"https://kinkograph.herokuapp.com/pictures/favorites/",method:"POST",data:r});case 4:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=11;break}if(401!==n.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(n.status));case 11:return e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={favorites:JSON.stringify(t)},e.next=3,m()({url:"https://kinkograph.herokuapp.com/user/favorites",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=new function e(){var t=this;Object(h.a)(this,e),this.favoritesId=[],this.favoriteObjectLoading=!0,this.favoriteObject=[],this.showFavorites=!1,this.fetchFavoriteObject=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(S.favoritesId.length>0)){e.next=6;break}return e.next=4,y(S.favoritesId);case 4:t=e.sent,S.setFavoriteObject(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:S.setFavoriteObjectLoading(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.setFavoriteObject=function(e){t.favoriteObject=e},this.setFavoriteObjectLoading=function(e){t.favoriteObjectLoading=e},this.setShowFavorites=function(){var e=Object(u.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showFavorites=r,r&&S.fetchFavoriteObject();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addToFavoritesId=function(e){t.favoritesId.findIndex((function(t){return t===e}))<0&&t.favoritesId.push(e),E(t.favoritesId)},this.deleteFromFavoritesId=function(e){var r=t.favoritesId.findIndex((function(t){return t===e}));t.favoritesId.splice(r,1),E(t.favoritesId)},this.setFavoritesId=function(e){t.favoritesId=e},Object(b.m)(this,{favoriteObject:b.n,setFavoriteObject:b.f,favoriteObjectLoading:b.n,setFavoriteObjectLoading:b.f,fetchFavoriteObject:b.f,showFavorites:b.n,setShowFavorites:b.f,favoritesId:b.n,addToFavoritesId:b.f,setFavoritesId:b.f,deleteFromFavoritesId:b.f})},N=(r(139),r(1)),I=Object(p.a)((function(e){var t=S.favoritesId.findIndex((function(t){return t===e.picture.id})),r=function(t){var r=document.getElementById("tag_".concat(e.picture.id)),n=document.getElementById("pic_".concat(e.picture.id));t?(r.style.visibility="visible",r.style.opacity=1,n.style.filter="brightness(50%) grayscale(1)"):(r.style.visibility="hidden",r.style.opacity=0,n.style.filter="brightness(100%) grayscale(0)")};return Object(N.jsx)(n.Fragment,{children:Object(N.jsxs)("div",{className:"picture__container",onClick:function(){k.setShowOverlay(!0);var t=k.allPictures.findIndex((function(t){return t.id===e.picture.id}));k.setSelected(t)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(N.jsx)("img",{id:"pic_".concat(e.picture.id),className:"picture \n          ".concat(!e.picture.tags&&"picture__bluryGray"," \n          ").concat(t>=0&&"halo"," "),src:e.picture.url_thumb,alt:e.picture.id},e.picture.id),Object(N.jsx)("div",{className:"picture__tagMissing",children:!e.picture.tags&&"TAGS MISSING"}),Object(N.jsxs)("div",{id:"tag_".concat(e.picture.id),className:"picture__tagShow",children:[Object(N.jsx)(_.a,{}),Object(N.jsxs)("div",{className:"picture__id",children:["#",e.picture.id]})]})]})})})),T=r(12),P=r(165),C=r(166),F=r(62),A=r(167),L=r(163),D=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/user",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data[0]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=new function e(){var t=this;Object(h.a)(this,e),this.email=null,this.infos=null,this.name="there",this.username=null,this.isAdmin=!1,this.setEmail=function(e){t.email=e},this.setInfos=function(e){t.infos=e},this.setName=function(e){t.name=e},this.setUsername=function(e){t.username=e},this.setIsAdmin=function(e){t.isAdmin=e},this.fetchuserData=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:(t=e.sent)&&(G.setEmail(t.email),G.setInfos(t.infos),G.setName(t.name),G.setUsername(t.username),t.favorites&&S.setFavoritesId(JSON.parse(t.favorites)),t.is_admin&&G.setIsAdmin(t.is_admin));case 4:case"end":return e.stop()}}),e)}))),Object(b.m)(this,{fetchuserData:b.f,setEmail:b.f,email:b.n,setInfos:b.f,infos:b.n,setName:b.f,name:b.n,setUsername:b.f,username:b.n,isAdmin:b.n,setIsAdmin:b.f})},B=(r(141),Object(p.a)((function(){var e=Object(n.useState)(!0),t=Object(T.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(!1),c=k.allPictures[k.selected],i=S.favoritesId.findIndex((function(e){return e===c.id}))>=0,l=1===k.pageNumber&&0===k.selected,d=k.lastPageReached&&k.allPictures.length===k.selected+1,p=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),r=new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}})),e.next=4,r;case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c&&p(c.url_med)}),[c]);var h=function(e){var t=document.getElementById("closeButton");e?(t.style.visibility="hidden",t.style.opacity=0):(t.style.visibility="visible",t.style.opacity=1)},b=Object(n.useCallback)((function(e){if(!G.isGuest){var t=document.getElementById("heart"),r=document.getElementById("unheart");i?(r.style.visibility="visible",r.style.opacity=.5,r.style.fontSize="30em",setTimeout((function(){r.style.visibility="hidden",r.style.opacity=0,r.style.fontSize="1em"}),500),S.deleteFromFavoritesId(e)):(t.style.visibility="visible",t.style.opacity=.5,t.style.fontSize="50em",setTimeout((function(){t.style.visibility="hidden",t.style.opacity=0,t.style.fontSize="1em"}),500),S.addToFavoritesId(e))}}),[i]),j=Object(n.useCallback)((function(e){e.preventDefault();var t=e.key.toLowerCase(),r=document.getElementById("nextButton"),n=document.getElementById("previousButton");!1===s.current&&(s.current=!0,"arrowdown"!==t&&"arrowright"!==t||d?"arrowup"!==t&&"arrowleft"!==t||l?"enter"===t?b(c.id):"escape"===t&&k.setShowOverlay(!1):(n.style.backgroundColor="rgba(255,255,255,.15)",k.changeSelected(!1),setTimeout((function(){n.style.backgroundColor="rgba(255,255,255, 0)"}),100)):(r.style.backgroundColor="rgba(255,255,255,.15)",k.changeSelected(!0),setTimeout((function(){r.style.backgroundColor="rgba(255,255,255, 0)"}),100)),setTimeout((function(){s.current=!1}),100))}),[c,b,l,d]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",j),function(){document.removeEventListener("keydown",j)}}),[j]),Object(N.jsxs)("div",{className:"overlay__overlay",children:[Object(N.jsx)("div",{className:"overlay__background",onClick:function(){k.setShowOverlay(!1)}}),!l&&Object(N.jsx)("div",{className:"overlay__columnLeft",id:"previousButton",onClick:function(){k.changeSelected(!1)},children:Object(N.jsx)(P.a,{})}),!d&&Object(N.jsx)("div",{className:"overlay__columnRight",id:"nextButton",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onClick:function(){k.changeSelected(!0)},children:Object(N.jsx)(C.a,{})}),Object(N.jsx)(L.a,{placement:"bottomLeft",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "})," The keys \u2190 and \u2192 will let you navigate through the pictures. You can use the ",Object(N.jsx)("i",{children:"esc"})," key, or click outside the picture to go back to the gallery."]}),children:Object(N.jsx)("div",{className:"overlay__closeButton",id:"closeButton",onClick:function(){k.setShowOverlay(!1)},children:Object(N.jsx)(F.a,{})})}),r?Object(N.jsx)(f.a,{className:"overlay__spinner"}):Object(N.jsxs)("div",{className:"overlay__pictureContainer",onDoubleClick:function(){b(c.id)},children:[Object(N.jsxs)("div",{className:"overlay__infoAction",children:[c&&Object(N.jsxs)("div",{className:"overlay__info",children:["#",c.id]}),Object(N.jsx)("div",{className:"overlay__action",children:!G.isGuest&&(i?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("span",{role:"img","aria-label":"heart",style:{fontSize:".75em"},children:"\u2764\ufe0f"})," ","Marked as favorite!"]}):"Doubleclick/Enter to mark as favorite.")})]}),Object(N.jsxs)("div",{className:"overlay__pictureHover",children:[Object(N.jsx)("div",{className:"overlay__pictureWatermark",children:"KINKOGRAPH"}),Object(N.jsx)(A.a,{id:"heart",className:"overlay__heart"}),Object(N.jsx)(F.a,{id:"unheart",className:"overlay__heart"})]}),c&&Object(N.jsx)("img",{className:"overlay__picture",src:c.url_med,alt:c.id},"img__".concat(c.id)),c&&Object(N.jsx)("div",{className:"overlay__tags",children:JSON.parse(c.tags).map((function(e){return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsxs)("span",{onClick:function(){return function(e){k.setShowOverlay(!1),k.addFilter(e)}(e)},children:["#",e]}),"\xa0"]})}))})]})]})}))),H=r(161);function U(e){return void 0===e||null===e?null:e.charAt(0).toUpperCase()+e.slice(1)}r(143);var z=Object(p.a)((function(){var e=H.a.Option,t=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.setIsGalleryLoading(!0),r=t.map((function(e){return U(e)})),k.setFilter(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(N.jsxs)("div",{className:"galleryHeader__main",children:[Object(N.jsx)("div",{className:"galleryHeader__left",children:S.favoritesId.length?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsxs)("div",{className:"galleryHeader__BigFont galleryHeader__favorite",onClick:function(){S.setShowFavorites(!0)},children:[S.favoritesId.length," picture",S.favoritesId.length>1&&"s"]}),Object(N.jsxs)("div",{className:"galleryHeader__SmallFont",children:["marked as favorite",S.favoritesId.length>1&&"s"]})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(L.a,{placement:"bottomLeft",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "}),"Mark some pictures as your favorites: Then we both look at those, and plan a inspired shoot."]}),children:Object(N.jsxs)("div",{className:"galleryHeader__BigFont galleryHeader__favorite",children:["Hello ",G.name,","]})}),Object(N.jsx)("div",{className:"galleryHeader__SmallFont",children:"What will inspire you today?"})]})}),Object(N.jsx)("div",{className:"galleryHeader__center",onFocus:function(){k.setIsTagInputActive(!0)},onBlur:function(){k.setIsTagInputActive(!1)},children:k.filter.length>0||k.showFilterSelect?Object(N.jsx)(H.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a filter",defaultValue:k.filter,onChange:t,className:"galleryHeader__selectFilter",optionLabelProp:"label",children:k.tags.map((function(t){return Object(N.jsx)(e,{value:t.tag,label:t.tag,children:Object(N.jsxs)("div",{className:"demo-option-label-item",children:[t.tag," ",Object(N.jsxs)("span",{className:"light",children:["(",t.occur,")"]})]})})}))}):Object(N.jsxs)("div",{className:"galleryHeader__setFilter",onClick:function(){k.setShowFilterSelect(!0)},children:["{click here to"," ",Object(N.jsx)("span",{className:"galleryHeader__wordFilter",children:"filter"})," the results}"]})}),Object(N.jsx)("div",{className:"galleryHeader__right",children:Object(N.jsx)(L.a,{placement:"bottomRight",title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"TIP: "}),"You can use the \u2190 and \u2192 keys to navigate through the pages, and the \u2191 and \u2193 keys to scroll the page."]}),children:Object(N.jsxs)("div",{className:"galleryHeader__pageInfo",children:[Object(N.jsxs)("div",{className:"galleryHeader__BigFont",children:[Object(N.jsxs)("b",{children:["Page ",k.pageNumber]}),Object(N.jsxs)("span",{style:{fontSize:"0.7em"},children:[" ","/"," ",Math.ceil(k.totalPictures/k.PAGE_SIZE,0)]})]}),Object(N.jsxs)("div",{className:"galleryHeader__SmallFont",children:[(k.pageNumber-1)*k.PAGE_SIZE+1,"-",Math.min(k.pageNumber*k.PAGE_SIZE,k.totalPictures)," ","of ",k.totalPictures]})]})})})]})})),R=(r(144),r(162)),M=(r(145),Object(p.a)((function(){var e=Object(n.useCallback)((function(){S.setShowFavorites(!1)}),[]);return Object(N.jsx)(R.a,{title:Object(N.jsxs)("span",{className:"FavoritesDrawer__Title",children:["Your ",S.favoritesId.length," favorite",S.favoritesId.length>1&&"s"]}),placement:"left",closable:!0,onClose:function(){return e(!1)},visible:S.showFavorites,width:"50%",children:S.favoriteObjectLoading?Object(N.jsx)("div",{children:" Loading... "}):Object(N.jsx)("div",{children:S.favoriteObject.map((function(e){return Object(N.jsxs)("div",{className:"FavoritesDrawer__pictureContainer",children:["#",e.id,Object(N.jsx)("img",{className:"FavoritesDrawer__picture",src:e.url_med,alt:e.id},e.id)]})}))})})}))),J=Object(p.a)((function(){var e=Object(n.useRef)(!1),t=1===k.pageNumber&&k.lastPageReached;Object(n.useEffect)((function(){k.galleryNeedsRefresh&&(k.fetchPictures(),k.setGalleryNeedsRefresh(!1))}),[k.galleryNeedsRefresh]);var r=Object(n.useCallback)((function(e){var t,r=.8*window.innerHeight,n=window.scrollY;"down"===e?t=n+r:"up"===e&&(t=Math.max(n-r,0)),window.scroll({top:t,left:0,behavior:"smooth"})}),[]),a=Object(n.useCallback)((function(t){var n=t.key.toLowerCase();"arrowright"!==n&&"arrowleft"!==n&&"arrowdown"!==n&&"arrowup"!==n||(t.preventDefault(),k.showOverlay||k.isTagInputActive||!1===e.current&&(e.current=!0,"arrowright"!==n||k.lastPageReached?"arrowleft"===n&&k.pageNumber>1?(k.setShowFilterSelect(!1),s(!1)):"arrowdown"===n?r("down"):"arrowup"===n&&r("up"):(k.setShowFilterSelect(!1),s(!0)),setTimeout((function(){e.current=!1}),100)))}),[r]),s=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.nextPageHandler(t);case 2:window.scroll({top:0,left:0,behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[a]),Object(N.jsxs)("div",{className:"gallery",children:[Object(N.jsx)(z,{}),Object(N.jsx)(M,{}),k.isGalleryLoading?Object(N.jsxs)("div",{className:"App__flex",children:[Object(N.jsx)(f.a,{className:"Gallery__spinner"}),Object(N.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(N.jsxs)(n.Fragment,{children:[k.showOverlay&&Object(N.jsx)(B,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"gallery__main",children:k.allPictures.map((function(e,t){return Object(N.jsx)("div",{className:"gallery__picSpacer",children:Object(N.jsx)(I,{picture:e},e.id)})}))}),!t&&Object(N.jsx)("div",{className:"gallery__next",children:Object(N.jsxs)("div",{className:"gallery__nextTextContainer",children:[1===k.pageNumber?"Previous":Object(N.jsx)("span",{className:"gallery__nextText",onClick:function(){return s(!1)},children:"Previous"})," |\xa0",k.lastPageReached?"Next":Object(N.jsx)("span",{className:"gallery__nextText",onClick:function(){return s(!0)},children:"Next"})]})})]})]})]})})),q=r(172),Y=r(173),Z=r(112),V=r(171),W=r(168),K=r(169),Q=r(170),X=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tag_name:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tags:JSON.stringify(t)},e.next=3,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/".concat(r),method:"PATCH",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/".concat(t),method:"DELETE"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=(r(146),H.a.Option),re=function(e){var t=Object(n.useState)([]),r=Object(T.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)([]),i=Object(T.a)(c,2),l=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(T.a)(p,2),h=f[0],b=f[1],j=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t=e.sent,d(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),m=Object(n.useCallback)((function(t){e.setShowUploader&&e.setShowUploader(!0),e.setShowDrawer(!1),t&&e.reload&&e.reload()}),[e]);Object(n.useEffect)((function(){j(),null!==JSON.parse(e.picture.tags)&&s(JSON.parse(e.picture.tags))}),[j,e.picture.tags]);var x=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.map((function(e){return U(e)})),s(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(n.useCallback)(Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=6;break}return t.next=3,a.map(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.findIndex((function(e){return e===U(t)}))<0)){e.next=6;break}return e.next=4,X(t);case 4:"success"===e.sent.value&&console.log("".concat(t," was added to the lists of tags."));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,$(a,e.picture.id);case 5:m(!0);case 6:case"end":return t.stop()}}),t)}))),[a,l,m,e.picture.id]),O=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==h){e.next=6;break}return e.next=3,ee(t);case 3:m(!0),e.next=8;break;case 6:b(!0),setTimeout((function(){b(!1)}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,m]);return Object(N.jsxs)(R.a,{title:Object(N.jsxs)("span",{className:"Drawer__Title",children:["Edit picture id #",e.picture.id]}),placement:"left",closable:!0,onClose:function(){return m(!1)},visible:e.showDrawer,width:"42.5%",children:[Object(N.jsx)("div",{className:"Drawer__font",children:"Preview:"}),Object(N.jsx)("img",{className:"Drawer_picture",src:e.picture.url_med,alt:e.picture.id,style:{maxWidth:"100%",maxHeight:window.innerHeight/2.5}},e.picture.id),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"Drawer__font",children:"Tags:"}),Object(N.jsx)(H.a,{mode:"tags",allowClear:!1,style:{width:"100%"},placeholder:"Add some tags",onChange:x,defaultValue:null!==e.picture.tags?JSON.parse(e.picture.tags):void 0,children:l.map((function(e){return Object(N.jsx)(te,{children:U(e.tag_name)},U(e.tag_name))}))}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"Drawer__buttonContainer",children:[Object(N.jsxs)("div",{className:a.length<1?"Drawer__buttonDisabled":"Drawer__button",onClick:g,children:[Object(N.jsx)(W.a,{})," \xa0 Save"]}),Object(N.jsx)("div",{className:h?"Drawer__buttonConfirmAction":"Drawer__button",onClick:function(){return O(e.picture.key)},children:h?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(K.a,{})," ARE YOU SURE",Object(N.jsx)(Q.a,{})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(K.a,{}),"\xa0 Delete"]})})]})]},"drawer".concat(e.picture.id))},ne=(r(147),function(e){var t=Object(n.useState)(!1),r=Object(T.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(!1),i=Object(T.a)(c,2),o=i[0],u=i[1],l=function(t){if(null===e.totalMissingTag){s(t);var r=document.getElementById(e.picture.id);r.style.filter=t?"brightness(50%) blur(2px)":"brightness(100%) blur(0px)"}},d=function(){setTimeout((function(){e.setShowUploader(!1)}),300),u(!0)};return Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(re,{picture:e.picture,showDrawer:o,setShowDrawer:u,reload:e.reload,setShowUploader:e.setShowUploader}),Object(N.jsxs)("div",{className:"EditPictures__missingPicture",children:[null===e.totalMissingTag?a&&Object(N.jsx)("div",{className:"EditPictures__missingPictureOverText",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:d,children:Object(N.jsx)(V.a,{})}):Object(N.jsxs)("div",{className:"EditPictures__missingPictureRest",children:["+",e.totalMissingTag]}),Object(N.jsx)("img",{className:e.totalMissingTag&&"EditPictures__bluryGray",id:e.picture.id,src:e.picture.url_thumb,alt:e.picture.id,width:e.size,height:e.size,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:d})]})]})}),ae=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,m.a.post("https://kinkograph.herokuapp.com/pictures",r);case 5:return e.abrupt("return","success");case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return","error");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/pictures/duplicate",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com"+"/pictures/tagsmissing/".concat(t),method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/pictures/tagsmissingcount/",method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data[0].count);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=(r(148),Object(p.a)((function(){var e=Object(n.useState)(!1),t=Object(T.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(T.a)(s,2),i=c[0],l=c[1],d=Object(n.useState)([]),p=Object(T.a)(d,2),h=p[0],b=p[1],j=Object(n.useState)(!0),m=Object(T.a)(j,2),v=m[0],x=m[1],g=Object(n.useState)([0,0]),O=Object(T.a)(g,2),w=O[0],k=O[1],_=Object(n.useState)(null),y=Object(T.a)(_,2),E=y[0],S=y[1],I=Object(n.useState)(null),P=Object(T.a)(I,2),C=P[0],F=P[1],A=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:r=e.sent,Z.a[r]({message:"Upload ".concat(r),description:"File: ".concat(t.name)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),L=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie();case 3:t=e.sent,F(t-E),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[E]),D=Object(n.useCallback)((function(){var e=window.innerWidth,t=window.innerHeight,r=Math.floor(.5*e),n=Math.floor(.75*t),a=Math.floor(r/184)*Math.floor(n/180);return S(a),a}),[]),G=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:return t=e.sent,e.next=6,ce(t);case 6:return r=e.sent,e.next=9,L();case 9:b(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[L,D]),B=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),!t.target.files[0]){e.next=12;break}return r=t.target.files[0].name.split(".")[0],e.next=5,se(r);case 5:if(0!==e.sent.length){e.next=11;break}return e.next=9,A(t.target.files[0]);case 9:e.next=12;break;case 11:Z.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(t.target.files[0].name,"'")});case 12:a(!1),setTimeout((function(){G(E)}),500);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G,E,A]);Object(n.useEffect)((function(){return G(),window.addEventListener("resize",D),function(){window.removeEventListener("resize",D)}}),[G,D]);var H=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),r=t.dataTransfer.files,n=r.length,k([0,n]),s=0;case 6:if(!(s<n)){e.next=24;break}if(a(!0),k([s,n]),!r[s]){e.next=21;break}return c=r[s],i=c.name.split(".")[0],e.next=14,se(i);case 14:if(0!==e.sent.length){e.next=20;break}return e.next=18,A(c);case 18:e.next=21;break;case 20:Z.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(i,"'")});case 21:s++,e.next=6;break;case 24:k([0,0]),a(!1),setTimeout((function(){G(E)}),1e3);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"Uploader__container",children:[Object(N.jsx)("div",{className:"Uploader__formContainer",children:v&&Object(N.jsx)("div",{className:"Uploader__formContent",style:h.length?{width:"50vw"}:{width:"100vw"},children:Object(N.jsxs)("form",{onSubmit:A,children:[Object(N.jsx)("input",{type:"file",className:"inputfile",name:"inputfile",id:"file",onChange:B}),r?Object(N.jsxs)("label",{htmlFor:"file",style:h.length?{width:"35vw"}:{width:"75vw"},children:[Object(N.jsx)(f.a,{className:"Uploader__spinner"}),w[1]?Object(N.jsxs)("p",{className:"form-upload-text",children:[w[0]," of ",w[1]]}):Object(N.jsx)("p",{className:"form-upload-text",children:"Loading"})]}):Object(N.jsx)("label",{htmlFor:"file",onDrop:H,onDragOver:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},onDragEnter:function(e){return function(e){e.preventDefault(),e.stopPropagation(),l(!0)}(e)},onDragLeave:function(e){return function(e){e.preventDefault(),e.stopPropagation(),l(!1)}(e)},style:h.length?{width:"35vw"}:{width:"75vw"},children:i?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("p",{className:"form-upload-drag-icon",children:Object(N.jsx)(Y.a,{})}),Object(N.jsxs)("p",{className:"form-upload-hint",children:["Drop your files here ",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:"Multiple files supported"})]}),Object(N.jsx)("p",{className:"form-upload-text"})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("p",{className:"form-upload-drag-icon",children:Object(N.jsx)(q.a,{})}),Object(N.jsxs)("p",{className:"form-upload-hint",children:["Click, or drag here a file ",Object(N.jsx)("br",{}),Object(N.jsx)("i",{children:"jpg and png file only"})]})]})})]})})}),h.length>0&&Object(N.jsx)("div",{className:"Uploader__missingContainer",children:Object(N.jsx)("div",{className:"Uploader__missingContent",children:h.map((function(e,t){return Object(N.jsx)(ne,{picture:e,size:150,setShowUploader:x,reload:G,totalMissingTag:t+1===E?C:null},e.id)}))})})]})}))),ue=(r(149),function(e){var t=Object(n.useState)("upload"),r=Object(T.a)(t,2),a=r[0],s=r[1],c=function(t){s(t),e.setDisplay(t)};return Object(N.jsxs)("div",{className:"adminHeader__main",children:[Object(N.jsx)("div",{className:"adminHeader__element ".concat("upload"===a&&"adminHeader__elementSelected"),onClick:function(){return c("upload")},children:"UPLOAD"}),Object(N.jsx)("div",{className:"adminHeader__element ".concat("pic"===a&&"adminHeader__elementSelected"),onClick:function(){return c("pic")},children:"PICTURES"}),Object(N.jsx)("div",{className:"adminHeader__element ".concat("tag"===a&&"adminHeader__elementSelected"),onClick:function(){return c("tag")},children:"TAGS"}),Object(N.jsx)("div",{className:"adminHeader__element ".concat("user"===a&&"adminHeader__elementSelected"),onClick:function(){return c("user")},children:"USERS"})]})}),le=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/admin/users/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=(r(150),function(e){var t=Object(n.useState)([]),r=Object(T.a)(t,2),a=r[0],s=r[1],c=Object(n.useCallback)(Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user.favorites){t.next=6;break}return r=JSON.parse(e.user.favorites),t.next=4,y(r);case 4:n=t.sent,s(n);case 6:case"end":return t.stop()}}),t)}))),[e.user.favorites]);return Object(n.useEffect)((function(){c()}),[c]),Object(N.jsxs)("div",{className:"userInfos__user",children:[Object(N.jsxs)("div",{className:"userInfos__title",children:[Object(N.jsxs)("div",{className:"userInfos__titleLeft",children:[e.user.name.toUpperCase(),Object(N.jsx)("span",{className:"smallFont",children:e.user.access_code&&" ".concat(e.user.access_code," ")})]}),Object(N.jsxs)("div",{className:"userInfos__titleRight",children:[Object(N.jsx)("span",{style:{color:"#555"},children:e.user.email&&" ".concat(e.user.email," ")}),Object(N.jsx)("span",{style:{color:"#555"},children:e.user.email&&e.user.username&&" | "}),Object(N.jsx)("span",{style:{color:"#555"},children:e.user.username&&" ".concat(e.user.username," ")})]})]}),a.length>0&&a.map((function(e){return Object(N.jsxs)("div",{className:"userInfos__pictureContainer",children:[Object(N.jsxs)("div",{className:"smallFont",children:[" #",e.id]}),Object(N.jsx)("img",{className:"userInfos__picture",src:e.url_med,alt:e.id},e.id)]})}))]},"user_".concat(e.user.id))}),pe=(r(151),function(){var e=Object(n.useState)(!0),t=Object(T.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)([]),c=Object(T.a)(s,2),i=c[0],l=c[1],d=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:t=e.sent,l(t),a(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){d()}),[d]),r?Object(N.jsxs)("div",{className:"App__flex",children:[Object(N.jsx)(f.a,{className:"Gallery__spinner"}),Object(N.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(N.jsx)("div",{className:"userAdmin__main",children:i.map((function(e){return Object(N.jsx)(de,{user:e})}))})}),fe=r(160),he=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={oldtag:t,newtag:r},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/edit",method:"POST",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tagToDelete:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/tags/",method:"DELETE",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=(r(152),H.a.Option),me=function(){var e=Object(n.useState)([]),t=Object(T.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(0),c=Object(n.useState)(!1),i=Object(T.a)(c,2),l=i[0],d=i[1],p=Object(n.useState)(!0),h=Object(T.a)(p,2),b=h[0],j=h[1],m=Object(n.useState)(!1),v=Object(T.a)(m,2),g=v[0],O=v[1],w=Object(n.useState)(null),k=Object(T.a)(w,2),_=k[0],y=k[1],E=Object(n.useState)(null),S=Object(T.a)(E,2),I=S[0],P=S[1],C=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x([]);case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:j(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),F=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==g){e.next=8;break}return e.next=3,be(t);case 3:return e.next=5,C();case 5:d(!1),e.next=10;break;case 8:O(!0),setTimeout((function(){O(!1)}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,d,C]),A=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I===r[s.current].tag){e.next=3;break}return e.next=3,he(r[s.current].tag,I);case 3:return e.next=5,C();case 5:d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_===r[s.current].tag){e.next=3;break}return e.next=3,he(r[s.current].tag,_);case 3:return e.next=5,C();case 5:d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C()}),[C]),Object(N.jsxs)(n.Fragment,{children:[b?Object(N.jsxs)("div",{className:"App__flex",children:[Object(N.jsx)(f.a,{className:"Gallery__spinner"}),Object(N.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(N.jsxs)(R.a,{className:"tagAdmin__drawer",title:Object(N.jsxs)("span",{className:"tagAdmin__Title",children:["Edit ",r[s.current].tag]}),placement:"left",closable:!0,onClose:function(){return d(!1)},visible:l,width:"42.5%",children:[Object(N.jsx)(H.a,{allowClear:!1,style:{width:"100%"},defaultValue:r[s.current].tag,onChange:function(e){!function(e){P(e)}(e)},children:r.map((function(e){return Object(N.jsxs)(je,{children:[U(e.tag)," (",e.occur,")"]},U(e.tag))}))}),Object(N.jsxs)("div",{className:I===r[s.current].tag?"Drawer__buttonDisabled":"Drawer__button",onClick:A,children:[Object(N.jsx)(W.a,{})," \xa0 REPLACE THIS TAG"]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(fe.a,{defaultValue:r[s.current].tag,onChange:function(e){y(e.target.value)},placeholder:"Basic usage"}),Object(N.jsxs)("div",{className:_===r[s.current].tag?"Drawer__buttonDisabled":"Drawer__button",onClick:L,children:[Object(N.jsx)(W.a,{})," \xa0 RENAME THIS TAG"]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"Drawer__buttonContainer",children:Object(N.jsx)("div",{className:g?"Drawer__buttonConfirmAction":"Drawer__button",onClick:function(){return F(r[s.current].tag)},children:g?Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(K.a,{})," ARE YOU SURE",Object(N.jsx)(Q.a,{})]}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)(K.a,{}),"\xa0 DELETE THIS TAG"]})})})]},"drawer".concat(r[s.current].tag)),Object(N.jsx)("div",{className:"tagAdmin__main",children:r.map((function(e,t){return Object(N.jsxs)("div",{className:"tagAdmin__tag ".concat(e.occur<5&&"red"),onClick:function(){return function(e){d(!0),s.current=e,y(r[e].tag),P(r[e].tag)}(t)},children:[e.tag?e.tag:Object(N.jsx)("i",{children:"null"}),Object(N.jsxs)("span",{className:"tagAdmin__occur",children:[" (",e.occur,")"]})]},"tag_index_".concat(t))}))})]})},ve=(r(103),function(e){var t=Object(n.useCallback)((function(){var t=!1;return e.picture.tags&&(t=e.picture.tags.includes(e.tagSelected)),t}),[e.picture.tags,e.tagSelected]),r=Object(n.useState)(t()),a=Object(T.a)(r,2),s=a[0],c=a[1],i=function(){var t=Object(u.a)(o.a.mark((function t(r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.tagSelected){t.next=9;break}return n=JSON.parse(r.tags),a=n.findIndex((function(t){return t===e.tagSelected})),s?(n.splice(a,1),c(!1)):(n.push(e.tagSelected),c(!0)),t.next=6,$(n,e.picture.id);case 6:e.fetchAllPictures(),t.next=11;break;case 9:e.setShowDrawer(!0),e.setPictureSelected(r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){c(t())}),[e.tagSelected,t]),Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("img",{className:e.tagSelected?s?"picAdmin__tagHalo":"picAdmin__tagBlur":"picAdmin__noFilter",id:"pic_".concat(e.picture.id),src:e.picture.url_thumb,alt:e.picture.id,onClick:function(){return i(e.picture)}},e.picture.id),Object(N.jsxs)("span",{className:"picAdmin__id",children:["#",e.picture.id]})]})}),xe=H.a.Option,ge=function(){var e=Object(n.useState)(!0),t=Object(T.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)([]),c=Object(T.a)(s,2),i=c[0],l=c[1],d=Object(n.useState)(!1),p=Object(T.a)(d,2),h=p[0],b=p[1],j=Object(n.useState)(null),m=Object(T.a)(j,2),v=m[0],O=m[1],w=Object(n.useState)([]),k=Object(T.a)(w,2),_=k[0],y=k[1],E=Object(n.useState)(null),S=Object(T.a)(E,2),I=S[0],P=S[1],C=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(0,!0);case 3:return t=e.sent,e.next=6,x([]);case 6:r=e.sent,l(t),y(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:a(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);Object(n.useEffect)((function(){C()}),[C]);var F=Object(n.useCallback)((function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"}))}));return Object(n.useEffect)((function(){return document.addEventListener("keydown",F),function(){document.removeEventListener("keydown",F)}}),[F]),Object(N.jsx)(n.Fragment,{children:r?Object(N.jsxs)("div",{className:"App__flex",children:[Object(N.jsx)(f.a,{className:"Gallery__spinner"}),Object(N.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(N.jsxs)(n.Fragment,{children:[v&&Object(N.jsx)(re,{picture:v,showDrawer:h,setShowDrawer:b}),Object(N.jsx)("div",{className:"picAdmin__tagSelector",children:Object(N.jsx)(H.a,{showSearch:!0,allowClear:!0,style:{width:"100%"},placeholder:"Select a tag to manage",onChange:function(e){P(e)},children:_.map((function(e){return Object(N.jsxs)(xe,{children:[U(e.tag)," (",e.occur,")"]},U(e.tag))}))})}),Object(N.jsx)("div",{className:"picAdmin__main",children:i.map((function(e){return Object(N.jsx)("div",{className:"picAdmin__picture",children:Object(N.jsx)(ve,{picture:e,tagSelected:I,setShowDrawer:b,setPictureSelected:O,fetchAllPictures:C})})}))})]})})},Oe=Object(p.a)((function(){var e=Object(n.useState)("upload"),t=Object(T.a)(e,2),r=t[0],a=t[1];return G.isAdmin?Object(N.jsxs)("div",{children:[Object(N.jsx)(ue,{setDisplay:a}),"upload"===r&&Object(N.jsx)(oe,{}),"tag"===r&&Object(N.jsx)(me,{}),"user"===r&&Object(N.jsx)(pe,{}),"pic"===r&&Object(N.jsx)(ge,{})]}):Object(N.jsxs)("div",{className:"Uploader__noAccess",children:["Restricted!",Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{})]})})),we=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://kinkograph.herokuapp.com/login/",method:"DELETE"});case 2:if(204===(t=e.sent).status){e.next=5;break}throw new Error("Error ou Logout! Status ".concat(t.status));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={refreshToken:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/login/token",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=new function e(){var t=this;Object(h.a)(this,e),this.token=null,this.refreshToken=localStorage.getItem("refreshToken"),this.isGuest=!0,this.hasAccess=!1,this.setToken=function(e){t.token=e},this.setRefreshToken=function(e){t.refreshToken=e,localStorage.setItem("refreshToken",e)},this.logout=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.clear(),_e.setToken(null),_e.setRefreshToken(null),e.next=8,we();case 8:case"end":return e.stop()}}),e)}))),this.setIsGuest=function(e){t.isGuest=e},this.setHasAccess=function(e){t.hasAccess=e},this.getNewToken=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke(_e.refreshToken);case 3:return t=e.sent,_e.setToken(t.data.token),_e.setHasAccess(!0),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0,_e.refreshToken);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Object(b.m)(this,{token:b.n,setToken:b.f,refreshToken:b.n,setRefreshToken:b.f,logout:b.f,isGuest:b.n,setIsGuest:b.f,hasAccess:b.n,setHasAccess:b.f,getNewToken:b.f})},ye=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={code:t},e.next=3,m()({url:"https://kinkograph.herokuapp.com/login/code",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=(r(153),function(e){var t=Object(n.useState)(1),r=Object(T.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(void 0),i=Object(T.a)(c,2),o=i[0],u=i[1],l=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}(),d=Object(n.useCallback)((function(t){var r=t.key.toLowerCase();if(l)"enter"===r&&e.login(o);else if(t.preventDefault(),"backspace"===r)a>1&&(document.getElementById(a-1).value="",s(a-1));else if(r.length>1);else if(document.getElementById(a).value=r,s(a+1),a+1===7){s(1);var n=document.getElementById(1).value+document.getElementById(2).value+document.getElementById(3).value+document.getElementById(4).value+document.getElementById(5).value+document.getElementById(6).value;setTimeout((function(){document.getElementById(1).focus(),document.getElementById(1).value="",document.getElementById(2).value="",document.getElementById(3).value="",document.getElementById(4).value="",document.getElementById(5).value="",document.getElementById(6).value="",s(1),e.login(n)}),500)}}),[e,a,o,l]),p=function(e){var t=parseInt(e.target.id,10),r=a;""===document.getElementById(1).value?s(r=1):""===document.getElementById(2).value?s(r=2):""===document.getElementById(3).value?s(r=3):""===document.getElementById(4).value?s(r=4):""===document.getElementById(5).value?s(r=5):""===document.getElementById(6).value&&s(r=6),document.getElementById(t).blur(),document.getElementById(r).focus()};return Object(n.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}}),[d]),l?Object(N.jsxs)("div",{children:[Object(N.jsx)(fe.a.Password,{id:"code",onChange:function(e){u(e.target.value)},placeholder:"input code & confirm with enter",className:"PinInput__mobileInput"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{})]}):Object(N.jsx)("div",{children:Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{id:"1",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",style:{marginLeft:"20px"},autoComplete:"new-password"}),Object(N.jsx)("input",{id:"2",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"3",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"4",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"5",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(N.jsx)("input",{id:"6",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,style:{width:"40px"},autoComplete:"new-password"})]})})}),Se=function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:200===(r=e.sent).status&&("guest"===r.data.userId?_e.setIsGuest(!0):(_e.setToken(r.data.token),_e.setRefreshToken(r.data.refreshToken),_e.setIsGuest(!1),G.fetchuserData()),_e.setHasAccess(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(Ee,{login:e})},Ne=r(107),Ie=function(e){if(!e)return!1;var t=Object(Ne.a)(e),r=new Date;return!(1e3*t.exp<r.getTime())||(console.log("Token expired."),!1)};m.a.interceptors.request.use(function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ie(_e.token)){e.next=5;break}r=_e.token,e.next=13;break;case 5:if(null===_e.token){e.next=12;break}return e.next=8,_e.getNewToken();case 8:n=e.sent,r=n,e.next=13;break;case 12:r=null;case 13:r&&(t.headers=Object.assign({Authorization:"Bearer ".concat(r),"Content-Type":"application/json"})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("Interceptor Error",e),Promise.reject(e)}));r(154);var Te=Object(p.a)((function(){var e=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===_e.refreshToken){e.next=5;break}return e.next=3,_e.getNewToken();case 3:return e.next=5,G.fetchuserData();case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){e()}),[e]),Object(N.jsx)(l.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsx)("div",{className:"App__main",children:Object(N.jsxs)(d.c,{children:[Object(N.jsx)(d.a,{path:"/admin",children:Object(N.jsx)(Oe,{})}),Object(N.jsx)(d.a,{path:"/",children:Object(N.jsx)("div",{className:"App__flex",children:_e.hasAccess?Object(N.jsx)(J,{}):Object(N.jsxs)(n.Fragment,{children:[Object(N.jsx)("div",{className:"App__title",children:"\xa0kinkograph"}),Object(N.jsx)(Se,{}),Object(N.jsx)("div",{className:"spacer"})]})})})]})})})})})),Pe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,174)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(Te,{})}),document.getElementById("root")),Pe()}},[[158,1,2]]]);
//# sourceMappingURL=main.e39a9844.chunk.js.map