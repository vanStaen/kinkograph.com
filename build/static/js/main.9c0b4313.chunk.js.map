{"version":3,"sources":["component/PinInput/PinInput.jsx","store/overlayStore.js","component/PictureThumb/PictureThumb.jsx","store/userStore.js","component/GalleryOverlay/GalleryOverlay.jsx","pages/Gallery/getPictures.js","pages/Gallery/Gallery.jsx","helpers/capitalizeFirstLetter.js","component/EditDrawer/getTags.js","component/EditDrawer/postTag.js","component/EditDrawer/patchPicture.js","component/EditDrawer/deletePicture.js","component/EditDrawer/EditDrawer.jsx","pages/Uploader/EditPictures/EditPictures.jsx","pages/Uploader/postPicture.js","pages/Uploader/getDuplicate.js","pages/Uploader/getTagsMissing.js","pages/Uploader/Uploader.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["PinInput","props","useState","lastFiledInput","setLastFiledInput","keyDownListener","useCallback","event","preventDefault","keyPressed","key","toLowerCase","document","getElementById","value","length","code","setTimeout","focus","login","clickHandler","e","inputID","parseInt","target","id","lastInputWithData","blur","useEffect","addEventListener","removeEventListener","className","placeholder","maxLength","min","max","style","marginLeft","autoComplete","onClick","width","overlayStore","showOverlay","allPictures","selected","setShowOverlay","changeSelected","next","maxSelectable","console","log","setSelected","a","findIndex","pic","index","setAllPictures","makeObservable","this","observable","action","PictureThumb","mouseHoverHandler","hover","element","picture","visibility","opacity","filter","onMouseEnter","onMouseLeave","tags","src","url_thumb","alt","FullscreenOutlined","userStore","favorites","addToFavorite","push","deleteFromFavorite","pictureId","splice","GalleryOverlay","observer","throttling","useRef","isFavorite","closeButton","doubleClickHandler","heart","unheart","fontSize","keyDownHandler","nextButton","previousButton","current","backgroundColor","LeftOutlined","RightOutlined","CloseOutlined","onDoubleClick","role","aria-label","HeartFilled","url_med","JSON","parse","map","tag","getPicturesPerPage","pageNumber","pageSize","requestBody","axios","url","process","method","data","response","status","Error","Gallery","isLoading","setIsLoading","pictures","setPictures","lastPageReached","fetchPictures","Promise","all","image","resolve","reject","loadImg","Image","onload","onerror","err","nextPageHandler","nextPage","previousPage","scroll","direction","scrollToPositionY","eightyPerCentOfHeight","window","innerHeight","scrollPositionY","scrollY","Math","top","left","behavior","LoadingOutlined","reload","capitalizeFirstLetter","string","undefined","charAt","toUpperCase","slice","getTags","postTag","tag_name","patchPicture","stringify","deletePicture","EditDrawer","setTags","allTags","setAllTags","confirmDelete","setConfirmDelete","Option","Select","fetchAllTags","fetchedTags","hideDrawer","needReload","setShowUploader","setShowDrawer","handleTagChange","valueCleaned","oldTag","submitHandler","newTag","deleteHandler","title","placement","closable","onClose","visible","showDrawer","maxWidth","maxHeight","mode","allowClear","onChange","defaultValue","SaveOutlined","DeleteOutlined","QuestionOutlined","EditPictures","showEdit","setShowEdit","totalMissingTag","EditOutlined","size","height","postPicture","file","formData","FormData","append","post","getDuplicate","name","getTagsMissing","limit","getTagsMissingCountAll","count","Uploader","isUploading","setIsUploading","isDragDroping","setIsDragDroping","picsTagsMissing","setPicsTagsMissing","showUploader","uploadProgress","setUploadProgress","setLimit","missingCountAll","setMissingCountAll","fileSelectHandler","files","split","notification","warning","message","description","fetchPicsTagsMissing","fetchTagsMissingCountAll","calculateMissingTagPicLimit","pageWidth","innerWidth","pageHeight","missingPicContainerWidth","floor","missingPicContainerHeight","numOfPicFittingInContainer","result","handleDrop","stopPropagation","objectOfFiles","dataTransfer","numberOfFiles","i","onSubmit","type","htmlFor","onDrop","onDragOver","handleDragOver","onDragEnter","handleDragEnter","onDragLeave","handleDragLeave","FileAddOutlined","PictureOutlined","App","access","setAccess","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9c0b4313.chunk.js","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\n\nimport \"./PinInput.css\";\n\nexport const PinInput = (props) => {\n  const [lastFiledInput, setLastFiledInput] = useState(1);\n\n  // TODO: \n  // alert(window.navigator.userAgent)\n  // https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n  // touchdevice\n\n  const keyDownListener = useCallback((event) => {\n    event.preventDefault();\n    const keyPressed = event.key.toLowerCase();\n    if (keyPressed === \"backspace\") {\n      if (lastFiledInput > 1) {\n        document.getElementById(lastFiledInput - 1).value = \"\";\n        setLastFiledInput(lastFiledInput - 1);\n      }\n    } else if (keyPressed.length > 1) {\n      // console.log(keyPressed);\n    } else {\n      document.getElementById(lastFiledInput).value = keyPressed;\n      setLastFiledInput(lastFiledInput + 1);\n      if (lastFiledInput + 1 === 7) {\n        setLastFiledInput(1);\n        const code =\n          document.getElementById(1).value +\n          document.getElementById(2).value +\n          document.getElementById(3).value +\n          document.getElementById(4).value +\n          document.getElementById(5).value +\n          document.getElementById(6).value;\n        setTimeout(() => {\n          document.getElementById(1).focus();\n          document.getElementById(1).value = \"\";\n          document.getElementById(2).value = \"\";\n          document.getElementById(3).value = \"\";\n          document.getElementById(4).value = \"\";\n          document.getElementById(5).value = \"\";\n          document.getElementById(6).value = \"\";\n          setLastFiledInput(1);\n          props.login(code);\n        }, 500);\n      }\n    }\n  });\n\n  const clickHandler = (e) => {\n    const inputID = parseInt(e.target.id, 10);\n    let lastInputWithData = lastFiledInput;\n    if (document.getElementById(1).value === \"\") {\n      lastInputWithData = 1;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(2).value === \"\") {\n      lastInputWithData = 2;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(3).value === \"\") {\n      lastInputWithData = 3;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(4).value === \"\") {\n      lastInputWithData = 4;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(5).value === \"\") {\n      lastInputWithData = 5;\n      setLastFiledInput(lastInputWithData);\n    } else if (document.getElementById(6).value === \"\") {\n      lastInputWithData = 6;\n      setLastFiledInput(lastInputWithData);\n    }\n    document.getElementById(inputID).blur();\n    document.getElementById(lastInputWithData).focus();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownListener);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownListener);\n    };\n  }, [keyDownListener]);\n\n  return (\n    <div>\n      <form>\n        <input\n          id=\"1\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          style={{ marginLeft: \"20px\" }}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"2\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"3\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"4\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"5\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          autoComplete=\"new-password\"\n        />\n        <input\n          id=\"6\"\n          className=\"PinInput__input\"\n          placeholder=\"_\"\n          maxLength=\"1\"\n          min=\"1\"\n          max=\"1\"\n          onClick={clickHandler}\n          style={{ width: \"40px\" }}\n          autoComplete=\"new-password\"\n        />\n      </form>\n    </div>\n  );\n};\n","import { action, makeObservable, observable } from \"mobx\";\n\nexport class OverlayStore {\n  showOverlay = false;\n  allPictures = [];\n  selected = null;\n\n  constructor() {\n    makeObservable(this, {\n      showOverlay: observable,\n      selected: observable,\n      allPictures: observable,\n      setShowOverlay: action,\n      setSelected: action,\n      setAllPictures: action,\n      changeSelected: action,\n    });\n  }\n\n  setShowOverlay = (showOverlay) => {\n    this.showOverlay = showOverlay;\n  };\n\n  changeSelected = (next) => {\n    const selected = this.selected;\n    const maxSelectable = this.allPictures.length - 1;\n    if (next) {\n      if (selected === maxSelectable) {\n        //TODO\n        console.log(\"Last one of the batch\");\n      } else {\n        this.selected = selected + 1;\n      }\n    } else {if (selected === 0) {\n        //TODO\n        console.log(\"First one of the batch\");\n      } else {\n      this.selected = selected - 1;\n      }\n    }\n  };\n\n  setSelected = async (selected) => {\n    const index = await this.allPictures.findIndex(\n      (pic) => pic.id === selected.id\n    );\n    this.selected = index;\n  };\n\n  setAllPictures = (allPictures) => {\n    this.allPictures = allPictures;\n  };\n}\n\nexport const overlayStore = new OverlayStore();\n","import React, { Fragment } from \"react\";\nimport { FullscreenOutlined } from \"@ant-design/icons\";\n\nimport { overlayStore } from \"../../store/overlayStore\";\nimport \"./PictureThumb.css\";\n\nexport const PictureThumb = (props) => {\n  const mouseHoverHandler = (hover) => {\n    const element = document.getElementById(`tag_${props.picture.id}`);\n    const picture = document.getElementById(`pic_${props.picture.id}`);\n    if (hover) {\n      element.style.visibility = \"visible\";\n      element.style.opacity = 1;\n      picture.style.filter = \"brightness(50%) grayscale(1)\";\n    } else {\n      element.style.visibility = \"hidden\";\n      element.style.opacity = 0;\n      picture.style.filter = \"brightness(100%) grayscale(0)\";\n    }\n  };\n\n  const clickHandler = () => {\n    overlayStore.setShowOverlay(true);\n    overlayStore.setSelected(props.picture);\n  };\n\n  return (\n    <Fragment>\n      <div\n        className=\"picture__container\"\n        onClick={clickHandler}\n        onMouseEnter={() => mouseHoverHandler(true)}\n        onMouseLeave={() => mouseHoverHandler(false)}\n      >\n        <img\n          id={`pic_${props.picture.id}`}\n          className={`picture ${!props.picture.tags && \"picture__bluryGray\"}`}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          key={props.picture.id}\n        />\n        <div className=\"picture__tagMissing\">\n          {!props.picture.tags && \"TAGS MISSING\"}\n        </div>\n        <div id={`tag_${props.picture.id}`} className=\"picture__tagShow\">\n          <FullscreenOutlined />\n          <div className=\"picture__id\">#{props.picture.id}</div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n","import { action, makeObservable, observable } from \"mobx\";\n\nexport class UserStore {\n\n  favorites = [];\n\n  constructor() {\n    makeObservable(this, {\n      favorites: observable,\n      addToFavorite: action,\n      deleteFromFavorite: action,\n    });\n  }\n  \n  addToFavorite = (id) => {\n    this.favorites.push(id);\n  };\n  \n  deleteFromFavorite = (id) => {\n    const index = this.favorites.findIndex((pictureId) => pictureId === id);\n    this.favorites.splice(index, 1);\n  };\n\n}\n\nexport const userStore = new UserStore();\n","import React, { Fragment, useCallback, useEffect, useRef } from \"react\";\nimport {\n  LeftOutlined,\n  RightOutlined,\n  CloseOutlined,\n  HeartFilled,\n} from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { overlayStore } from \"../../store/overlayStore\";\nimport { userStore } from \"../../store/userStore\";\n\nimport \"./GalleryOverlay.css\";\n\nexport const GalleryOverlay = observer((props) => {\n  const throttling = useRef(false);\n  const selected = overlayStore.allPictures[overlayStore.selected];\n  const indexInSelected = userStore.favorites.findIndex(\n    (pictureId) => pictureId === selected.id\n  );\n  const isFavorite = indexInSelected >= 0;\n\n  const mouseHoverHandler = (hover) => {\n    const closeButton = document.getElementById(`closeButton`);\n    if (hover) {\n      closeButton.style.visibility = \"hidden\";\n      closeButton.style.opacity = 0;\n    } else {\n      closeButton.style.visibility = \"visible\";\n      closeButton.style.opacity = 1;\n    }\n  };\n\n  const doubleClickHandler = (id) => {\n    const heart = document.getElementById(`heart`);\n    const unheart = document.getElementById(`unheart`);\n    if (!isFavorite) {\n      heart.style.visibility = \"visible\";\n      heart.style.opacity = 0.5;\n      heart.style.fontSize = \"50em\";\n      setTimeout(() => {\n        heart.style.visibility = \"hidden\";\n        heart.style.opacity = 0;\n        heart.style.fontSize = \"1em\";\n      }, 500);\n      userStore.addToFavorite(id);\n    } else {\n      unheart.style.visibility = \"visible\";\n      unheart.style.opacity = 0.5;\n      unheart.style.fontSize = \"30em\";\n      setTimeout(() => {\n        unheart.style.visibility = \"hidden\";\n        unheart.style.opacity = 0;\n        unheart.style.fontSize = \"1em\";\n      }, 500);\n      userStore.deleteFromFavorite(id);\n    }\n  };\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      event.preventDefault();\n      const keyPressed = event.key.toLowerCase();\n      const nextButton = document.getElementById(`nextButton`);\n      const previousButton = document.getElementById(`previousButton`);\n      if (throttling.current === false) {\n        throttling.current = true;\n        if (keyPressed === \"arrowdown\" || keyPressed === \"arrowright\") {\n          nextButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          overlayStore.changeSelected(true);\n          setTimeout(() => {\n            nextButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (keyPressed === \"arrowup\" || keyPressed === \"arrowleft\") {\n          previousButton.style.backgroundColor = \"rgba(255,255,255,.15)\";\n          overlayStore.changeSelected(false);\n          setTimeout(() => {\n            previousButton.style.backgroundColor = \"rgba(255,255,255, 0)\";\n          }, 100);\n        } else if (keyPressed === \"enter\") {\n          doubleClickHandler(selected.id);\n        } else if (keyPressed === \"escape\") {\n          overlayStore.setShowOverlay(false);\n        }\n        setTimeout(() => {\n          throttling.current = false;\n        }, 100);\n      }\n    },\n    [selected, doubleClickHandler]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <div className=\"gallery__overlay\">\n      <div\n        className=\"gallery__background\"\n        onClick={() => {\n          overlayStore.setShowOverlay(false);\n        }}\n      ></div>\n      <div\n        className=\"gallery__columnLeft\"\n        id=\"previousButton\"\n        onClick={() => {\n          overlayStore.changeSelected(false);\n        }}\n      >\n        <LeftOutlined />\n      </div>\n      <div\n        className=\"gallery__columnRight\"\n        id=\"nextButton\"\n        onMouseEnter={() => mouseHoverHandler(true)}\n        onMouseLeave={() => mouseHoverHandler(false)}\n        onClick={() => {\n          overlayStore.changeSelected(true);\n        }}\n      >\n        <RightOutlined />\n      </div>\n      <div\n        className=\"gallery__closeButton\"\n        id=\"closeButton\"\n        onClick={() => {\n          overlayStore.setShowOverlay(false);\n        }}\n      >\n        <CloseOutlined />\n      </div>\n\n      <div\n        className=\"gallery__pictureContainer\"\n        onDoubleClick={() => {\n          doubleClickHandler(selected.id);\n        }}\n      >\n        <div className=\"gallery__infoAction\">\n          {selected && <div className=\"gallery__info\">#{selected.id}</div>}\n          <div className=\"gallery__action\">\n            {isFavorite ? (\n              <Fragment>\n                <span\n                  role=\"img\"\n                  aria-label=\"heart\"\n                  style={{ fontSize: \".75em\" }}\n                >\n                  ❤️\n                </span>{\" \"}\n                Marked as favorite!\n              </Fragment>\n            ) : (\n              \"Doubleclick/Enter to mark as favorite.\"\n            )}\n          </div>\n        </div>\n        <div className=\"gallery__pictureHover\">\n          <div className=\"gallery__pictureWatermark\">KINKOGRAPH</div>\n          <HeartFilled id=\"heart\" className=\"gallery__heart\" />\n          <CloseOutlined id=\"unheart\" className=\"gallery__heart\" />\n        </div>\n        {selected && (\n          <img\n            className=\"gallery__picture\"\n            src={selected.url_med}\n            alt={selected.id}\n            key={selected.id}\n          />\n        )}\n        {selected && (\n          <div className=\"gallery__tags\">\n            {JSON.parse(selected.tags).map((tag) => (\n              <Fragment>\n                <span>#{tag}</span>&nbsp;\n              </Fragment>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n","import axios from \"axios\";\n\nexport const getPictures = async (limit, showMissing) => {\n\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/all/${limit}/${showMissing}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getPicturesPerPage = async (pageNumber, pageSize) => {\n\n  const requestBody = {\n    \"pageNumber\": pageNumber,\n    \"pageSize\": pageSize,\n};\n\n  const response = await axios({\n      url: process.env.REACT_APP_API_URL + `/pictures/page`,\n      method: \"POST\",\n      data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useCallback,\n  Fragment,\n} from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { observer } from \"mobx-react\";\n\nimport { overlayStore } from \"../../store/overlayStore\";\nimport { PictureThumb } from \"../../component/PictureThumb/PictureThumb\";\nimport { GalleryOverlay } from \"../../component/GalleryOverlay/GalleryOverlay\";\nimport { getPicturesPerPage } from \"./getPictures\";\n\nimport \"./Gallery.css\";\n\nconst PAGE_SIZE = 100;\n\nexport const Gallery = observer(() => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [pictures, setPictures] = useState([]);\n  const throttling = useRef(false);\n  const pageNumber = useRef(1);\n  const lastPageReached = useRef(false);\n\n  const loadImage = (image) => {\n    return new Promise((resolve, reject) => {\n      const loadImg = new Image();\n      loadImg.src = image.url_thumb;\n      loadImg.onload = () => resolve(image.url);\n      loadImg.onerror = (err) => reject(err);\n    });\n  };\n\n  const fetchPictures = useCallback(async () => {\n    try {\n      const pictures = await getPicturesPerPage(pageNumber.current, PAGE_SIZE);\n      if (pictures.length < PAGE_SIZE) {\n        lastPageReached.current = true;\n      } else {\n        lastPageReached.current = false;\n      }\n      await Promise.all(pictures.map((picture) => loadImage(picture)));\n      overlayStore.setAllPictures(pictures);\n      setPictures(pictures);\n    } catch (err) {\n      console.log(err);\n    }\n    setIsLoading(false);\n  }, [getPicturesPerPage]);\n\n  useEffect(() => {\n    fetchPictures();\n  }, [fetchPictures]);\n\n  const nextPageHandler = (next) => {\n    setIsLoading(true);\n    if (next) {\n      const nextPage = pageNumber.current + 1;\n      pageNumber.current = nextPage;\n      fetchPictures(nextPage);\n    } else {\n      const previousPage = pageNumber.current - 1;\n      pageNumber.current = previousPage;\n      fetchPictures(previousPage);\n    }\n  };\n\n  const scroll = (direction) => {\n    const eightyPerCentOfHeight = window.innerHeight * 0.8;\n    const scrollPositionY = window.scrollY;\n    let scrollToPositionY;\n    if (direction === \"down\") {\n      scrollToPositionY = scrollPositionY + eightyPerCentOfHeight;\n    } else if (direction === \"up\") {\n      scrollToPositionY = Math.max(scrollPositionY - eightyPerCentOfHeight, 0);\n    }\n    window.scroll({\n      top: scrollToPositionY,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  const keyDownHandler = useCallback(\n    (event) => {\n      if (!overlayStore.showOverlay) {\n        event.preventDefault();\n        const keyPressed = event.key.toLowerCase();\n        if (throttling.current === false) {\n          throttling.current = true;\n          if (keyPressed === \"arrowright\" && !lastPageReached.current) {\n            nextPageHandler(true);\n          } else if (keyPressed === \"arrowleft\" && pageNumber.current > 1) {\n            nextPageHandler(false);\n          } else if (keyPressed === \"arrowdown\") {\n            scroll(\"down\");\n          } else if (keyPressed === \"arrowup\") {\n            scroll(\"up\");\n          }\n          setTimeout(() => {\n            throttling.current = false;\n          }, 100);\n        }\n      }\n    },\n    [scroll]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keyDownHandler);\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n    };\n  }, [keyDownHandler]);\n\n  return (\n    <div>\n      {isLoading ? (\n        <div className=\"App__flex\">\n          <LoadingOutlined className=\"Gallery__spinner\" />\n          <div className=\"gallery__spinnerText\">loading</div>\n        </div>\n      ) : (\n        <Fragment>\n          {overlayStore.showOverlay && <GalleryOverlay />}\n          <div className=\"gallery\">\n            <div className=\"gallery__main\">\n              {pictures.map((picture, index) => {\n                return (\n                  <PictureThumb\n                    picture={picture}\n                    reload={fetchPictures}\n                    key={picture.id}\n                  />\n                );\n              })}\n            </div>\n            <div className=\"gallery__next\">\n              <div className=\"gallery__nextTextContainer\">\n                {pageNumber.current === 1 ? (\n                  \"Previous\"\n                ) : (\n                  <span\n                    className=\"gallery__nextText\"\n                    onClick={() => nextPageHandler(false)}\n                  >\n                    Previous\n                  </span>\n                )}\n                {\" | \"}\n                {lastPageReached.current ? (\n                  \"Next\"\n                ) : (\n                  <span\n                    className=\"gallery__nextText\"\n                    onClick={() => nextPageHandler(true)}\n                  >\n                    Next\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </div>\n  );\n});\n\n/*\n<div className=\"item item__landscape\">item__landscape</div>\n<div className=\"item item__square\">item__square</div>\n<div className=\"item item__portrait\">item__portrait</div>\n*/\n","\n  export function capitalizeFirstLetter(string) {\n      if (string === undefined || string === null) {\n          return null;\n      }\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }","import axios from \"axios\";\n\nexport const getTags = async () => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"GET\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const postTag = async (tag_name) => {\n\n    const requestBody = {\n        \"tag_name\": tag_name,\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/tags/`,\n        method: \"POST\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const patchPicture = async (tags, id) => {\n\n    const requestBody = {\n        \"tags\": JSON.stringify(tags)\n    };\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${id}`,\n        method: \"PATCH\",\n        data: requestBody,\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import axios from \"axios\";\n\nexport const deletePicture = async (key) => {\n\n    const response = await axios({\n        url: process.env.REACT_APP_API_URL + `/pictures/${key}`,\n        method: \"DELETE\",\n    });\n\n    if ((response.status !== 200) & (response.status !== 201)) {\n        if (response.status === 401) {\n            throw new Error(`Error! Unauthorized(401)`);\n        } else {\n            throw new Error(`Error! Status ${response.status}`);\n        }\n    }\n\n    return response.data;\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport { Drawer, Select } from \"antd\";\nimport {\n  SaveOutlined,\n  DeleteOutlined,\n  QuestionOutlined,\n} from \"@ant-design/icons\";\n\nimport { capitalizeFirstLetter } from \"../../helpers/capitalizeFirstLetter\";\nimport { getTags } from \"./getTags\";\nimport { postTag } from \"./postTag\";\nimport { patchPicture } from \"./patchPicture\";\nimport { deletePicture } from \"./deletePicture\";\n\nimport \"./EditDrawer.css\";\n\nexport const EditDrawer = (props) => {\n  const [tags, setTags] = useState([]);\n  const [allTags, setAllTags] = useState([]);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const { Option } = Select;\n\n  const fetchAllTags = useCallback(async () => {\n    try {\n      const fetchedTags = await getTags();\n      setAllTags(fetchedTags);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  const hideDrawer = (needReload) => {\n    props.setShowUploader && props.setShowUploader(true);\n    props.setShowDrawer(false);\n    if (needReload) {\n      props.reload();\n    }\n  };\n\n  useEffect(() => {\n    fetchAllTags();\n    if (JSON.parse(props.picture.tags) !== null) {\n      setTags(JSON.parse(props.picture.tags));\n    }\n  }, [fetchAllTags]);\n\n  const handleTagChange = useCallback(async (value) => {\n    const valueCleaned = value.map((oldTag) => {\n      return capitalizeFirstLetter(oldTag);\n    });\n    setTags(valueCleaned);\n  }, []);\n\n  const submitHandler = useCallback(async () => {\n    if (tags.length > 0) {\n      //Add new Tags to db\n      await tags.map(async (newTag) => {\n        const index = allTags.findIndex(\n          (tag) => tag === capitalizeFirstLetter(newTag)\n        );\n        if (index < 0) {\n          //New Tag not found in db\n          const result = await postTag(newTag);\n          if (result.value === \"success\") {\n            console.log(`${newTag} was added to the lists of tags.`);\n          }\n        }\n        return undefined;\n      });\n      //Path picture\n      await patchPicture(tags, props.picture.id);\n      hideDrawer(true);\n    }\n  }, [tags, allTags, patchPicture, postTag]);\n\n  const deleteHandler = useCallback(\n    async (key) => {\n      if (confirmDelete === true) {\n        //Path picture\n        await deletePicture(key);\n        hideDrawer(true);\n      } else {\n        setConfirmDelete(true);\n        setTimeout(() => {\n          setConfirmDelete(false);\n        }, 2000);\n      }\n    },\n    [confirmDelete, deletePicture]\n  );\n\n  return (\n    <Drawer\n      title={\n        <span className=\"Drawer__Title\">\n          Edit picture id #{props.picture.id}\n        </span>\n      }\n      placement=\"left\"\n      closable={true}\n      onClose={() => hideDrawer(false)}\n      visible={props.showDrawer}\n      key={`drawer${props.picture.id}`}\n      width=\"42.5%\"\n    >\n      <div className=\"Drawer__font\">Preview:</div>\n      <img\n        className=\"Drawer_picture\"\n        src={props.picture.url_med}\n        alt={props.picture.id}\n        key={props.picture.id}\n        style={{ maxWidth: \"100%\", maxHeight: window.innerHeight / 2.5 }}\n      />\n      <br />\n      <br />\n      <div className=\"Drawer__font\">Tags:</div>\n      <Select\n        mode=\"tags\"\n        allowClear={false}\n        style={{ width: \"100%\" }}\n        placeholder=\"Add some tags\"\n        onChange={handleTagChange}\n        defaultValue={\n          props.picture.tags !== null\n            ? JSON.parse(props.picture.tags)\n            : undefined\n        }\n      >\n        {allTags.map((tag) => {\n          return (\n            <Option key={capitalizeFirstLetter(tag.tag_name)}>\n              {capitalizeFirstLetter(tag.tag_name)}\n            </Option>\n          );\n        })}\n      </Select>\n      <br />\n      <br />\n      <div className=\"Drawer__buttonContainer\">\n        <div\n          className={\n            tags.length < 1 ? \"Drawer__buttonDisabled\" : \"Drawer__button\"\n          }\n          onClick={submitHandler}\n        >\n          <SaveOutlined /> &nbsp; Save\n        </div>\n        <div\n          className={\n            confirmDelete ? \"Drawer__buttonConfirmAction\" : \"Drawer__button\"\n          }\n          onClick={() => deleteHandler(props.picture.key)}\n        >\n          {confirmDelete ? (\n            <Fragment>\n              <DeleteOutlined /> ARE YOU SURE\n              <QuestionOutlined />\n            </Fragment>\n          ) : (\n            <Fragment>\n              <DeleteOutlined />\n              &nbsp; Delete\n            </Fragment>\n          )}\n        </div>\n      </div>\n    </Drawer>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { EditOutlined } from \"@ant-design/icons\";\n\nimport { EditDrawer } from \"../../../component/EditDrawer/EditDrawer\";\n\nimport \"./EditPictures.css\";\n\nexport const EditPictures = (props) => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [showDrawer, setShowDrawer] = useState(false);\n\n  const mouseHoverHandler = (hover) => {\n    if (props.totalMissingTag === null) {\n      setShowEdit(hover);\n      const element = document.getElementById(props.picture.id);\n      if (hover) {\n        element.style.filter = \"brightness(50%) blur(2px)\";\n      } else {\n        element.style.filter = \"brightness(100%) blur(0px)\";\n      }\n    }\n  };\n\n  const clickHandler = () => {\n    setTimeout(function () {\n      props.setShowUploader(false);\n    }, 300);\n    setShowDrawer(true);\n  };\n\n  return (\n    <Fragment>\n      <EditDrawer\n        picture={props.picture}\n        showDrawer={showDrawer}\n        setShowDrawer={setShowDrawer}\n        reload={props.reload}\n        setShowUploader={props.setShowUploader}\n      />\n      <div className=\"EditPictures__missingPicture\">\n        {props.totalMissingTag === null ? (\n          showEdit && (\n            <div\n              className=\"EditPictures__missingPictureOverText\"\n              onMouseEnter={() => mouseHoverHandler(true)}\n              onMouseLeave={() => mouseHoverHandler(false)}\n              onClick={clickHandler}\n            >\n              <EditOutlined />\n            </div>\n          )\n        ) : (\n          <div className=\"EditPictures__missingPictureRest\">\n            +{props.totalMissingTag}\n          </div>\n        )}\n        <img\n          className={props.totalMissingTag && \"EditPictures__bluryGray\"}\n          id={props.picture.id}\n          src={props.picture.url_thumb}\n          alt={props.picture.id}\n          width={props.size}\n          height={props.size}\n          onMouseEnter={() => mouseHoverHandler(true)}\n          onMouseLeave={() => mouseHoverHandler(false)}\n          onClick={clickHandler}\n        />\n      </div>\n    </Fragment>\n  );\n};\n","import axios from \"axios\";\n\nexport const postPicture = async (file) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n        await axios.post(process.env.REACT_APP_API_URL_UPLOAD, formData)\n        return \"success\"\n        //console.log('Success!', res.data);\n    } catch (err) {\n        console.log(err)\n        return \"error\"\n    }\n} ","import axios from \"axios\";\n\nexport const getDuplicate = async (name) => {\n\n  let requestBody = {\n    \"name\": name,\n  };\n\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/duplicate`,\n    method: \"POST\",\n    data: requestBody,\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};","import axios from \"axios\";\n\nexport const getTagsMissing = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissing/${limit}`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  return response.data;\n\n};\n\nexport const getTagsMissingCountAll = async (limit) => {\n  const response = await axios({\n    url: process.env.REACT_APP_API_URL + `/pictures/tagsmissingcount/`,\n    method: \"GET\",\n  });\n\n  if ((response.status !== 200) & (response.status !== 201)) {\n    if (response.status === 401) {\n      throw new Error(`Error! Unauthorized(401)`);\n    } else {\n      throw new Error(`Error! Status ${response.status}`);\n    }\n  }\n\n  //console.log(response.data[0].count);\n  return response.data[0].count;\n\n};","import React, { useState, useEffect, useCallback, Fragment } from \"react\";\nimport {\n  PictureOutlined,\n  LoadingOutlined,\n  FileAddOutlined,\n} from \"@ant-design/icons\";\nimport { notification } from \"antd\";\n\nimport { EditPictures } from \"./EditPictures/EditPictures\";\nimport { postPicture } from \"./postPicture\";\nimport { getDuplicate } from \"./getDuplicate\";\nimport { getTagsMissing, getTagsMissingCountAll } from \"./getTagsMissing\";\n\nimport \"./Uploader.css\";\n\nconst SIZE_PICTURE_MISSING_TAG = 150;\n\nexport const Uploader = () => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [isDragDroping, setIsDragDroping] = useState(false);\n  const [picsTagsMissing, setPicsTagsMissing] = useState([]);\n  const [showUploader, setShowUploader] = useState(true);\n  const [uploadProgress, setUploadProgress] = useState([0, 0]);\n  const [limit, setLimit] = useState(undefined);\n  const [missingCountAll, setMissingCountAll] = useState(null);\n\n  const fileSelectHandler = useCallback(async (event) => {\n    setIsUploading(true);\n    if (event.target.files[0]) {\n      const name = event.target.files[0].name.split(\".\")[0];\n      const alreadyIn = await getDuplicate(name);\n      if (alreadyIn.length === 0) {\n        await submitHandler(event.target.files[0]);\n      } else {\n        notification.warning({\n          message: `Duplicate? `,\n          description: `There is already a file named '${event.target.files[0].name}'`,\n        });\n      }\n    }\n    setIsUploading(false);\n    setTimeout(() => {\n      fetchPicsTagsMissing(limit);\n    }, 500);\n  }, []);\n\n  const fetchTagsMissingCountAll = useCallback(async () => {\n    try {\n      const count = await getTagsMissingCountAll();\n      const countMinusLimit = count - limit;\n      setMissingCountAll(countMinusLimit);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [limit, getTagsMissingCountAll]);\n\n  const fetchPicsTagsMissing = useCallback(async () => {\n    try {\n      const limit = await calculateMissingTagPicLimit();\n      const picsTagsMissing = await getTagsMissing(limit);\n      await fetchTagsMissingCountAll();\n      setPicsTagsMissing(picsTagsMissing);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [limit, fetchTagsMissingCountAll]);\n\n  const calculateMissingTagPicLimit = useCallback(() => {\n    const pageWidth = window.innerWidth;\n    const pageHeight = window.innerHeight;\n    const missingPicContainerWidth = Math.floor(pageWidth * 0.4);\n    const missingPicContainerHeight = Math.floor(pageHeight * (1 - 0.25));\n    const numOfPicFittingInContainer =\n      Math.floor(missingPicContainerWidth / (SIZE_PICTURE_MISSING_TAG + 34)) *\n      Math.floor(missingPicContainerHeight / (SIZE_PICTURE_MISSING_TAG + 30));\n    setLimit(numOfPicFittingInContainer);\n    return numOfPicFittingInContainer;\n  }, []);\n\n  useEffect(() => {\n    fetchPicsTagsMissing();\n    window.addEventListener(\"resize\", calculateMissingTagPicLimit);\n    return () => {\n      window.removeEventListener(\"resize\", calculateMissingTagPicLimit);\n    };\n  }, [fetchPicsTagsMissing, calculateMissingTagPicLimit]);\n\n  const submitHandler = useCallback(async (file) => {\n    const result = await postPicture(file);\n    notification[result]({\n      message: `Upload ${result}`,\n      description: `File: ${file.name}`,\n    });\n  }, []);\n\n  const handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(true);\n  };\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragDroping(false);\n  };\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const objectOfFiles = e.dataTransfer.files;\n    const numberOfFiles = objectOfFiles.length;\n    setUploadProgress([0, numberOfFiles]);\n    for (let i = 0; i < numberOfFiles; i++) {\n      setIsUploading(true);\n      setUploadProgress([i, numberOfFiles]);\n      if (objectOfFiles[i]) {\n        const file = objectOfFiles[i];\n        const name = file.name.split(\".\")[0];\n        const alreadyIn = await getDuplicate(name);\n        if (alreadyIn.length === 0) {\n          await submitHandler(file);\n        } else {\n          notification.warning({\n            message: `Duplicate? `,\n            description: `There is already a file named '${name}'`,\n          });\n        }\n      }\n    }\n    setUploadProgress([0, 0]);\n    setIsUploading(false);\n    setTimeout(() => {\n      fetchPicsTagsMissing(limit);\n    }, 1000);\n  };\n\n  return (\n    <div className=\"Uploader__container\">\n      <div className=\"Uploader__formContainer\">\n        {showUploader && (\n          <div\n            className=\"Uploader__formContent\"\n            style={\n              picsTagsMissing.length ? { width: \"50vw\" } : { width: \"100vw\" }\n            }\n          >\n            <form onSubmit={submitHandler}>\n              <input\n                type=\"file\"\n                className=\"inputfile\"\n                name=\"inputfile\"\n                id=\"file\"\n                onChange={fileSelectHandler}\n              />\n              {isUploading ? (\n                <label\n                  htmlFor=\"file\"\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  <LoadingOutlined className=\"Uploader__spinner\" />\n                  {uploadProgress[1] ? (\n                    <p className=\"form-upload-text\">\n                      {uploadProgress[0]} of {uploadProgress[1]}\n                    </p>\n                  ) : (\n                    <p className=\"form-upload-text\">Loading</p>\n                  )}\n                </label>\n              ) : (\n                <label\n                  htmlFor=\"file\"\n                  onDrop={handleDrop}\n                  onDragOver={(e) => handleDragOver(e)}\n                  onDragEnter={(e) => handleDragEnter(e)}\n                  onDragLeave={(e) => handleDragLeave(e)}\n                  style={\n                    picsTagsMissing.length\n                      ? { width: \"35vw\" }\n                      : { width: \"75vw\" }\n                  }\n                >\n                  {!isDragDroping ? (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <PictureOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Click, or drag here a file <br />\n                        <i>jpg and png file only</i>\n                      </p>\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <p className=\"form-upload-drag-icon\">\n                        <FileAddOutlined />\n                      </p>\n                      <p className=\"form-upload-hint\">\n                        Drop your files here <br />\n                        <i>Multiple files supported</i>\n                      </p>\n                      <p className=\"form-upload-text\"></p>\n                    </Fragment>\n                  )}\n                </label>\n              )}\n            </form>\n          </div>\n        )}\n      </div>\n      {picsTagsMissing.length > 0 && (\n        <div className=\"Uploader__missingContainer\">\n          <div className=\"Uploader__missingContent\">\n            {picsTagsMissing.map((picture, index) => {\n              return (\n                <EditPictures\n                  picture={picture}\n                  size={SIZE_PICTURE_MISSING_TAG}\n                  setShowUploader={setShowUploader}\n                  key={picture.id}\n                  reload={fetchPicsTagsMissing}\n                  totalMissingTag={index + 1 === limit ? missingCountAll : null}\n                />\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { Fragment, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { PinInput } from \"./component/PinInput/PinInput\";\nimport { Gallery } from \"./pages/Gallery/Gallery\";\nimport { Uploader } from \"./pages/Uploader/Uploader\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [access, setAccess] = useState(false);\n  const login = (code) => {\n    if (code === \"555666\") {\n      setAccess(true);\n    }\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"App__main\">\n          <Switch>\n            <Route path=\"/upload\">\n              <Uploader />\n            </Route>\n            <Route path=\"/\">\n              <div className=\"App__flex\">\n                {access ? (\n                  <Gallery />\n                ) : (\n                  <Fragment>\n                    <div className=\"App__title\">&nbsp;kinkograph</div>\n                    <PinInput login={login} />\n                    <div className=\"spacer\"></div>\n                  </Fragment>\n                )}\n              </div>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}