(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{135:function(e,t,r){},136:function(e,t,r){},166:function(e,t,r){},184:function(e,t,r){},187:function(e,t,r){},188:function(e,t,r){},189:function(e,t,r){},193:function(e,t,r){},194:function(e,t,r){},195:function(e,t,r){},196:function(e,t,r){},197:function(e,t,r){},198:function(e,t,r){},199:function(e,t,r){},200:function(e,t,r){},201:function(e,t,r){},202:function(e,t,r){},275:function(e,t,r){},276:function(e,t,r){},277:function(e,t,r){},278:function(e,t,r){},279:function(e,t,r){},282:function(e,t,r){},283:function(e,t,r){},284:function(e){e.exports=JSON.parse('{"login":{"newHere":"New here","signUp":"Sign up","member":"Already a member","login":"Login","emailNotVerifyYet":"Your email is not verified yet","checkPostBoxForVerificationLink":"Please check your email postbox for the verification link","clickToGetNewVerificationLink":"Click here to have us send you a brand new link to","verifyYourEmail":"verify your email","passwordIsIncorrect":"Password is incorrect","pleaseCheckPasswordOrUse":"Please check your password or use the","recoverPassword":"recover password","feature":"feature","loginto":"Log into","logintoAfter":"","password":"Password","pleaseInputEmail":"Please input your Email!","pleaseInputEmailOrUsername":"Please input your Email or your Username!","emailOrUsername":"Email or Username","pleaseInputPassword":"Please input your password!","rememberMe":"Remember me","logMeIn":"Log me in","recoverEmailSent":"We sent you an email with a link to recover your password!","recoverYourPassword":"Recover your password","emailDoesNotExist":"This email doesn\'t exist in our database!","sendPasswortResetEmail":"Send password reset email","iRememberNow":"It\'s okay, I remember now","emailVerified":"Your email have been verified","welcomeInOurCommunity":"Thank you and welcome in our community","goAheadAndLogin":"You can now go ahead and log yourself in","redirectedToThe":"You will be redirected to the","loginPage":"login page","emailNotVerified":"Your email could not be verified","somethingWrongEmail":"Something went wrong in the verification of the email linked to your account","whatCanYouDo":"What can you do? Go back to the","requestNewLink":"sign in, and follow the infos on how to request a new verification link","choosePassword":"Choose a password","pleaseInputYourPassword":"Please input your password!","confirmYourPassword":"Confirm your password","pleaseConfirmYourPassword":"Please confirm your password!","passwordsDoNotMatch":"The passwords do not match!","usernameIsAlreadyTaken":"This username is already taken!","alreadyTaken":"Already taken!","spacesinUsername":"You can\'t have spaces in your username.","doNotUseSpaces":"Do not use spaces","pleaseConfirmEmail":"We still need you to confirm your email: Please check your email box, there you be an email from us.","signinto":"Sign into","signintoAfter":"","yourInvitationCode":"Your invitation code","invitationRequiredCreateAccount":"An invitation is required to create a account","invitationCode":"Invitation code","firstNameMissing":"First name missing","firstName":"First name","lastNameMissing":"Last name missing","lastName":"Last name","howShouldWeCallYou":"How should we call you?","pickUsername":"Pick a username","pleaseAcceptTerms":"Please accept our terms & policies!","createAccount":"Create account","creatingAccountMeans":"Creating an account means you\u2019re okay with our","creatingAccountMeansAfter":".","termsService":"Terms of Service","privacyPolicy":"Privacy Policy","andDefault":" and our default","notificationSettings":"Notification Settings","passwordReseted":"Your password has been reset. You will be redirected to the login page.","passwordNotChanged":"Error! The password wasn\'t changed: Please try again.","linkNotValid":"This link is not valid. Please restart the password recovery process.","setNewPassword":"Set a new password","pleaseInputNewPassword":"Please input your new password!","chooseNewPassword":"Choose a new password","pleaseConfirmNewPassword":"Please confirm your new password!","passwordDoNotMatch":"The passwords do not match!","updatePassword":"Update password","linkNotValidAnymore":"Link not valid anymore.","usernameShouldNotBeAnEmail":"Your username should not be an email"}}')},285:function(e){e.exports=JSON.parse('{"login":{"newHere":"Erstes mal hier","signUp":"Zum Anmeldung","member":"Schon angemeldet","login":"Einlogen","emailNotVerifyYet":"Ihre email ist noch nicht best\xe4ttigt","checkPostBoxForVerificationLink":"bitte ihre email postfach pr\xfcfen f\xfcr den Email best\xe4ttigungslink","clickToGetNewVerificationLink":"Bitte hier klicken um eine neue link zu bekommen:","verifyYourEmail":"Email best\xe4ttigen","passwordIsIncorrect":"Passwort ist inkorrekt","pleaseCheckPasswordOrUse":"Bitte pr\xfcfen Sie Ihre Passwort, or nutzen sie die","recoverPassword":"Passwort vergessen","feature":"funktion","loginto":"Log dich bei","logintoAfter":"ein","password":"Passwort","pleaseInputEmail":"Bitte gebe dein Email ein.","pleaseInputEmailOrUsername":"Bitte gebe dein Email oder Benutzername ein.","emailOrUsername":"Email oder Benutzername","pleaseInputPassword":"Bitte gebe dein Passwort ein!","rememberMe":"Eingeloggt bleiben","logMeIn":"Einloggen","recoverEmailSent":"Einem email mit dem link um der Passwort zu wiedererstellen ist verschickt worden!","recoverYourPassword":"Passwort wiedererstellen","emailDoesNotExist":"Dieses Email w\xfcrde in unserem Datenbank nicht gefunden!","sendPasswortResetEmail":"Password wiedererstellungslink schicken","iRememberNow":"Alles klar, ich errinere mich","emailVerified":"Ihre Passwort w\xfcrde best\xe4tigt","welcomeInOurCommunity":"Danke schon in Willkomen in unserem Gemeinschaft","goAheadAndLogin":"Sie k\xf6nnen jetzt fortfahren und sich einloggen","redirectedToThe":"Sie werden weitergeleitet zum","loginPage":"Loginseite","emailNotVerified":"Ihre E-Mail konnte nicht best\xe4tigt werden","somethingWrongEmail":"Bei der \xdcberpr\xfcfung der mit Ihrem Konto verkn\xfcpften E-Mail ist ein Fehler aufgetreten","whatCanYouDo":"Was k\xf6nnen Sie tun? Gehen Sie zur\xfcck zum","choosePassword":"Passwort eingabe","pleaseInputYourPassword":"Bitte geben Sie Ihr Passwort ein!","confirmYourPassword":"Best\xe4tigen Sie Ihr Passwort","pleaseConfirmYourPassword":"Bitte best\xe4tigen Sie Ihr Passwort!","passwordsDoNotMatch":"Die Passw\xf6rter stimmen nicht \xfcberein!","usernameIsAlreadyTaken":"Dieser Benutzername ist bereits vergeben!","alreadyTaken":"Schon vergeben!","spacesinUsername":"Ihr Benutzername darf keine Leerzeichen enthalten.","doNotUseSpaces":"Keine Leerzeichen verwenden","pleaseConfirmEmail":"Wir brauchen Sie noch zur Best\xe4tigung Ihrer E-Mail: Bitte \xfcberpr\xfcfen Sie Ihr E-Mail-Postfach, dort finden Sie eine E-Mail von uns.","signinto":"Sich bei","signintoAfter":"Einloggen","yourInvitationCode":"Ihr Einladungscode","invitationRequiredCreateAccount":"Zum Erstellen eines Kontos ist eine Einladung erforderlich","invitationCode":"Einladungscode","firstNameMissing":"Vorname fehlt","firstName":"Vorname","lastNameMissing":"Nachname fehlt","lastName":"Nachname","howShouldWeCallYou":"Wie sollen wir Ihn nennen?","pickUsername":"W\xe4hlen Sie einen Benutzernamen","pleaseAcceptTerms":"Bitte akzeptieren Sie unsere Bedingungen und Richtlinien!","createAccount":"Benutzerkonto erstellen","creatingAccountMeans":"Ein Konto zu erstellen bedeutet, dass Sie mit unserem","creatingAccountMeansAfter":" einverstanden sind.","termsService":"Nutzungs-","privacyPolicy":"Datenschutz-","andDefault":" und unserem standard","notificationSettings":"Benachrichtigung-bedingungen","passwordReseted":"Dein Passwort wurde zur\xfcck gesetzt. Sie werden auf die Login-Seite weitergeleitet.","passwordNotChanged":"Fehler! Das Passwort wurde nicht ge\xe4ndert: Bitte versuchen Sie es erneut.","linkNotValid":"Dieser Link ist ung\xfcltig. Bitte starten Sie den Passwortwiederherstellungsprozess neu.","setNewPassword":"Geben Sie Ihr neues Passwort ein","pleaseInputNewPassword":"Bitte geben Sie Ihr neues Passwort ein!","chooseNewPassword":"W\xe4hlen Sie ein neues Passwort","pleaseConfirmNewPassword":"Bitte best\xe4tigen Sie Ihr neues Passwort!","passwordDoNotMatch":"Die Passw\xf6rter stimmen nicht \xfcberein!","updatePassword":"Passwort aktualisieren","linkNotValidAnymore":"Link ist nicht mehr g\xfcltig","usernameShouldNotBeAnEmail":"Der Benutzername darf kein email sein"}}')},286:function(e){e.exports=JSON.parse('{"login":{"newHere":"Premi\xe9re fois","signUp":"Cr\xe9er un compte","member":"D\xe9ja membre","login":"Se connecter","emailNotVerifyYet":"Votre email n\'est pas encore verifi\xe9e","checkPostBoxForVerificationLink":"Dans votre boite de reception ce trouve un email avec le lien de verification","clickToGetNewVerificationLink":"Cliquez ici pour recevoir un nouveau lien de","verifyYourEmail":"verification d\'email","passwordIsIncorrect":"Mot de passe incorrect","pleaseCheckPasswordOrUse":"Verifiez votre mot de passe ou utiisez la function","recoverPassword":"Mot de passe oubli\xe9","feature":"","loginto":"Connection \xe0","logintoAfter":"","password":"Mot de passe","pleaseInputEmail":"Entrez votre email","pleaseInputEmailOrUsername":"Entrez votre email ou nom d\'utilisateur.","emailOrUsername":"Email ou nom d\'utilisateur","pleaseInputPassword":"Saisissez votre password!","rememberMe":"Rester connect\xe9","logMeIn":"Connection","recoverEmailSent":"Un mail contenant le lien pour changer le mot de passe a \xe9t\xe9 envoy\xe9!","recoverYourPassword":"Changement de mot de passe","emailDoesNotExist":"Cet email n\'existe pas dans notre base de donn\xe9e!","sendPasswortResetEmail":"Envoyer le lien pour change le mot de passe","iRememberNow":"C\'est bon, je me rapelle","emailVerified":"Votre email est maintenant verifi\xe9.","welcomeInOurCommunity":"Merci, et bienvenue dans notre communaut\xe9","goAheadAndLogin":"Vous pouvez maintenant vous connecter","redirectedToThe":"Vous allez \xeatre redirig\xe9 vers la","loginPage":"page de connection","emailNotVerified":"Votre email n\'a pas pu \xeatre verifi\xe9","somethingWrongEmail":"Un erreure s\'est produite pendant la verification de l\'email li\xe9 a votre compte","whatCanYouDo":"Que faire? Retournez sur","requestNewLink":"connectez-vous, et suivez les infos donn\xe9 pour obtenir un nouveau lien de verification","choosePassword":"Choisissez un mot de passe","pleaseInputYourPassword":"Svp, saisissez votre mot de passe!","confirmYourPassword":"Confirmez votre mot de passe","pleaseConfirmYourPassword":"Svp, confirmez votre mot de passe!","passwordsDoNotMatch":"les mots de passe no concordent pas!","usernameIsAlreadyTaken":"Ce nom d\'utilisateur est d\xe9ja pris!","alreadyTaken":"D\xe9ja pris!","spacesinUsername":"Vous ne pouvez pas avoir d\'espaces dans votre nom d\'utlisateur","doNotUseSpaces":"N\'utlisez pas d\'espaces","pleaseConfirmEmail":"Votre email doit encore \xeatre verifi\xe9e: Svp, verifiez votre boite email, il devrait y avoir un email de notre part.","signinto":"Se connecter \xe0","signintoAfter":"","yourInvitationCode":"Votre code d\'invitation","invitationRequiredCreateAccount":"Une invitation est n\xe9cessaire pour cr\xe9er un compte","invitationCode":"Code d\'invitation","firstNameMissing":"Pr\xe9nom maquant","firstName":"Pr\xe9nom","lastNameMissing":"Nom de famille manquant","lastName":"Nom de famille","howShouldWeCallYou":"Comment devont nous vous apeller?","pickUsername":"Choisir un nom d\'utilisateur","pleaseAcceptTerms":"Svp, acceptez nos termes & conditions!","createAccount":"Cr\xe9er un compte","creatingAccountMeans":"En cr\xe9eant un compte vous accepter nos","creatingAccountMeansAfter":".","termsService":"Conditions de service","privacyPolicy":"Politique de confidentialit\xe9","andDefault":" et nos","notificationSettings":"Param\xe8tres de notification","passwordReseted":"Votre mot de passe a \xe9t\xe9 r\xe9initialis\xe9. Vous serez redirig\xe9 vers la page de connexion.","passwordNotChanged":"Erreur! Le mot de passe n\'a pas \xe9t\xe9 modifi\xe9: veuillez r\xe9essayer.","linkNotValid":"Ce lien n\'est pas valide. Veuillez red\xe9marrer le processus de r\xe9cup\xe9ration du mot de passe.","setNewPassword":"D\xe9finir un nouveau mot de passe","pleaseInputNewPassword":"Veuillez saisir votre nouveau mot de passe!","chooseNewPassword":"Choisissez un nouveau mot de passe","pleaseConfirmNewPassword":"Veuillez confirmer votre nouveau mot de passe!","passwordDoNotMatch":"Les mots de passe ne correspondent pas!","updatePassword":"Mettre \xe0 jour le mot de passe","linkNotValidAnymore":"Le lien n\'est plus valide","usernameShouldNotBeAnEmail":"Le nom d\'utilisateur ne doit pas \xeatre un email"}}')},287:function(e,t,r){},288:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(31),i=r.n(s),c=(r(166),r(11)),o=r(53),u=r(28),l=r(34),d=r(297),m=r(4),p=r.n(m),h=r(8),f=r(54),b=r(58),j=r(9),g=r(16),v=r.n(g),x=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/tags/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={filter:t},e.next=3,v()({url:"https://kinkograph.com/tags/filter",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com"+"/pictures/all/".concat(t,"/").concat(r),method:"GET"});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=9;break}if(401!==n.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(n.status));case 9:return e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n,a,s,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",a={pageNumber:t,pageSize:r,filter:n},e.next=4,v()({url:"https://kinkograph.com/pictures/page",method:"POST",data:a});case 4:if(!(200!==(s=e.sent).status&201!==s.status)){e.next=11;break}if(401!==s.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(s.status));case 11:return e.abrupt("return",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(p.a.mark((function e(){var t,r,n,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r={filter:t},e.next=4,v()({url:"https://kinkograph.com/pictures/total/",method:"POST",data:r});case 4:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=11;break}if(401!==n.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(n.status));case 11:return e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=new function e(){var t=this;Object(b.a)(this,e),this.PAGE_SIZE=100,this.pageNumber=1,this.totalPictures=0,this.selected=null,this.lastPageReached=!1,this.showOverlay=!1,this.isGalleryLoading=!0,this.galleryNeedsRefresh=!0,this.showFilterSelect=!1,this.isTagInputActive=!1,this.allPictures=[],this.tags=[],this.filter=[],this.fetchPictures=Object(h.a)(p.a.mark((function e(){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t.pageNumber,t.PAGE_SIZE,t.filter);case 3:return r=e.sent,e.next=6,_(t.filter);case 6:return n=e.sent,r.length<t.PAGE_SIZE?y.setLastPageReached(!0):y.setLastPageReached(!1),e.next=10,O(t.filter);case 10:return a=e.sent,e.next=13,Promise.all(r.map((function(e){return t=e,new Promise((function(e,r){var n=new Image;n.src=t.url_thumb,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}}));var t})));case 13:y.setTags(a),t.setAllPictures(r),t.setTotalPictures(n),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:y.setIsGalleryLoading(!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))),this.nextPageHandler=function(){var e=Object(h.a)(p.a.mark((function e(r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.setIsGalleryLoading(!0),!r){e.next=8;break}return n=t.pageNumber+1,t.pageNumber=n,e.next=6,t.fetchPictures(n);case 6:e.next=12;break;case 8:return a=t.pageNumber-1,t.pageNumber=a,e.next=12,t.fetchPictures(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.goToPageHandler=function(){var e=Object(h.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.setIsGalleryLoading(!0),t.pageNumber=parseInt(r),e.next=4,t.fetchPictures(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setPageNumber=function(e){t.pageNumber=e},this.setLastPageReached=function(e){t.lastPageReached=e},this.setShowOverlay=function(e){t.showOverlay=e},this.changeSelected=function(){var e=Object(h.a)(p.a.mark((function e(r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selected,a=t.allPictures.length-1,!r){e.next=12;break}if(n!==a){e.next=9;break}return e.next=6,t.nextPageHandler(!0);case 6:t.selected=0,e.next=10;break;case 9:t.selected=n+1;case 10:e.next=19;break;case 12:if(0!==n){e.next=18;break}return e.next=15,t.nextPageHandler(!1);case 15:t.selected=t.PAGE_SIZE-1,e.next=19;break;case 18:t.selected=n-1;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setSelected=function(){var e=Object(h.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.selected=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setAllPictures=function(e){t.allPictures=e},this.setTotalPictures=function(e){t.totalPictures=e},this.addFilter=function(){var e=Object(h.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter.push(r);case 2:y.setIsGalleryLoading(!0),y.setPageNumber(1),y.fetchPictures();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setFilter=function(e){t.filter=e,y.setIsGalleryLoading(!0),t.setPageNumber(1),y.fetchPictures()},this.setIsGalleryLoading=function(e){t.isGalleryLoading=e},this.setGalleryNeedsRefresh=function(e){t.galleryNeedsRefresh=e},this.setShowFilterSelect=function(e){t.showFilterSelect=e},this.setIsTagInputActive=function(e){t.isTagInputActive=e},this.setTags=function(e){t.tags=e},Object(j.m)(this,{pageNumber:j.n,setPageNumber:j.f,lastPageReached:j.n,setLastPageReached:j.f,showOverlay:j.n,setShowOverlay:j.f,selected:j.n,setSelected:j.f,changeSelected:j.f,allPictures:j.n,setAllPictures:j.f,totalPictures:j.n,setTotalPictures:j.f,filter:j.n,addFilter:j.f,setFilter:j.f,isGalleryLoading:j.n,setIsGalleryLoading:j.f,galleryNeedsRefresh:j.n,setGalleryNeedsRefresh:j.f,showFilterSelect:j.n,setShowFilterSelect:j.f,fetchPictures:j.f,nextPageHandler:j.f,goToPageHandler:j.f,tags:j.n,setTags:j.f,isTagInputActive:j.n,setIsTagInputActive:j.f})},N=r(298),E=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={favorites:t},e.next=3,v()({url:"https://kinkograph.com/pictures/favorites/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={input:{favorites:JSON.stringify(t)}},e.next=3,v()({url:"https://kinkograph.com/user",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=new function e(){var t=this;Object(b.a)(this,e),this.favoritesId=[],this.favoriteObjectLoading=!0,this.favoriteObject=[],this.showFavorites=!1,this.fetchFavoriteObject=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(P.favoritesId.length>0)){e.next=6;break}return e.next=4,E(P.favoritesId);case 4:t=e.sent,P.setFavoriteObject(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:P.setFavoriteObjectLoading(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.setFavoriteObject=function(e){t.favoriteObject=e},this.setFavoriteObjectLoading=function(e){t.favoriteObjectLoading=e},this.setShowFavorites=function(){var e=Object(h.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showFavorites=r,r&&P.fetchFavoriteObject();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addToFavoritesId=function(e){t.favoritesId.findIndex((function(t){return t===e}))<0&&t.favoritesId.push(e),S(t.favoritesId)},this.deleteFromFavoritesId=function(e){var r=t.favoritesId.findIndex((function(t){return t===e}));t.favoritesId.splice(r,1),S(t.favoritesId)},this.setFavoritesId=function(e){t.favoritesId=e},Object(j.m)(this,{favoriteObject:j.n,setFavoriteObject:j.f,favoriteObjectLoading:j.n,setFavoriteObjectLoading:j.f,fetchFavoriteObject:j.f,showFavorites:j.n,setShowFavorites:j.f,favoritesId:j.n,addToFavoritesId:j.f,setFavoritesId:j.f,deleteFromFavoritesId:j.f})},I=(r(184),r(1)),C=Object(l.a)((function(e){var t=P.favoritesId.findIndex((function(t){return t===e.picture.id})),r=function(t){var r=document.getElementById("tag_".concat(e.picture.id)),n=document.getElementById("pic_".concat(e.picture.id));t?(r.style.visibility="visible",r.style.opacity=1,n.style.filter="brightness(50%) grayscale(1)"):(r.style.visibility="hidden",r.style.opacity=0,n.style.filter="brightness(100%) grayscale(0)")};return Object(I.jsx)(n.Fragment,{children:Object(I.jsxs)("div",{className:"picture__container",onClick:function(){y.setShowOverlay(!0);var t=y.allPictures.findIndex((function(t){return t.id===e.picture.id}));y.setSelected(t)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(I.jsx)("img",{id:"pic_".concat(e.picture.id),className:"picture \n          ".concat(!e.picture.tags&&"picture__bluryGray"," \n          ").concat(t>=0&&"halo"," "),src:e.picture.url_thumb,alt:e.picture.id},e.picture.id),Object(I.jsx)("div",{className:"picture__tagMissing",children:!e.picture.tags&&"TAGS MISSING"}),Object(I.jsxs)("div",{id:"tag_".concat(e.picture.id),className:"picture__tagShow",children:[Object(I.jsx)(N.a,{}),Object(I.jsxs)("div",{className:"picture__id",children:["#",e.picture.id]})]})]})})})),A=r(123),L=r(86),T=r(80),D=r(299),U=r(300),F=r(110),z=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/login/",method:"DELETE"});case 2:if(204===(t=e.sent).status){e.next=5;break}throw new Error("Error ou Logout! Status ".concat(t.status));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(p.a.mark((function e(t,r,n,a){var s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={email:t,username:r,pwd:n,remind:a},e.prev=1,e.next=4,v()({url:"https://kinkograph.com/auth/login/",method:"POST",data:s});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status){e.next=12;break}throw new Error("Error! Unauthorized(401)");case 12:return e.abrupt("return",e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/auth/access/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data.access);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=new function e(){var t=this;Object(b.a)(this,e),this.isGuest=!1,this.hasAccess=!1,this.login=function(){var e=Object(h.a)(p.a.mark((function e(r,n,a,s){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s||(s=!1),e.next=3,R(r,n,a,s);case 3:if(!(i=e.sent).success){e.next=8;break}t.setHasAccess(!0),e.next=9;break;case 8:return e.abrupt("return",i.error);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),this.logout=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:case"end":return e.stop()}}),e)}))),this.checkAccess=Object(h.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:r=e.sent,t.setHasAccess(r);case 4:case"end":return e.stop()}}),e)}))),this.setIsGuest=function(e){t.isGuest=e},this.setHasAccess=function(e){t.hasAccess=e},Object(j.m)(this,{login:j.f,logout:j.f,isGuest:j.n,setIsGuest:j.f,hasAccess:j.n,setHasAccess:j.f})},H=(r(135),Object(l.a)((function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(!1),i=y.allPictures[y.selected];console.log(y.selected);var o=(i?P.favoritesId.findIndex((function(e){return e===i.id})):-1)>=0,u=1===y.pageNumber&&0===y.selected,l=y.lastPageReached&&y.allPictures.length===y.selected+1,d=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),r=new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){return e(t.url)},n.onerror=function(e){return r(e)}})),e.next=4,r;case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i&&d(i.url_med)}),[i]);var m=function(e){var t=document.getElementById("closeButton");e?(t.style.visibility="hidden",t.style.opacity=0):(t.style.visibility="visible",t.style.opacity=1)},b=Object(n.useCallback)((function(e){if(!M.isGuest){var t=document.getElementById("heart"),r=document.getElementById("unheart");o?(r.style.visibility="visible",r.style.opacity=.5,r.style.fontSize="30em",setTimeout((function(){r.style.visibility="hidden",r.style.opacity=0,r.style.fontSize="1em"}),500),P.deleteFromFavoritesId(e)):(t.style.visibility="visible",t.style.opacity=.5,t.style.fontSize="50em",setTimeout((function(){t.style.visibility="hidden",t.style.opacity=0,t.style.fontSize="1em"}),500),P.addToFavoritesId(e))}}),[o]),j=Object(n.useCallback)((function(e){e.preventDefault();var t=e.key.toLowerCase(),r=document.getElementById("nextButton"),n=document.getElementById("previousButton");!1===s.current&&(s.current=!0,"arrowdown"!==t&&"arrowright"!==t||l?"arrowup"!==t&&"arrowleft"!==t||u?"enter"===t?b(i.id):"escape"===t&&y.setShowOverlay(!1):(n.style.backgroundColor="rgba(255,255,255,.15)",y.changeSelected(!1),setTimeout((function(){n.style.backgroundColor="rgba(255,255,255, 0)"}),100)):(r.style.backgroundColor="rgba(255,255,255,.15)",y.changeSelected(!0),setTimeout((function(){r.style.backgroundColor="rgba(255,255,255, 0)"}),100)),setTimeout((function(){s.current=!1}),100))}),[i,b,u,l]);Object(n.useEffect)((function(){return document.addEventListener("keydown",j),function(){document.removeEventListener("keydown",j)}}),[j]);return Object(I.jsxs)("div",{className:"overlay__overlay",children:[Object(I.jsx)("div",{className:"overlay__background",onClick:function(){y.setShowOverlay(!1)}}),!u&&Object(I.jsx)("div",{className:"overlay__columnLeft",id:"previousButton",onClick:function(){y.changeSelected(!1)},children:Object(I.jsx)(A.a,{})}),!l&&Object(I.jsx)("div",{className:"overlay__columnRight",id:"nextButton",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:function(){y.changeSelected(!0)},children:Object(I.jsx)(L.a,{})}),Object(I.jsx)(F.a,{placement:"bottomLeft",title:Object(I.jsxs)("span",{children:[Object(I.jsx)("b",{children:"TIP: "})," The keys \u2190 and \u2192 will let you navigate through the pictures. You can use the ",Object(I.jsx)("i",{children:"esc"})," key, or click outside the picture to go back to the gallery."]}),children:Object(I.jsx)("div",{className:"overlay__closeButton",id:"closeButton",onClick:function(){y.setShowOverlay(!1)},children:Object(I.jsx)(T.a,{})})}),r?Object(I.jsx)(f.a,{className:"overlay__spinner"}):Object(I.jsxs)("div",{className:"overlay__pictureContainer",onDoubleClick:function(){b(i.id)},children:[Object(I.jsxs)("div",{className:"overlay__infoAction",children:[i&&Object(I.jsxs)("div",{className:"overlay__info",children:[Object(I.jsx)(F.a,{placement:"bottomLeft",title:Object(I.jsxs)("span",{children:[Object(I.jsx)("b",{children:"TIP: "})," copy a direct link to this picture"]}),children:i.key&&Object(I.jsx)(D.a,{onClick:function(){if(i.key){var e=document.getElementById("link");e.style.visibility="visible",e.style.opacity=.25,e.style.fontSize="50em",setTimeout((function(){e.style.visibility="hidden",e.style.opacity=0,e.style.fontSize="1em"}),500);var t="http://kinkograph.com/".concat(i.key);navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}))}}})})," ",i.id]}),Object(I.jsx)("div",{className:"overlay__action",children:!M.isGuest&&(o?Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("span",{role:"img","aria-label":"heart",style:{fontSize:".75em"},children:"\u2764\ufe0f"})," ","Marked as favorite!"]}):"Doubleclick/Enter to mark as favorite.")})]}),Object(I.jsxs)("div",{className:"overlay__pictureHover",children:[Object(I.jsx)("div",{className:"overlay__pictureWatermark",children:"KINKOGRAPH"}),Object(I.jsx)(U.a,{id:"heart",className:"overlay__heart"}),Object(I.jsx)(D.a,{id:"link",className:"overlay__heart"}),Object(I.jsx)(T.a,{id:"unheart",className:"overlay__heart"})]}),i&&Object(I.jsx)("img",{className:"overlay__picture",src:i.url_med,alt:i.id},"img__".concat(i.id)),i&&Object(I.jsx)("div",{className:"overlay__tags",children:JSON.parse(i.tags).map((function(e){return Object(I.jsxs)(n.Fragment,{children:[Object(I.jsxs)("span",{onClick:function(){return function(e){y.setShowOverlay(!1),y.addFilter(e)}(e)},children:["#",e]}),"\xa0"]})}))})]})]})}))),G=r(291),V=r(301),Y=r(302),W=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/user",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data[0]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=new function e(){var t=this;Object(b.a)(this,e),this.email=null,this.infos=null,this.name="there",this.username=null,this.isAdmin=!1,this.language=null,this.lastLogin=null,this.numberOfPicAtLastLogin=null,this.setEmail=function(e){t.email=e},this.setInfos=function(e){t.infos=e},this.setName=function(e){t.name=e},this.setUsername=function(e){t.username=e},this.setLanguage=function(e){t.language=e},this.setIsAdmin=function(e){t.isAdmin=e},this.setLastLogin=function(e){t.lastLogin=e},this.setNumberOfPicAtLastLogin=function(e){t.numberOfPicAtLastLogin=e},this.fetchuserData=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:(t=e.sent)&&(q.setEmail(t.email),q.setInfos(t.infos),q.setName(t.name),q.setUsername(t.last_login),q.setLastLogin(t.nb_picture_at_last_login),q.setNumberOfPicAtLastLogin(t.username),t.favorites&&P.setFavoritesId(JSON.parse(t.favorites)),t.is_admin&&q.setIsAdmin(t.is_admin));case 4:case"end":return e.stop()}}),e)}))),Object(j.m)(this,{fetchuserData:j.f,setEmail:j.f,email:j.n,setInfos:j.f,infos:j.n,setName:j.f,name:j.n,setUsername:j.f,language:j.n,setLanguage:j.f,lastLogin:j.n,setLastLogin:j.f,numberOfPicAtLastLogin:j.n,setNumberOfPicAtLastLogin:j.f,username:j.n,isAdmin:j.n,setIsAdmin:j.f})};function K(e){return void 0===e||null===e?null:e.charAt(0).toUpperCase()+e.slice(1)}r(187);var J=Object(l.a)((function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(y.pageNumber),i=G.a.Option,o=Math.ceil(y.totalPictures/y.PAGE_SIZE,0),u=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.setIsGalleryLoading(!0),r=t.map((function(e){return K(e)})),y.setFilter(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),l=function(){M.logout(),setTimeout((function(){window.location.reload()}),500)};return Object(I.jsxs)("div",{className:"galleryHeader__main",children:[Object(I.jsx)("div",{className:"galleryHeader__left",children:P.favoritesId.length?Object(I.jsxs)(n.Fragment,{children:[Object(I.jsxs)("div",{className:"galleryHeader__BigFont",children:[Object(I.jsx)("span",{className:"galleryHeader__logout",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onClick:l,children:Object(I.jsx)(F.a,{placement:"bottomLeft",title:"Logout",children:r?Object(I.jsx)(V.a,{}):Object(I.jsx)(Y.a,{})})})," ","|\xa0",Object(I.jsxs)("span",{className:"galleryHeader__favorite",onClick:function(){P.setShowFavorites(!0)},children:[P.favoritesId.length," picture",P.favoritesId.length>1&&"s"]})]}),Object(I.jsxs)("div",{className:"galleryHeader__SmallFont",children:["marked as favorite",P.favoritesId.length>1&&"s"]})]}):Object(I.jsxs)(n.Fragment,{children:[Object(I.jsxs)("div",{className:"galleryHeader__BigFont",children:[Object(I.jsx)("span",{className:"galleryHeader__logout link",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onClick:l,children:Object(I.jsx)(F.a,{placement:"bottomLeft",title:"Logout",children:r?Object(I.jsx)(V.a,{}):Object(I.jsx)(Y.a,{})})})," ","|\xa0",q.name?Object(I.jsxs)(F.a,{placement:"bottomLeft",title:Object(I.jsxs)("span",{children:[Object(I.jsx)("b",{children:"TIP: "}),"Mark some pictures as your favorites: Then we both look at those, and plan a inspired shoot."]}),children:["Hello ",q.name,","]}):"Hello stranger,"]}),Object(I.jsx)("div",{className:"galleryHeader__SmallFont",children:"What will inspire you today?"})]})}),Object(I.jsx)("div",{className:"galleryHeader__center",onFocus:function(){y.setIsTagInputActive(!0)},onBlur:function(){y.setIsTagInputActive(!1)},children:y.filter.length>0||y.showFilterSelect?Object(I.jsx)(G.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a filter",defaultValue:y.filter,onChange:u,className:"galleryHeader__selectFilter",optionLabelProp:"label",children:y.tags.map((function(e){return Object(I.jsx)(i,{value:e.tag,label:e.tag,children:Object(I.jsxs)("div",{className:"demo-option-label-item",children:[e.tag," ",Object(I.jsxs)("span",{className:"light",children:["(",e.occur,")"]})]})})}))}):Object(I.jsxs)("div",{className:"galleryHeader__setFilter",onClick:function(){y.setShowFilterSelect(!0)},children:["click here to"," ",Object(I.jsx)("span",{className:"galleryHeader__wordFilter",children:"filter"})," the results"]})}),Object(I.jsx)("div",{className:"galleryHeader__right",children:Object(I.jsx)(F.a,{placement:"bottomRight",title:Object(I.jsxs)("span",{children:[Object(I.jsx)("b",{children:"TIP: "}),"You can use the \u2190 and \u2192 keys to navigate through the pages, and the \u2191 and \u2193 keys to scroll the page."]}),children:Object(I.jsxs)("div",{className:"galleryHeader__pageInfo",children:[Object(I.jsxs)("div",{className:"galleryHeader__BigFont",children:[Object(I.jsxs)("b",{children:["Page"," ",Object(I.jsx)("div",{className:"galleryHeader__PageSelector",contentEditable:"true",onInput:function(e){e.which<48||e.which>57?e.preventDefault():e.target.innerText>o?(console.log("Senpai, it's too big!"),s.current=o):e.target.innerText<1?(console.log("Oh baby, it's really small!"),s.current=1):s.current=e.target.innerText},onKeyPress:function(e){e.charCode>=48&&e.charCode<=57||e.preventDefault(),13===e.charCode&&y.goToPageHandler(s.current)},children:y.pageNumber})]}),Object(I.jsxs)("span",{style:{fontSize:"0.7em"},children:[" / ",o]})]}),Object(I.jsxs)("div",{className:"galleryHeader__SmallFont",children:[(y.pageNumber-1)*y.PAGE_SIZE+1,"-",Math.min(y.pageNumber*y.PAGE_SIZE,y.totalPictures)," ","of ",y.totalPictures]})]})})})]})})),$=r(294),Z=(r(188),Object(l.a)((function(){var e=Object(n.useCallback)((function(){P.setShowFavorites(!1)}),[]);return Object(I.jsx)($.a,{title:Object(I.jsxs)("span",{className:"FavoritesDrawer__Title",children:["Your ",P.favoritesId.length," favorite",P.favoritesId.length>1&&"s"]}),placement:"left",closable:!0,onClose:function(){return e(!1)},visible:P.showFavorites,width:"50%",children:P.favoriteObjectLoading?Object(I.jsx)("div",{children:" Loading... "}):Object(I.jsx)("div",{children:P.favoriteObject.map((function(e){return Object(I.jsxs)("div",{className:"FavoritesDrawer__pictureContainer",children:["#",e.id,Object(I.jsx)("img",{className:"FavoritesDrawer__picture",src:e.url_med,alt:e.id},e.id)]})}))})})}))),Q=(r(189),Object(l.a)((function(){var e=Object(n.useRef)(!1),t=1===y.pageNumber&&y.lastPageReached;Object(n.useEffect)((function(){y.galleryNeedsRefresh&&(y.fetchPictures(),y.setGalleryNeedsRefresh(!1))}),[y.galleryNeedsRefresh]);var r=Object(n.useCallback)((function(e){var t,r=.8*window.innerHeight,n=window.scrollY;"down"===e?t=n+r:"up"===e&&(t=Math.max(n-r,0)),window.scroll({top:t,left:0,behavior:"smooth"})}),[]),a=Object(n.useCallback)((function(t){var n=t.key.toLowerCase();"arrowright"!==n&&"arrowleft"!==n&&"arrowdown"!==n&&"arrowup"!==n||(t.preventDefault(),y.showOverlay||y.isTagInputActive||!1===e.current&&(e.current=!0,"arrowright"!==n||y.lastPageReached?"arrowleft"===n&&y.pageNumber>1?(y.setShowFilterSelect(!1),s(!1)):"arrowdown"===n?r("down"):"arrowup"===n&&r("up"):(y.setShowFilterSelect(!1),s(!0)),setTimeout((function(){e.current=!1}),100)))}),[r]),s=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.nextPageHandler(t);case 2:window.scroll({top:0,left:0,behavior:"smooth"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[a]),Object(I.jsxs)("div",{className:"gallery",children:[Object(I.jsx)(J,{}),Object(I.jsx)(Z,{}),y.isGalleryLoading?Object(I.jsxs)("div",{className:"App__flex",children:[Object(I.jsx)(f.a,{className:"Gallery__spinner"}),Object(I.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(I.jsxs)(n.Fragment,{children:[y.showOverlay&&Object(I.jsx)(H,{}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"gallery__main",children:y.allPictures.map((function(e,t){return Object(I.jsx)("div",{className:"gallery__picSpacer",children:Object(I.jsx)(C,{picture:e},e.id)},t)}))}),!t&&Object(I.jsx)("div",{className:"gallery__next",children:Object(I.jsxs)("div",{className:"gallery__nextTextContainer",children:[1===y.pageNumber?"Previous":Object(I.jsx)("span",{className:"gallery__nextText",onClick:function(){return s(!1)},children:"Previous"})," |\xa0",y.lastPageReached?"Next":Object(I.jsx)("span",{className:"gallery__nextText",onClick:function(){return s(!0)},children:"Next"})]})})]})]})]})}))),X=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com"+"/pictures/".concat(t),method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=13;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:if(400!==r.status){e.next=12;break}throw new Error("Picture key ".concat(t," not found"));case 12:throw new Error("Error! Status ".concat(r.status));case 13:return e.abrupt("return",r.data[0]);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t=Object(u.f)().key;e.picKey&&(t=e.picKey);var r=Object(n.useState)(null),a=Object(c.a)(r,2),s=a[0],i=a[1],o=Object(n.useState)(!0),l=Object(c.a)(o,2),d=l[0],m=l[1],b=Object(n.useState)(!0),j=Object(c.a)(b,2),g=j[0],v=j[1],x=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t);case 3:r=e.sent,i(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(!1);case 10:m(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);return Object(n.useEffect)((function(){x()}),[x]),g?Object(I.jsxs)("div",{className:"overlay__overlay",children:[Object(I.jsx)("div",{className:"overlay__background",onClick:function(){e.picKey&&e.setShowSingleGallery(!1)}}),e.picKey&&Object(I.jsx)("div",{className:"overlay__closeButton",id:"closeButton",onClick:function(){e.setShowSingleGallery(!1)},children:Object(I.jsx)(T.a,{})}),d?Object(I.jsx)(f.a,{className:"overlay__spinner"}):Object(I.jsxs)("div",{className:"overlay__pictureContainer",onDoubleClick:function(){if(e.picKey){var t=document.getElementById("heart");t.style.visibility="visible",t.style.opacity=.25,t.style.fontSize="50em",setTimeout((function(){t.style.visibility="hidden",t.style.opacity=0,t.style.fontSize="1em"}),500);var r="http://kinkograph.com/".concat(s.key);navigator.clipboard.writeText(r).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)}))}},children:[Object(I.jsxs)("div",{className:"overlay__infoAction",children:[e.picKey?Object(I.jsxs)("div",{className:"overlay__info",children:["#",s.id]}):Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{style:{opacity:".5"},children:"kinkograph | "}),"#",s.id]}),e.picKey&&Object(I.jsxs)("div",{className:"overlay__action",children:["Doubleclick to copy link ",Object(I.jsx)(D.a,{})]})]}),Object(I.jsxs)("div",{className:"overlay__pictureHover",style:e.picKey?{cursor:"pointer"}:{cursor:"default"},children:[Object(I.jsx)("div",{className:"overlay__pictureWatermark",children:"KINKOGRAPH"}),Object(I.jsx)(D.a,{id:"heart",className:"overlay__heart"})]}),Object(I.jsx)("img",{className:"overlay__picture",src:s.url_med,alt:s.id},"img__".concat(s.id))]})]}):Object(I.jsxs)("div",{className:"Uploader__noAccess",children:["Picture not found!",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})},te=r(303),re=(r(193),function(){return Object(I.jsxs)("div",{className:"info__container",children:[Object(I.jsx)("div",{className:"info__title",children:"\xa0kinkograph"}),Object(I.jsx)("div",{className:"info__paragraph",children:Object(I.jsx)("span",{children:"... is a curated and organised collection of sex positive, erotic and/or BDSM pictures to inspire and plan a playful shoot between model(s) and photographer. Use this to trigger your creativity."})}),Object(I.jsx)("div",{className:"info__paragraph",children:Object(I.jsxs)("span",{children:["Due to the nature of the pictures,"," ",Object(I.jsx)("span",{className:"info__18",children:"you should be at least 18"})," years old to access this website."]})}),Object(I.jsx)("div",{className:"info__paragraph",children:Object(I.jsxs)("span",{children:["I do not share any of my private's kinky pictures here. Thus, many of the artworks found on this website are from the deep web. Should a picture that you own be found here, please"," ",Object(I.jsx)("a",{className:"info__contactLink",href:"mailto:info@kinkograph.com",children:"contact me"})," ","to decide what should be done."]})}),Object(I.jsx)(o.b,{className:"info__returnLink",to:"/",children:Object(I.jsx)(te.a,{})}),Object(I.jsx)("div",{className:"spacer"})]})}),ne=r(308),ae=r(309),se=r(157),ie=r(307),ce=r(304),oe=r(305),ue=r(306),le=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tag_name:t},e.next=3,v()({url:"https://kinkograph.com/tags/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tags:JSON.stringify(t)},e.next=3,v()({url:"https://kinkograph.com"+"/pictures/".concat(r),method:"PATCH",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com"+"/pictures/".concat(t),method:"DELETE"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=(r(194),G.a.Option),he=function(e){var t=Object(n.useState)([]),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)([]),o=Object(c.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)(!1),m=Object(c.a)(d,2),f=m[0],b=m[1],j=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,l(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),g=Object(n.useCallback)((function(t){e.setShowUploader&&e.setShowUploader(!0),e.setShowDrawer(!1),t&&e.reload&&e.reload()}),[e]);Object(n.useEffect)((function(){j(),null!==JSON.parse(e.picture.tags)&&s(JSON.parse(e.picture.tags))}),[j,e.picture.tags]);var v=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.map((function(e){return K(e)})),s(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),O=Object(n.useCallback)(Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=6;break}return t.next=3,a.map(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.findIndex((function(e){return e===K(t)}))<0)){e.next=6;break}return e.next=4,le(t);case 4:"success"===e.sent.value&&console.log("".concat(t," was added to the lists of tags."));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,de(a,e.picture.id);case 5:g(!0);case 6:case"end":return t.stop()}}),t)}))),[a,u,g,e.picture.id]),w=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==f){e.next=6;break}return e.next=3,me(t);case 3:g(!0),e.next=8;break;case 6:b(!0),setTimeout((function(){b(!1)}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,g]);return Object(I.jsxs)($.a,{title:Object(I.jsxs)("span",{className:"Drawer__Title",children:["Edit picture id #",e.picture.id]}),placement:"left",closable:!0,onClose:function(){return g(!1)},visible:e.showDrawer,width:"42.5%",children:[Object(I.jsx)("div",{className:"Drawer__font",children:"Preview:"}),Object(I.jsx)("img",{className:"Drawer_picture",src:e.picture.url_med,alt:e.picture.id,style:{maxWidth:"100%",maxHeight:window.innerHeight/2.5}},e.picture.id),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"Drawer__font",children:"Tags:"}),Object(I.jsx)(G.a,{mode:"tags",allowClear:!1,style:{width:"100%"},placeholder:"Add some tags",onChange:v,defaultValue:null!==e.picture.tags?JSON.parse(e.picture.tags):void 0,children:u.map((function(e){return Object(I.jsx)(pe,{children:K(e.tag_name)},K(e.tag_name))}))}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"Drawer__buttonContainer",children:[Object(I.jsxs)("div",{className:a.length<1?"Drawer__buttonDisabled":"Drawer__button",onClick:O,children:[Object(I.jsx)(ce.a,{})," \xa0 Save"]}),Object(I.jsx)("div",{className:f?"Drawer__buttonConfirmAction":"Drawer__button",onClick:function(){return w(e.picture.key)},children:f?Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(oe.a,{})," ARE YOU SURE",Object(I.jsx)(ue.a,{})]}):Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(oe.a,{}),"\xa0 Delete"]})})]})]},"drawer".concat(e.picture.id))},fe=(r(195),function(e){var t=Object(n.useState)(!1),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(!1),o=Object(c.a)(i,2),u=o[0],l=o[1],d=function(t){if(null===e.totalMissingTag){s(t);var r=document.getElementById(e.picture.id);r.style.filter=t?"brightness(50%) blur(2px)":"brightness(100%) blur(0px)"}},m=function(){setTimeout((function(){e.setShowUploader(!1)}),300),l(!0)};return Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(he,{picture:e.picture,showDrawer:u,setShowDrawer:l,reload:e.reload,setShowUploader:e.setShowUploader}),Object(I.jsxs)("div",{className:"EditPictures__missingPicture",children:[null===e.totalMissingTag||0===e.totalMissingTag?a&&Object(I.jsx)("div",{className:"EditPictures__missingPictureOverText",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:m,children:Object(I.jsx)(ie.a,{})}):Object(I.jsxs)("div",{className:"EditPictures__missingPictureRest",children:["+",e.totalMissingTag]}),Object(I.jsx)("img",{className:e.totalMissingTag&&"EditPictures__bluryGray",id:e.picture.id,src:e.picture.url_thumb,alt:e.picture.id,width:e.size,height:e.size,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:m})]})]})}),be=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,v.a.post("https://kinkograph.com/pictures",r);case 5:return e.abrupt("return","success");case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return","error");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t},e.next=3,v()({url:"https://kinkograph.com/pictures/duplicate",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com"+"/pictures/tagsmissing/".concat(t),method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/pictures/tagsmissingcount/",method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}if(401!==r.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(r.status));case 9:return e.abrupt("return",r.data[0].count);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=(r(196),Object(l.a)((function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),o=i[0],u=i[1],l=Object(n.useState)([]),d=Object(c.a)(l,2),m=d[0],b=d[1],j=Object(n.useState)(!0),g=Object(c.a)(j,2),v=g[0],x=g[1],O=Object(n.useState)([0,0]),w=Object(c.a)(O,2),k=w[0],_=w[1],y=Object(n.useState)(null),N=Object(c.a)(y,2),E=N[0],S=N[1],P=Object(n.useState)(null),C=Object(c.a)(P,2),A=C[0],L=C[1],T=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t);case 2:r=e.sent,se.a[r]({message:"Upload ".concat(r),description:"File: ".concat(t.name)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),D=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve();case 3:t=e.sent,L(t-E),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[E]),U=Object(n.useCallback)((function(){var e=window.innerWidth,t=window.innerHeight,r=Math.floor(.5*e),n=Math.floor(.75*t),a=Math.floor(r/184)*Math.floor(n/180);return S(a),a}),[]),F=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U();case 3:return t=e.sent,e.next=6,ge(t);case 6:return r=e.sent,e.next=9,D();case 9:b(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[D,U]),z=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),!t.target.files[0]){e.next=12;break}return r=t.target.files[0].name.split(".")[0],e.next=5,je(r);case 5:if(0!==e.sent.length){e.next=11;break}return e.next=9,T(t.target.files[0]);case 9:e.next=12;break;case 11:se.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(t.target.files[0].name,"'")});case 12:a(!1),setTimeout((function(){F(E)}),500);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[F,E,T]);Object(n.useEffect)((function(){return F(),window.addEventListener("resize",U),function(){window.removeEventListener("resize",U)}}),[F,U]);var R=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,s,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.stopPropagation(),r=t.dataTransfer.files,n=r.length,_([0,n]),s=0;case 6:if(!(s<n)){e.next=24;break}if(a(!0),_([s,n]),!r[s]){e.next=21;break}return i=r[s],c=i.name.split(".")[0],e.next=14,je(c);case 14:if(0!==e.sent.length){e.next=20;break}return e.next=18,T(i);case 18:e.next=21;break;case 20:se.a.warning({message:"Duplicate? ",description:"There is already a file named '".concat(c,"'")});case 21:s++,e.next=6;break;case 24:_([0,0]),a(!1),setTimeout((function(){F(E)}),1e3);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:"Uploader__container",children:[Object(I.jsx)("div",{className:"Uploader__formContainer",children:v&&Object(I.jsx)("div",{className:"Uploader__formContent",style:m.length?{width:"50vw"}:{width:"100vw"},children:Object(I.jsxs)("form",{onSubmit:T,children:[Object(I.jsx)("input",{type:"file",className:"inputfile",name:"inputfile",id:"file",onChange:z}),r?Object(I.jsxs)("label",{htmlFor:"file",style:m.length?{width:"35vw"}:{width:"75vw"},children:[Object(I.jsx)(f.a,{className:"Uploader__spinner"}),k[1]?Object(I.jsxs)("p",{className:"form-upload-text",children:[k[0]," of ",k[1]]}):Object(I.jsx)("p",{className:"form-upload-text",children:"Loading"})]}):Object(I.jsx)("label",{htmlFor:"file",onDrop:R,onDragOver:function(e){return function(e){e.preventDefault(),e.stopPropagation()}(e)},onDragEnter:function(e){return function(e){e.preventDefault(),e.stopPropagation(),u(!0)}(e)},onDragLeave:function(e){return function(e){e.preventDefault(),e.stopPropagation(),u(!1)}(e)},style:m.length?{width:"35vw"}:{width:"75vw"},children:o?Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{className:"form-upload-drag-icon",children:Object(I.jsx)(ae.a,{})}),Object(I.jsxs)("p",{className:"form-upload-hint",children:["Drop your files here ",Object(I.jsx)("br",{}),Object(I.jsx)("i",{children:"Multiple files supported"})]}),Object(I.jsx)("p",{className:"form-upload-text"})]}):Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("p",{className:"form-upload-drag-icon",children:Object(I.jsx)(ne.a,{})}),Object(I.jsxs)("p",{className:"form-upload-hint",children:["Click, or drag here a file ",Object(I.jsx)("br",{}),Object(I.jsx)("i",{children:"jpg and png file only"})]})]})})]})})}),m.length>0&&Object(I.jsx)("div",{className:"Uploader__missingContainer",children:Object(I.jsx)("div",{className:"Uploader__missingContent",children:m.map((function(e,t){return Object(I.jsx)(fe,{picture:e,size:150,setShowUploader:x,reload:F,totalMissingTag:t+1===E?A:null},e.id)}))})})]})}))),Oe=(r(197),function(e){var t=Object(n.useState)("upload"),r=Object(c.a)(t,2),a=r[0],s=r[1],i=function(t){s(t),e.setDisplay(t)};return Object(I.jsxs)("div",{className:"adminHeader__main",children:[Object(I.jsx)("div",{className:"adminHeader__element ".concat("upload"===a&&"adminHeader__elementSelected"),onClick:function(){return i("upload")},children:"UPLOAD"}),Object(I.jsx)("div",{className:"adminHeader__element ".concat("pic"===a&&"adminHeader__elementSelected"),onClick:function(){return i("pic")},children:"PICTURES"}),Object(I.jsx)("div",{className:"adminHeader__element ".concat("tag"===a&&"adminHeader__elementSelected"),onClick:function(){return i("tag")},children:"TAGS"}),Object(I.jsx)("div",{className:"adminHeader__element ".concat("user"===a&&"adminHeader__elementSelected"),onClick:function(){return i("user")},children:"USERS"})]})}),we=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://kinkograph.com/admin/users/",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.abrupt("return",t.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=r(310),_e=(r(198),function(e){var t=Object(n.useState)([]),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(!1),o=Object(c.a)(i,2),u=o[0],l=o[1],d=Object(n.useCallback)(Object(h.a)(p.a.mark((function t(){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user.favorites){t.next=6;break}return r=JSON.parse(e.user.favorites),t.next=4,E(r);case 4:n=t.sent,s(n);case 6:case"end":return t.stop()}}),t)}))),[e.user.favorites]);return Object(n.useEffect)((function(){d()}),[d]),Object(I.jsxs)("div",{className:"userInfos__user",children:[Object(I.jsxs)("div",{className:"userInfos__title",onClick:function(){var t=document.getElementById("userInfos__detail__".concat(e.user.id));t.style.display=u?"none":"block",l(!u)},children:[Object(I.jsxs)("div",{className:"userInfos__titleLeft",children:[e.user.last_login&&Object(I.jsx)(F.a,{title:Date(e.user.last_login).toString(),children:Object(I.jsx)(ke.a,{className:"userInfos__lastOnline"})}),e.user.name.toUpperCase(),Object(I.jsx)("span",{className:"smallFont",children:e.user.access_code&&" ".concat(e.user.access_code," ")})]}),Object(I.jsxs)("div",{className:"userInfos__titleRight",children:[Object(I.jsx)("span",{style:{color:"#555"},children:e.user.email&&" ".concat(e.user.email," ")}),Object(I.jsx)("span",{style:{color:"#555"},children:e.user.email&&e.user.username&&" | "}),Object(I.jsx)("span",{style:{color:"#555"},children:e.user.username&&" ".concat(e.user.username," ")})]})]}),Object(I.jsx)("div",{className:"userInfos__detail",id:"userInfos__detail__".concat(e.user.id),children:a.length>0?a.map((function(t){return Object(I.jsxs)("div",{className:"userInfos__pictureContainer",children:[Object(I.jsxs)("div",{className:"smallFont",children:[" #",t.id]}),Object(I.jsx)("img",{className:"userInfos__picture",src:t.url_med,alt:t.id,onClick:function(){return r=t.key,e.setSinglePicKey(r),void e.setShowSingleGallery(!0);var r}},t.id)]})})):"nothing yet"})]},"user_".concat(e.user.id))}),ye=(r(199),function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)([]),i=Object(c.a)(s,2),o=i[0],u=i[1],l=Object(n.useState)(!1),d=Object(c.a)(l,2),m=d[0],b=d[1],j=Object(n.useState)(null),g=Object(c.a)(j,2),v=g[0],x=g[1],O=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:t=e.sent,u(t),a(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){O()}),[O]),Object(I.jsxs)(n.Fragment,{children:[m&&Object(I.jsx)(ee,{picKey:v,setShowSingleGallery:b}),r?Object(I.jsxs)("div",{className:"App__flex",children:[Object(I.jsx)(f.a,{className:"Gallery__spinner"}),Object(I.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(I.jsx)("div",{className:"userAdmin__main",children:o.map((function(e){return Object(I.jsx)(_e,{user:e,setSinglePicKey:x,setShowSingleGallery:b},e.id)}))})]})}),Ne=r(292),Ee=function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={oldtag:t,newtag:r},e.next=3,v()({url:"https://kinkograph.com/tags/edit",method:"POST",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Se=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={tagToDelete:t},e.next=3,v()({url:"https://kinkograph.com/tags/",method:"DELETE",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=(r(200),G.a.Option),Ie=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useRef)(0),i=Object(n.useState)(!1),o=Object(c.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)(!0),m=Object(c.a)(d,2),b=m[0],j=m[1],g=Object(n.useState)(!1),v=Object(c.a)(g,2),x=v[0],w=v[1],k=Object(n.useState)(null),_=Object(c.a)(k,2),y=_[0],N=_[1],E=Object(n.useState)(null),S=Object(c.a)(E,2),P=S[0],C=S[1],A=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O([]);case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:j(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),L=Object(n.useCallback)(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==x){e.next=8;break}return e.next=3,Se(t);case 3:return e.next=5,A();case 5:l(!1),e.next=10;break;case 8:w(!0),setTimeout((function(){w(!1)}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,l,A]),T=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P===r[s.current].tag){e.next=3;break}return e.next=3,Ee(r[s.current].tag,P);case 3:return e.next=5,A();case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y===r[s.current].tag){e.next=3;break}return e.next=3,Ee(r[s.current].tag,y);case 3:return e.next=5,A();case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[A]),Object(I.jsxs)(n.Fragment,{children:[b?Object(I.jsxs)("div",{className:"App__flex",children:[Object(I.jsx)(f.a,{className:"Gallery__spinner"}),Object(I.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(I.jsxs)($.a,{className:"tagAdmin__drawer",title:Object(I.jsxs)("span",{className:"tagAdmin__Title",children:["Edit ",r[s.current].tag]}),placement:"left",closable:!0,onClose:function(){return l(!1)},visible:u,width:"42.5%",children:[Object(I.jsx)(G.a,{allowClear:!1,style:{width:"100%"},defaultValue:r[s.current].tag,onChange:function(e){!function(e){C(e)}(e)},children:r.map((function(e){return Object(I.jsxs)(Pe,{children:[K(e.tag)," (",e.occur,")"]},K(e.tag))}))}),Object(I.jsxs)("div",{className:P===r[s.current].tag?"Drawer__buttonDisabled":"Drawer__button",onClick:T,children:[Object(I.jsx)(ce.a,{})," \xa0 REPLACE THIS TAG"]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(Ne.a,{defaultValue:r[s.current].tag,onChange:function(e){N(e.target.value)},placeholder:"Basic usage"}),Object(I.jsxs)("div",{className:y===r[s.current].tag?"Drawer__buttonDisabled":"Drawer__button",onClick:D,children:[Object(I.jsx)(ce.a,{})," \xa0 RENAME THIS TAG"]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"Drawer__buttonContainer",children:Object(I.jsx)("div",{className:x?"Drawer__buttonConfirmAction":"Drawer__button",onClick:function(){return L(r[s.current].tag)},children:x?Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(oe.a,{})," ARE YOU SURE",Object(I.jsx)(ue.a,{})]}):Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(oe.a,{}),"\xa0 DELETE THIS TAG"]})})})]},"drawer".concat(r[s.current].tag)),Object(I.jsx)("div",{className:"tagAdmin__main",children:r.map((function(e,t){return Object(I.jsxs)("div",{className:"tagAdmin__tag ".concat(e.occur<5&&"red"),onClick:function(){return function(e){l(!0),s.current=e,N(r[e].tag),C(r[e].tag)}(t)},children:[e.tag?e.tag:Object(I.jsx)("i",{children:"null"}),Object(I.jsxs)("span",{className:"tagAdmin__occur",children:[" (",e.occur,")"]})]},"tag_index_".concat(t))}))})]})},Ce=(r(136),function(e){var t=Object(n.useCallback)((function(){var t=!1;return e.picture.tags&&(t=e.picture.tags.includes(e.tagSelected)),t}),[e.picture.tags,e.tagSelected]),r=Object(n.useState)(t()),a=Object(c.a)(r,2),s=a[0],i=a[1],o=function(){var t=Object(h.a)(p.a.mark((function t(r){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.tagSelected){t.next=9;break}return n=JSON.parse(r.tags),a=n.findIndex((function(t){return t===e.tagSelected})),s?(n.splice(a,1),i(!1)):(n.push(e.tagSelected),i(!0)),t.next=6,de(n,e.picture.id);case 6:e.fetchAllPictures(),t.next=11;break;case 9:e.setShowDrawer(!0),e.setPictureSelected(r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(t())}),[e.tagSelected,t]),Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("img",{className:e.tagSelected?s?"picAdmin__tagHalo":"picAdmin__tagBlur":"picAdmin__noFilter",id:"pic_".concat(e.picture.id),src:e.picture.url_thumb,alt:e.picture.id,onClick:function(){return o(e.picture)}},e.picture.id),Object(I.jsxs)("span",{className:"picAdmin__id",children:["#",e.picture.id]})]})}),Ae=G.a.Option,Le=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)([]),i=Object(c.a)(s,2),o=i[0],u=i[1],l=Object(n.useState)(!1),d=Object(c.a)(l,2),m=d[0],b=d[1],j=Object(n.useState)(null),g=Object(c.a)(j,2),v=g[0],x=g[1],k=Object(n.useState)([]),_=Object(c.a)(k,2),y=_[0],N=_[1],E=Object(n.useState)(null),S=Object(c.a)(E,2),P=S[0],C=S[1],A=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(0,!0);case 3:return t=e.sent,e.next=6,O([]);case 6:r=e.sent,u(t),N(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:a(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);Object(n.useEffect)((function(){A()}),[A]);var L=Object(n.useCallback)((function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"}))}),[]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",L),function(){document.removeEventListener("keydown",L)}}),[L]),Object(I.jsx)(n.Fragment,{children:r?Object(I.jsxs)("div",{className:"App__flex",children:[Object(I.jsx)(f.a,{className:"Gallery__spinner"}),Object(I.jsx)("div",{className:"gallery__spinnerText",children:"loading"})]}):Object(I.jsxs)(n.Fragment,{children:[v&&Object(I.jsx)(he,{picture:v,showDrawer:m,setShowDrawer:b}),Object(I.jsx)("div",{className:"picAdmin__tagSelector",children:Object(I.jsx)(G.a,{showSearch:!0,allowClear:!0,style:{width:"100%"},placeholder:"Select a tag to manage",onChange:function(e){C(e)},children:y.map((function(e){return Object(I.jsxs)(Ae,{children:[K(e.tag)," (",e.occur,")"]},K(e.tag))}))})}),Object(I.jsx)("div",{className:"picAdmin__main",children:o.map((function(e){return Object(I.jsx)("div",{className:"picAdmin__picture",children:Object(I.jsx)(Ce,{picture:e,tagSelected:P,setShowDrawer:b,setPictureSelected:x,fetchAllPictures:A})})}))})]})})},Te=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={code:t},e.prev=1,e.next=4,v()({url:"https://kinkograph.com/auth/code",method:"POST",data:r});case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(1),!("response"in e.t0&&e.t0.response.status>=400)){e.next=12;break}throw new Error("".concat(e.t0.response.data.error));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),De=(r(201),function(e){var t=Object(n.useState)(1),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(void 0),o=Object(c.a)(i,2),u=o[0],l=o[1],d=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}(),m=Object(n.useCallback)((function(t){var r=t.key.toLowerCase();if(d)"enter"===r&&e.login(u);else if(t.preventDefault(),"backspace"===r)a>1&&(document.getElementById(a-1).value="",s(a-1));else if(r.length>1);else if(document.getElementById(a).value=r,s(a+1),a+1===7){s(1);var n=document.getElementById(1).value+document.getElementById(2).value+document.getElementById(3).value+document.getElementById(4).value+document.getElementById(5).value+document.getElementById(6).value;setTimeout((function(){document.getElementById(1).focus(),document.getElementById(1).value="",document.getElementById(2).value="",document.getElementById(3).value="",document.getElementById(4).value="",document.getElementById(5).value="",document.getElementById(6).value="",s(1),e.login(n)}),500)}}),[e,a,u,d]),p=function(e){var t=parseInt(e.target.id,10),r=a;""===document.getElementById(1).value?s(r=1):""===document.getElementById(2).value?s(r=2):""===document.getElementById(3).value?s(r=3):""===document.getElementById(4).value?s(r=4):""===document.getElementById(5).value?s(r=5):""===document.getElementById(6).value&&s(r=6),document.getElementById(t).blur(),document.getElementById(r).focus()};return Object(n.useEffect)((function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}}),[m]),d?Object(I.jsxs)("div",{children:[Object(I.jsx)(Ne.a.Password,{id:"code",onChange:function(e){l(e.target.value)},placeholder:"input code & confirm with enter",className:"PinInput__mobileInput"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]}):Object(I.jsx)("div",{children:Object(I.jsxs)("form",{children:[Object(I.jsx)("input",{id:"1",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",style:{marginLeft:"20px"},autoComplete:"new-password"}),Object(I.jsx)("input",{id:"2",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(I.jsx)("input",{id:"3",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(I.jsx)("input",{id:"4",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(I.jsx)("input",{id:"5",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,autoComplete:"new-password"}),Object(I.jsx)("input",{id:"6",className:"PinInput__input",placeholder:"_",maxLength:"1",min:"1",max:"1",onClick:p,style:{width:"40px"},autoComplete:"new-password"})]})})}),Ue=r(290),Fe=r(296),ze=r(82),Re=r(312),Be=r(313),Me=r(311),He=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t},e.next=3,v()({url:"https://kinkograph.com/user/email/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return a=n.data.exist,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"en",n={sendto:t,language:r},e.next=4,v()({url:"https://kinkograph.com/mail/recover",method:"POST",data:n});case 4:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=11;break}if(401!==a.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(a.status));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=(r(202),function(e){var t=Object(n.useState)(void 0),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(d.a)().t,o=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(void 0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var t=Object(h.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.email.toLowerCase(),t.next=3,He(n);case 3:if(!1!==t.sent){t.next=8;break}s("error"),t.next=19;break;case 8:return s("success"),t.prev=9,t.next=12,Ge(n);case 12:se.a.success({message:i("login.recoverEmailSent"),placement:"topLeft",className:"login__notification"}),e.setIsRecovery(!1),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),se.a.warn({message:t.t0.message,placement:"topLeft",className:"login__notification"});case 19:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"recover__full",children:Object(I.jsxs)(Ue.a,{name:"form_recover",className:"recover__form",initialValues:{email:e.email},onFinish:u,children:[Object(I.jsx)(Ue.a.Item,{name:"email",onChange:o,rules:[{type:"email",required:!0,message:i("login.pleaseInputEmail")}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(Me.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(I.jsxs)(Ue.a.Item,{children:[Object(I.jsx)(ze.a,{type:"primary",htmlType:"submit",className:"recover__formbutton",disabled:"error"===a,children:i("error"===a?"login.emailDoesNotExist":"login.sendPasswortResetEmail")}),Object(I.jsxs)("div",{className:"recover__iRemember",onClick:function(){e.setIsRecovery(!1)},children:[Object(I.jsx)(te.a,{})," ",Object(I.jsx)("span",{className:"link",children:i("login.iRememberNow")})]})]})]})})}),Ye=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"en",n={sendto:t,language:r},e.next=4,v()({url:"https://kinkograph.com/mail/emailverify",method:"POST",data:n});case 4:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=11;break}if(401!==a.status){e.next=10;break}throw new Error("Error! Unauthorized(401)");case 10:throw new Error("Error! Status ".concat(a.status));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=(r(275),function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),o=i[0],u=i[1],l=Object(n.useRef)(void 0),m=Object(d.a)().t,f=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,s,i,c,d,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),r=t.emailOrUsername,(n=String(r).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&(l.current=t.emailOrUsername.toLowerCase()),s=t.password,i=t.remember,e.prev=6,c=null,!n){e.next=14;break}return e.next=11,M.login(r,null,s,i);case 11:c=e.sent,e.next=17;break;case 14:return e.next=16,M.login(null,r,s,i);case 16:c=e.sent;case 17:c&&("Error: Email is not verified!"===c?(d=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("strong",{children:[m("login.emailNotVerifyYet"),"!"]})," ",m("login.checkPostBoxForVerificationLink"),".",Object(I.jsxs)("div",{className:"login__verifyEmailLink",onClick:function(){Ye(l.current),se.a.success({duration:0,message:m("login.recoverEmailSent"),placement:"topLeft",className:"login__notification"})},children:[Object(I.jsx)(D.a,{})," ",m("login.clickToGetNewVerificationLink")," ",Object(I.jsx)("span",{className:"link",children:m("login.verifyYourEmail")}),"."]})]}),se.a.error({duration:0,message:d,placement:"topLeft",className:"login__notification"})):"Error: Password is incorrect!"===c?(h=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("strong",{children:[m("login.passwordIsIncorrect"),"!"]})," ",Object(I.jsx)("br",{}),m("login.pleaseCheckPasswordOrUse"),Object(I.jsxs)("span",{className:"link",onClick:function(){return u(!o)},children:[" ",m("login.recoverPassword")," "]})," ",m("login.feature"),"."]}),se.a.error({message:h,placement:"topLeft",className:"login__notification"})):se.a.error({message:c,placement:"topLeft",className:"login__notification"})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log(e.t0);case 23:a(!1);case 24:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}();return o?Object(I.jsx)(Ve,{setIsRecovery:u,email:l.current}):Object(I.jsx)("div",{className:"login__full",children:Object(I.jsxs)(Ue.a,{name:"form_login",className:"login__form",initialValues:{email:l.current,remember:!0},onFinish:f,children:[Object(I.jsx)(Ue.a.Item,{name:"emailOrUsername",rules:[{required:!0,message:m("login.pleaseInputEmailOrUsername")}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(Re.a,{className:"site-form-item-icon"}),placeholder:m("login.emailOrUsername")})}),Object(I.jsx)(Ue.a.Item,{name:"password",rules:[{required:!0,message:m("login.pleaseInputPassword")}],children:Object(I.jsx)(Ne.a.Password,{prefix:Object(I.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:m("login.password")})}),Object(I.jsx)(Ue.a.Item,{name:"remember",valuePropName:"checked",style:{display:"inline-block",width:"calc(50%)"},children:Object(I.jsx)(Fe.a,{className:"login__remember",children:m("login.rememberMe")})}),Object(I.jsx)(Ue.a.Item,{name:"passwordRecover",style:{display:"inline-block",width:"calc(50%)",textAlign:"right"},children:Object(I.jsx)("span",{className:"login__recover link",onClick:function(){return u(!o)},children:m("login.recoverPassword").replace(/^\w/,(function(e){return e.toUpperCase()}))})}),Object(I.jsx)(Ue.a.Item,{children:Object(I.jsx)(ze.a,{type:"primary",htmlType:"submit",className:"login__formbutton",children:r?Object(I.jsx)(Be.a,{spin:!0}):m("login.logMeIn")})})]})})}),qe=r(314),Ke=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t},e.next=3,v()({url:"https://kinkograph.com/user/taken/",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return a=n.data.taken,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(h.a)(p.a.mark((function e(t,r,n,a,s,i){var c,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={query:"mutation ( $firstName: String, \n                       $lastName: String, \n                       $userName: String, \n                       $email: String, \n                       $password: String,\n                       $language: String ) {\n                addUser (\n                    userInput: { \n                        firstName: $firstName, \n                        lastName: $lastName,\n                        userName: $userName, \n                        email: $email, \n                        password: $password, \n                        language: $language,\n                        }\n                    ) {\n                    _id\n                    email\n                    }\n                }",variables:{firstName:t,lastName:r,userName:n,email:a,password:s,language:i}},o={"Content-Type":"application/json"},e.prev=2,e.next=5,v()({url:"https://kinkograph.com/graphql",method:"POST",data:c},{headers:o});case 5:return u=e.sent,e.abrupt("return",u.data);case 9:if(e.prev=9,e.t0=e.catch(2),401!==e.t0.response.status){e.next=13;break}throw new Error("Error! Unauthorized(401)");case 13:return e.abrupt("return",e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r,n,a,s,i){return e.apply(this,arguments)}}(),$e=(r(276),function(e){var t=Object(n.useState)(!1),r=Object(c.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(void 0),o=Object(c.a)(i,2),u=o[0],l=o[1],m=Object(n.useState)(void 0),f=Object(c.a)(m,2),b=f[0],j=f[1],g=Object(d.a)(),v=g.t,x=g.i18n.language.slice(0,2),O=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(r=t.target.value)){e.next=6;break}l("error"),j(null),e.next=12;break;case 6:return l("validating"),j(null),e.next=10,Ke(r);case 10:!0===(n=e.sent)?(l("error"),j(v("login.usernameIsAlreadyTaken"))):!1===n&&(r.includes(" ")?(l("error"),j(v("login.spacesinUsername"))):(a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,r.match(a)?(l("error"),j(v("login.usernameShouldNotBeAnEmail"))):(l("success"),j(null))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var t=Object(h.a)(p.a.mark((function t(r){var n,a,i,c,o,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),n=r.firstname,a=r.lastname,i=r.username,c=r.email.toLowerCase(),o=r.password,t.prev=6,t.next=9,Je(n,a,i,c,o,x);case 9:if((u=t.sent).errors){t.next=17;break}return t.next=13,Ye(c);case 13:se.a.success({message:v("login.pleaseConfirmEmail"),placement:"topLeft",className:"login__notification",duration:0}),e.setShowLogin(!0),t.next=18;break;case 17:se.a.error({message:u.errors[0].message,placement:"topLeft",className:"login__notification"});case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(6),se.a.error({message:t.t0.message,placement:"topLeft",className:"login__notification"}),console.log(t.t0);case 24:s(!1);case 25:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"signup__full",children:Object(I.jsxs)(Ue.a,{name:"form_signup",className:"signup__form",onFinish:w,children:[Object(I.jsx)(Ue.a.Item,{name:"firstname",style:{display:"inline-block",width:"calc(50% - 12px)"},rules:[{required:!0,message:v("login.firstNameMissing")}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(Re.a,{className:"site-form-item-icon"}),placeholder:v("login.firstName")})}),Object(I.jsx)("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}}),Object(I.jsx)(Ue.a.Item,{name:"lastname",style:{display:"inline-block",width:"calc(50% - 12px)"},rules:[{required:!0,message:v("login.lastNameMissing")}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(qe.a,{className:"site-form-item-icon"}),placeholder:v("login.lastName")})}),Object(I.jsx)(F.a,{trigger:["hover"],title:b?b===v("login.usernameIsAlreadyTaken")?v("login.alreadyTaken"):v("login.doNotUseSpaces"):null,placement:"left",children:Object(I.jsx)(Ue.a.Item,{name:"username",validateStatus:u,onChange:O,hasFeedback:!0,rules:[{required:!0,message:v("login.howShouldWeCallYou")},{validator:function(e,t){return t&&"error"===u?Promise.reject(new Error(b)):Promise.resolve()}}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(Re.a,{className:"site-form-item-icon"}),placeholder:v("login.pickUsername")})})}),Object(I.jsx)(Ue.a.Item,{name:"email",rules:[{type:"email",required:!0,message:v("login.pleaseInputEmail")}],children:Object(I.jsx)(Ne.a,{prefix:Object(I.jsx)(Me.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(I.jsx)(Ue.a.Item,{name:"password",rules:[{required:!0,message:v("login.pleaseInputYourPassword")}],children:Object(I.jsx)(Ne.a.Password,{prefix:Object(I.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:v("login.choosePassword")})}),Object(I.jsx)(Ue.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:v("login.pleaseConfirmYourPassword")},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error(v("login.passwordsDoNotMatch"))):Promise.resolve()}}}],children:Object(I.jsx)(Ne.a.Password,{prefix:Object(I.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:v("login.confirmYourPassword")})}),Object(I.jsx)(Ue.a.Item,{name:"agreement",valuePropName:"checked",rules:[{required:!0,message:v("login.pleaseAcceptTerms")}],children:Object(I.jsxs)(Fe.a,{className:"signup__terms",children:[v("login.creatingAccountMeans")," ",Object(I.jsx)("a",{className:"link",href:"/service",children:v("login.termsService")}),","," ",Object(I.jsx)("a",{className:"link",href:"/privacy",children:v("login.privacyPolicy")}),v("login.andDefault")," ",Object(I.jsx)("a",{className:"link",href:"/settings",children:v("login.notificationSettings")}),v("login.creatingAccountMeansAfter")]})}),Object(I.jsx)(Ue.a.Item,{children:Object(I.jsx)(ze.a,{type:"primary",htmlType:"submit",className:"signup__formbutton",children:a?Object(I.jsx)(Be.a,{spin:!0}):v("login.createAccount")})})]})})}),Ze=function(e){var t=Object(d.a)().t;return Object(I.jsx)("div",{classname:"login__alreadyMember",style:{paddingTop:"15px"},children:e.showSignUp?Object(I.jsxs)(I.Fragment,{children:[t("login.member"),"? \xa0",Object(I.jsx)("span",{className:"link",onClick:function(){return e.setShowSignUp(!e.showSignUp)},children:t("login.login")})]}):Object(I.jsxs)(I.Fragment,{children:[t("login.newHere"),"? \xa0",Object(I.jsx)("span",{className:"link",onClick:function(){return e.setShowSignUp(!e.showSignUp)},children:t("login.signUp")})]})})},Qe=(r(277),function(e){var t=Object(n.useState)(!1),r=Object(c.a)(t,2),a=r[0],s=r[1],i=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(t);case 3:200===(r=e.sent).status&&("guest"===r.data.userId?M.setIsGuest(!0):(M.setIsGuest(!1),q.fetchuserData()),M.setHasAccess(!0)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),se.a.error({message:e.t0.message,placement:"topLeft",className:"login__notification"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"login__container",children:e.loginWithCode?Object(I.jsx)(De,{login:i}):Object(I.jsxs)("div",{children:[a?Object(I.jsx)($e,{}):Object(I.jsx)(We,{}),Object(I.jsx)("div",{className:"login__alreadyMember",children:Object(I.jsx)(Ze,{setShowSignUp:s,showSignUp:a})})]})})})}),Xe=Object(l.a)((function(){var e=Object(n.useState)("upload"),t=Object(c.a)(e,2),r=t[0],a=t[1];return q.isAdmin?Object(I.jsxs)("div",{children:[Object(I.jsx)(Oe,{setDisplay:a}),"upload"===r&&Object(I.jsx)(xe,{}),"tag"===r&&Object(I.jsx)(Ie,{}),"user"===r&&Object(I.jsx)(ye,{}),"pic"===r&&Object(I.jsx)(Le,{})]}):Object(I.jsxs)("div",{className:"Uploader__noAccess",children:[Object(I.jsx)("div",{className:"App__title",children:"\xa0admin"}),Object(I.jsx)(Qe,{}),Object(I.jsx)("div",{className:"spacer"})]})})),et=(r(278),function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"startFooter__switchLoginType",onClick:function(){e.setLoginWithCode(!e.loginWithCode)},children:Object(I.jsx)(F.a,{title:e.loginWithCode?"Use an account":"Use a code",children:e.loginWithCode?Object(I.jsx)(Re.a,{}):Object(I.jsx)(V.a,{})})}),Object(I.jsx)(F.a,{title:"About",children:Object(I.jsx)(o.b,{className:"startFooter__infoLink",to:"info",children:Object(I.jsx)(ue.a,{})})})]})}),tt=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={token:t},e.next=3,v()({url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://kinkograph.com",REACT_APP_API_URL_UPLOAD:"https://kinkograph.com/pictures"}).API_URL+"/user/emailverified",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return e.abrupt("return",n.data.emailVerified);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=r(293),nt=r(295),at=r(162),st=(r(279),function(){var e=Object(d.a)().i18n,t=e.language.slice(-2),r=Object(n.useState)("US"===t?"EN":t),a=Object(c.a)(r,2),s=a[0],i=a[1],o=function(t){"en"===t?(e.changeLanguage("en-US"),i("EN")):"fr"===t?(e.changeLanguage("fr-FR"),i("FR")):"de"===t&&(e.changeLanguage("de-DE"),i("DE"))},u=Object(I.jsxs)(rt.a,{children:[Object(I.jsx)(rt.a.Item,{onClick:function(){o("en")},children:Object(I.jsx)("div",{className:"languageDropdown__item",children:"EN"})}),Object(I.jsx)(rt.a.Item,{onClick:function(){o("de")},children:Object(I.jsx)("div",{className:"languageDropdown__item",children:"DE"})}),Object(I.jsx)(rt.a.Item,{onClick:function(){o("fr")},children:Object(I.jsx)("div",{className:"languageDropdown__item",children:"FR"})})]});return Object(I.jsx)("div",{className:"languageDropdown",children:Object(I.jsx)(nt.a,{overlay:u,trigger:"click",children:Object(I.jsxs)("a",{className:"ant-dropdown-link",onClick:function(e){e.preventDefault()},children:[s,Object(I.jsx)(at.a,{})]})})})}),it=(r(282),function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),o=i[0],l=i[1],m=Object(d.a)().t,b=Object(u.f)(),j=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(b.verifyCode);case 2:e.sent&&(l(!0),setTimeout((function(){document.location.href="/"}),1e4)),a(!1);case 5:case"end":return e.stop()}}),e)}))),[b.verifyCode]);return Object(n.useEffect)((function(){j()}),[j]),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"emailVerified__leftPanel",children:Object(I.jsx)(st,{})}),Object(I.jsx)("div",{className:"emailVerified__rightPanel",children:Object(I.jsx)("div",{className:"emailVerified__container",children:r?Object(I.jsx)(f.a,{className:"emailVerified__loader"}):o?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("strong",{children:m("login.emailVerified")})," ",Object(I.jsx)("br",{}),m("login.welcomeInOurCommunity"),"!",Object(I.jsx)("br",{}),m("login.goAheadAndLogin"),".",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"emailVerified__link",children:[m("login.redirectedToThe")," ",Object(I.jsxs)("span",{className:"link",onClick:function(){document.location.href="/"},children:[" ",m("login.loginPage"),"."]}),"."]})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("strong",{children:[m("login.emailNotVerified"),"!"]}),Object(I.jsx)("br",{}),m("login.somethingWrongEmail"),"!",Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"emailVerified__link",children:[m("login.whatCanYouDo"),Object(I.jsxs)("span",{className:"link",onClick:function(){document.location.href="/"},children:[" ",m("login.loginPage")]}),", ",m("login.requestNewLink"),"."]})]})})})]})}),ct=function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={token:t},e.next=3,v()({url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://kinkograph.com",REACT_APP_API_URL_UPLOAD:"https://kinkograph.com/pictures"}).API_URL+"/user/validtoken",method:"POST",data:r});case 3:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=10;break}if(401!==n.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(n.status));case 10:return a=n.data.valid,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:t,password:r},e.next=3,v()({url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://kinkograph.com",REACT_APP_API_URL_UPLOAD:"https://kinkograph.com/pictures"}).API_URL+"/user/changepassword",method:"POST",data:n});case 3:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=10;break}if(401!==a.status){e.next=9;break}throw new Error("Error! Unauthorized(401)");case 9:throw new Error("Error! Status ".concat(a.status));case 10:return s=a.data.changed,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ut=(r(283),function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(c.a)(s,2),o=i[0],l=i[1],m=Object(d.a)().t,f=Object(u.f)().key,b=function(){var e=Object(h.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),r=t.password,e.prev=2,e.next=5,ot(f,r);case 5:!0===e.sent?(se.a.success({message:m("login.passwordReseted"),placement:"topLeft"}),setTimeout((function(){document.location.href="/"}),3e3)):se.a.warn({message:m("login.passwordNotChanged"),placement:"topLeft"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),se.a.warn({message:e.t0.message,placement:"topLeft"}),console.log(e.t0);case 13:a(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=Object(n.useCallback)(Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(f);case 2:e.sent||(l(!1),se.a.error({message:m("login.linkNotValid"),placement:"topLeft",duration:0}));case 4:case"end":return e.stop()}}),e)}))),[f]);return Object(n.useEffect)((function(){j()}),[j]),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"newPassword__leftPanel"}),Object(I.jsx)("div",{className:"newPassword__rightPanel",children:Object(I.jsxs)("div",{className:"signup__full",children:[Object(I.jsx)("div",{className:"signup__header",children:m("login.setNewPassword")}),Object(I.jsxs)(Ue.a,{name:"form_signup",className:"signup__form",initialValues:{remember:!0},onFinish:b,children:[Object(I.jsx)(Ue.a.Item,{name:"password",rules:[{required:!0,message:m("login.pleaseInputNewPassword")}],children:Object(I.jsx)(Ne.a.Password,{prefix:Object(I.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:m("login.chooseNewPassword")})}),Object(I.jsx)(Ue.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:m("login.pleaseInputNewPassword")},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error(m("login.passwordDoNotMatch"))):Promise.resolve()}}}],children:Object(I.jsx)(Ne.a.Password,{prefix:Object(I.jsx)(Y.a,{className:"site-form-item-icon"}),placeholder:m("login.pleaseConfirmNewPassword")})}),Object(I.jsx)(Ue.a.Item,{children:Object(I.jsx)(ze.a,{type:"primary",htmlType:"submit",className:"signup__formbutton",disabled:!o,children:r?Object(I.jsx)(Be.a,{spin:!0}):m(o?"login.updatePassword":"login.linkNotValidAnymore")})})]})]})})]})}),lt=r(122),dt=r(87),mt=r(154),pt=r(284),ht=r(285),ft=r(286);lt.a.use(mt.a).use(dt.e).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:pt},de:{translation:ht},fr:{translation:ft}}});lt.a,r(287);var bt=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};window.addEventListener("resize",bt);var jt=Object(l.a)((function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(d.a)().i18n;return Object(n.useLayoutEffect)((function(){bt()}),[]),Object(n.useEffect)((function(){"fr"===q.language?s.changeLanguage("fr-FR"):"de"===q.language?s.changeLanguage("de-DE"):s.changeLanguage("en-US")}),[s]),Object(I.jsx)(o.a,{children:Object(I.jsx)("div",{className:"App",children:Object(I.jsx)("div",{className:"App__main",children:Object(I.jsxs)(u.c,{children:[Object(I.jsx)(u.a,{path:"recoverpwd/:key",element:Object(I.jsx)(ut,{})}),Object(I.jsx)(u.a,{path:"emailverify/:verifyCode",element:Object(I.jsx)(it,{})}),Object(I.jsx)(u.a,{path:"/admin",children:Object(I.jsx)(Xe,{})}),Object(I.jsx)(u.a,{path:"/info",children:Object(I.jsx)(re,{})}),Object(I.jsx)(u.a,{path:"/:key",children:Object(I.jsx)(ee,{})}),Object(I.jsx)(u.a,{path:"/",children:Object(I.jsx)("div",{className:"App__flex",children:M.hasAccess?Object(I.jsx)(Q,{}):Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)("div",{className:"App__title",children:"\xa0kinkograph"}),Object(I.jsx)(Qe,{loginWithCode:r}),Object(I.jsx)("div",{className:"spacer"}),Object(I.jsx)(et,{loginWithCode:r,setLoginWithCode:a})]})})})]})})})})})),gt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,315)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(jt,{})}),document.getElementById("root")),gt()}},[[288,1,2]]]);
//# sourceMappingURL=main.f5facb80.chunk.js.map